(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function cw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sg={exports:{}},wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function I2(){if($E)return wu;$E=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return wu.Fragment=t,wu.jsx=e,wu.jsxs=e,wu}var QE;function x2(){return QE||(QE=1,sg.exports=I2()),sg.exports}var S=x2(),rg={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function D2(){if(XE)return wt;XE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,x={};function L(U,et,lt){this.props=U,this.context=et,this.refs=x,this.updater=lt||D}L.prototype.isReactComponent={},L.prototype.setState=function(U,et){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,et,"setState")},L.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function G(){}G.prototype=L.prototype;function B(U,et,lt){this.props=U,this.context=et,this.refs=x,this.updater=lt||D}var tt=B.prototype=new G;tt.constructor=B,k(tt,L.prototype),tt.isPureReactComponent=!0;var st=Array.isArray;function ot(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(U,et,lt){var pt=lt.ref;return{$$typeof:n,type:U,key:et,ref:pt!==void 0?pt:null,props:lt}}function M(U,et){return I(U.type,et,U.props)}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function H(U){var et={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(lt){return et[lt]})}var P=/\/+/g;function de(U,et){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):et.toString(36)}function Ae(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ot,ot):(U.status="pending",U.then(function(et){U.status==="pending"&&(U.status="fulfilled",U.value=et)},function(et){U.status==="pending"&&(U.status="rejected",U.reason=et)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Z(U,et,lt,pt,St){var xt=typeof U;(xt==="undefined"||xt==="boolean")&&(U=null);var Ut=!1;if(U===null)Ut=!0;else switch(xt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(U.$$typeof){case n:case t:Ut=!0;break;case y:return Ut=U._init,Z(Ut(U._payload),et,lt,pt,St)}}if(Ut)return St=St(U),Ut=pt===""?"."+de(U,0):pt,st(St)?(lt="",Ut!=null&&(lt=Ut.replace(P,"$&/")+"/"),Z(St,et,lt,"",function(Ri){return Ri})):St!=null&&(z(St)&&(St=M(St,lt+(St.key==null||U&&U.key===St.key?"":(""+St.key).replace(P,"$&/")+"/")+Ut)),et.push(St)),1;Ut=0;var Ke=pt===""?".":pt+":";if(st(U))for(var ue=0;ue<U.length;ue++)pt=U[ue],xt=Ke+de(pt,ue),Ut+=Z(pt,et,lt,xt,St);else if(ue=w(U),typeof ue=="function")for(U=ue.call(U),ue=0;!(pt=U.next()).done;)pt=pt.value,xt=Ke+de(pt,ue++),Ut+=Z(pt,et,lt,xt,St);else if(xt==="object"){if(typeof U.then=="function")return Z(Ae(U),et,lt,pt,St);throw et=String(U),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function at(U,et,lt){if(U==null)return U;var pt=[],St=0;return Z(U,pt,"","",function(xt){return et.call(lt,xt,St++)}),pt}function dt(U){if(U._status===-1){var et=U._result;et=et(),et.then(function(lt){(U._status===0||U._status===-1)&&(U._status=1,U._result=lt)},function(lt){(U._status===0||U._status===-1)&&(U._status=2,U._result=lt)}),U._status===-1&&(U._status=0,U._result=et)}if(U._status===1)return U._result.default;throw U._result}var It=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Vt={map:at,forEach:function(U,et,lt){at(U,function(){et.apply(this,arguments)},lt)},count:function(U){var et=0;return at(U,function(){et++}),et},toArray:function(U){return at(U,function(et){return et})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return wt.Activity=_,wt.Children=Vt,wt.Component=L,wt.Fragment=e,wt.Profiler=a,wt.PureComponent=B,wt.StrictMode=s,wt.Suspense=m,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,wt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},wt.cache=function(U){return function(){return U.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(U,et,lt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var pt=k({},U.props),St=U.key;if(et!=null)for(xt in et.key!==void 0&&(St=""+et.key),et)!C.call(et,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&et.ref===void 0||(pt[xt]=et[xt]);var xt=arguments.length-2;if(xt===1)pt.children=lt;else if(1<xt){for(var Ut=Array(xt),Ke=0;Ke<xt;Ke++)Ut[Ke]=arguments[Ke+2];pt.children=Ut}return I(U.type,St,pt)},wt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},wt.createElement=function(U,et,lt){var pt,St={},xt=null;if(et!=null)for(pt in et.key!==void 0&&(xt=""+et.key),et)C.call(et,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(St[pt]=et[pt]);var Ut=arguments.length-2;if(Ut===1)St.children=lt;else if(1<Ut){for(var Ke=Array(Ut),ue=0;ue<Ut;ue++)Ke[ue]=arguments[ue+2];St.children=Ke}if(U&&U.defaultProps)for(pt in Ut=U.defaultProps,Ut)St[pt]===void 0&&(St[pt]=Ut[pt]);return I(U,xt,St)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(U){return{$$typeof:f,render:U}},wt.isValidElement=z,wt.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:dt}},wt.memo=function(U,et){return{$$typeof:p,type:U,compare:et===void 0?null:et}},wt.startTransition=function(U){var et=N.T,lt={};N.T=lt;try{var pt=U(),St=N.S;St!==null&&St(lt,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(ot,It)}catch(xt){It(xt)}finally{et!==null&&lt.types!==null&&(et.types=lt.types),N.T=et}},wt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},wt.use=function(U){return N.H.use(U)},wt.useActionState=function(U,et,lt){return N.H.useActionState(U,et,lt)},wt.useCallback=function(U,et){return N.H.useCallback(U,et)},wt.useContext=function(U){return N.H.useContext(U)},wt.useDebugValue=function(){},wt.useDeferredValue=function(U,et){return N.H.useDeferredValue(U,et)},wt.useEffect=function(U,et){return N.H.useEffect(U,et)},wt.useEffectEvent=function(U){return N.H.useEffectEvent(U)},wt.useId=function(){return N.H.useId()},wt.useImperativeHandle=function(U,et,lt){return N.H.useImperativeHandle(U,et,lt)},wt.useInsertionEffect=function(U,et){return N.H.useInsertionEffect(U,et)},wt.useLayoutEffect=function(U,et){return N.H.useLayoutEffect(U,et)},wt.useMemo=function(U,et){return N.H.useMemo(U,et)},wt.useOptimistic=function(U,et){return N.H.useOptimistic(U,et)},wt.useReducer=function(U,et,lt){return N.H.useReducer(U,et,lt)},wt.useRef=function(U){return N.H.useRef(U)},wt.useState=function(U){return N.H.useState(U)},wt.useSyncExternalStore=function(U,et,lt){return N.H.useSyncExternalStore(U,et,lt)},wt.useTransition=function(){return N.H.useTransition()},wt.version="19.2.4",wt}var WE;function zy(){return WE||(WE=1,rg.exports=D2()),rg.exports}var V=zy();const N2=cw(V);var ag={exports:{}},Ru={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function V2(){return ZE||(ZE=1,(function(n){function t(Z,at){var dt=Z.length;Z.push(at);t:for(;0<dt;){var It=dt-1>>>1,Vt=Z[It];if(0<a(Vt,at))Z[It]=at,Z[dt]=Vt,dt=It;else break t}}function e(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var at=Z[0],dt=Z.pop();if(dt!==at){Z[0]=dt;t:for(var It=0,Vt=Z.length,U=Vt>>>1;It<U;){var et=2*(It+1)-1,lt=Z[et],pt=et+1,St=Z[pt];if(0>a(lt,dt))pt<Vt&&0>a(St,lt)?(Z[It]=St,Z[pt]=dt,It=pt):(Z[It]=lt,Z[et]=dt,It=et);else if(pt<Vt&&0>a(St,dt))Z[It]=St,Z[pt]=dt,It=pt;else break t}}return at}function a(Z,at){var dt=Z.sortIndex-at.sortIndex;return dt!==0?dt:Z.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,T=3,w=!1,D=!1,k=!1,x=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function tt(Z){for(var at=e(p);at!==null;){if(at.callback===null)s(p);else if(at.startTime<=Z)s(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=e(p)}}function st(Z){if(k=!1,tt(Z),!D)if(e(m)!==null)D=!0,ot||(ot=!0,H());else{var at=e(p);at!==null&&Ae(st,at.startTime-Z)}}var ot=!1,N=-1,C=5,I=-1;function M(){return x?!0:!(n.unstable_now()-I<C)}function z(){if(x=!1,ot){var Z=n.unstable_now();I=Z;var at=!0;try{t:{D=!1,k&&(k=!1,G(N),N=-1),w=!0;var dt=T;try{e:{for(tt(Z),_=e(m);_!==null&&!(_.expirationTime>Z&&M());){var It=_.callback;if(typeof It=="function"){_.callback=null,T=_.priorityLevel;var Vt=It(_.expirationTime<=Z);if(Z=n.unstable_now(),typeof Vt=="function"){_.callback=Vt,tt(Z),at=!0;break e}_===e(m)&&s(m),tt(Z)}else s(m);_=e(m)}if(_!==null)at=!0;else{var U=e(p);U!==null&&Ae(st,U.startTime-Z),at=!1}}break t}finally{_=null,T=dt,w=!1}at=void 0}}finally{at?H():ot=!1}}}var H;if(typeof B=="function")H=function(){B(z)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,de=P.port2;P.port1.onmessage=z,H=function(){de.postMessage(null)}}else H=function(){L(z,0)};function Ae(Z,at){N=L(function(){Z(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var at=3;break;default:at=T}var dt=T;T=at;try{return Z()}finally{T=dt}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(Z,at){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var dt=T;T=Z;try{return at()}finally{T=dt}},n.unstable_scheduleCallback=function(Z,at,dt){var It=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,Z){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=dt+Vt,Z={id:y++,callback:at,priorityLevel:Z,startTime:dt,expirationTime:Vt,sortIndex:-1},dt>It?(Z.sortIndex=dt,t(p,Z),e(m)===null&&Z===e(p)&&(k?(G(N),N=-1):k=!0,Ae(st,dt-It))):(Z.sortIndex=Vt,t(m,Z),D||w||(D=!0,ot||(ot=!0,H()))),Z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(Z){var at=T;return function(){var dt=T;T=at;try{return Z.apply(this,arguments)}finally{T=dt}}}})(lg)),lg}var JE;function M2(){return JE||(JE=1,og.exports=V2()),og.exports}var ug={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function O2(){if(tb)return on;tb=1;var n=zy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},on.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},on.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},on.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},on.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:w}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:T,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},on.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},on.requestFormReset=function(m){s.d.r(m)},on.unstable_batchedUpdates=function(m,p){return m(p)},on.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.2.4",on}var eb;function P2(){if(eb)return ug.exports;eb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ug.exports=O2(),ug.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function k2(){if(nb)return Ru;nb=1;var n=M2(),t=zy(),e=P2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,A=d.child;A;){if(A===o){E=!0,o=d,u=g;break}if(A===u){E=!0,u=d,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,u=d;break}if(A===u){E=!0,u=g,o=d;break}A=A.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case L:return"Profiler";case x:return"StrictMode";case st:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case B:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case tt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:de(i.type)||"Memo";case C:r=i._payload,i=i._init;try{return de(i(r))}catch{}}return null}var Ae=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],Vt=-1;function U(i){return{current:i}}function et(i){0>Vt||(i.current=It[Vt],It[Vt]=null,Vt--)}function lt(i,r){Vt++,It[Vt]=i.current,i.current=r}var pt=U(null),St=U(null),xt=U(null),Ut=U(null);function Ke(i,r){switch(lt(xt,r),lt(St,i),lt(pt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?yE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=yE(r),i=vE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}et(pt),lt(pt,i)}function ue(){et(pt),et(St),et(xt)}function Ri(i){i.memoizedState!==null&&lt(Ut,i);var r=pt.current,o=vE(r,i.type);r!==o&&(lt(St,i),lt(pt,o))}function Wi(i){St.current===i&&(et(pt),et(St)),Ut.current===i&&(et(Ut),Eu._currentValue=dt)}var Zr,$a;function ci(i){if(Zr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Zr=r&&r[1]||"",$a=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+i+$a}var Jr=!1;function Qa(i,r){if(!i||Jr)return"";Jr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Q){var $=Q}Reflect.construct(i,[],it)}else{try{it.call()}catch(Q){$=Q}i.call(it.prototype)}}else{try{throw Error()}catch(Q){$=Q}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var O=E.split(`
`),Y=A.split(`
`);for(d=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===O.length||d===Y.length)for(u=O.length-1,d=Y.length-1;1<=u&&0<=d&&O[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(O[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||O[u]!==Y[d]){var W=`
`+O[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=d);break}}}finally{Jr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ci(o):""}function em(i,r){switch(i.tag){case 26:case 27:case 5:return ci(i.type);case 16:return ci("Lazy");case 13:return i.child!==r&&r!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Qa(i.type,!1);case 11:return Qa(i.type.render,!1);case 1:return Qa(i.type,!0);case 31:return ci("Activity");default:return""}}function Hc(i){try{var r="",o=null;do r+=em(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Xa=Object.prototype.hasOwnProperty,ta=n.unstable_scheduleCallback,Wa=n.unstable_cancelCallback,nm=n.unstable_shouldYield,Al=n.unstable_requestPaint,Ye=n.unstable_now,qc=n.unstable_getCurrentPriorityLevel,Pe=n.unstable_ImmediatePriority,Ue=n.unstable_UserBlockingPriority,Zi=n.unstable_NormalPriority,Gc=n.unstable_LowPriority,wl=n.unstable_IdlePriority,im=n.log,ea=n.unstable_setDisableYieldValue,Ls=null,rn=null;function $n(i){if(typeof im=="function"&&ea(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Ls,i)}catch{}}var dn=Math.clz32?Math.clz32:Kc,sm=Math.log,Rl=Math.LN2;function Kc(i){return i>>>=0,i===0?32:31-(sm(i)/Rl|0)|0}var na=256,Ci=262144,js=4194304;function hi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qn(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?d=hi(u):(E&=A,E!==0?d=hi(E):o||(o=A&~i,o!==0&&(d=hi(o))))):(A=u&~g,A!==0?d=hi(A):E!==0?d=hi(E):o||(o=u&~i,o!==0&&(d=hi(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function Us(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Za(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var i=js;return js<<=1,(js&62914560)===0&&(js=4194304),i}function Ji(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function zs(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $e(i,r,o,u,d,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,O=i.expirationTimes,Y=i.hiddenUpdates;for(o=E&~o;0<o;){var W=31-dn(o),it=1<<W;A[W]=0,O[W]=-1;var $=Y[W];if($!==null)for(Y[W]=null,W=0;W<$.length;W++){var Q=$[W];Q!==null&&(Q.lane&=-536870913)}o&=~it}u!==0&&Il(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~r))}function Il(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-dn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Bs(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-dn(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Fs(i,r){var o=r&-r;return o=(o&42)!==0?1:xl(o),(o&(i.suspendedLanes|r))!==0?0:o}function xl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Dl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ts(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:BE(i.type))}function Yc(i,r){var o=at.p;try{return at.p=i,r()}finally{at.p=o}}var Ii=Math.random().toString(36).slice(2),me="__reactFiber$"+Ii,Qe="__reactProps$"+Ii,xi="__reactContainer$"+Ii,Hs="__reactEvents$"+Ii,Di="__reactListeners$"+Ii,$c="__reactHandles$"+Ii,Nl="__reactResources$"+Ii,es="__reactMarker$"+Ii;function ia(i){delete i[me],delete i[Qe],delete i[Hs],delete i[Di],delete i[$c]}function ns(i){var r=i[me];if(r)return r;for(var o=i.parentNode;o;){if(r=o[xi]||o[me]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=wE(i);i!==null;){if(o=i[me])return o;i=wE(i)}return r}i=o,o=i.parentNode}return null}function is(i){if(i=i[me]||i[xi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function sa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function fi(i){var r=i[Nl];return r||(r=i[Nl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Te(i){i[es]=!0}var Ja=new Set,qs={};function mn(i,r){Ni(i,r),Ni(i+"Capture",r)}function Ni(i,r){for(qs[i]=r,i=0;i<r.length;i++)Ja.add(r[i])}var rm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},Ml={};function Qc(i){return Xa.call(Ml,i)?!0:Xa.call(Vl,i)?!1:rm.test(i)?Ml[i]=!0:(Vl[i]=!0,!1)}function Gs(i,r,o){if(Qc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Ks(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Xn(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xc(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function am(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function to(i){if(!i._valueTracker){var r=Xc(i)?"checked":"value";i._valueTracker=am(i,r,""+i[r])}}function Ol(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=Xc(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function eo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ss=/[\n"\\]/g;function pe(i){return i.replace(ss,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ys(i,r,o,u,d,g,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+pn(r)):i.value!==""+pn(r)&&(i.value=""+pn(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?no(i,E,pn(r)):o!=null?no(i,E,pn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+pn(A):i.removeAttribute("name")}function ra(i,r,o,u,d,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){to(i);return}o=o!=null?""+pn(o):"",r=r!=null?""+pn(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),to(i)}function no(i,r,o){r==="number"&&eo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ht(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+pn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function aa(i,r,o){if(r!=null&&(r=""+pn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+pn(o):""}function $s(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ae(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=pn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),to(i)}function Wn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var om=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||om.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Wc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Pl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Pl(i,g,r[g])}function kl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(i){return um.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ze(){}var io=null;function so(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rs=null,Mn=null;function Zc(i){var r=is(i);if(r&&(i=r.stateNode)){var o=i[Qe]||null;t:switch(i=r.stateNode,r.type){case"input":if(Ys(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pe(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Qe]||null;if(!d)throw Error(s(90));Ys(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Ol(u)}break t;case"textarea":aa(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ht(i,!!o.multiple,r,!1)}}}var Ll=!1;function Jc(i,r,o){if(Ll)return i(r,o);Ll=!0;try{var u=i(r);return u}finally{if(Ll=!1,(rs!==null||Mn!==null)&&(Qh(),rs&&(r=rs,i=Mn,Mn=rs=null,Zc(r),i)))for(r=0;r<i.length;r++)Zc(i[r])}}function bn(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Qe]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=!1;if(di)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){jl=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{jl=!1}var On=null,ro=null,Oi=null;function Qs(){if(Oi)return Oi;var i,r=ro,o=r.length,u,d="value"in On?On.value:On.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===d[g-u];u++);return Oi=d.slice(i,1<u?1-u:void 0)}function oa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Xs(){return!0}function ne(){return!1}function an(i){function r(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xs:ne,this.isPropagationStopped=ne,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),r}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=an(as),Ws=_({},as,{view:0,detail:0}),th=an(Ws),Zs,ao,gn,ua=_({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gn&&(gn&&i.type==="mousemove"?(Zs=i.screenX-gn.screenX,ao=i.screenY-gn.screenY):ao=Zs=0,gn=i),Zs)},movementY:function(i){return"movementY"in i?i.movementY:ao}}),eh=an(ua),ca=_({},ua,{dataTransfer:0}),nh=an(ca),Ul=_({},Ws,{relatedTarget:0}),Js=an(Ul),ih=_({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),oo=an(ih),cm=_({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sh=an(cm),ha=_({},as,{data:0}),zl=an(ha),rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Fl[i])?!!r[i]:!1}function tr(){return ah}var oh=_({},Ws,{key:function(i){if(i.key){var r=rh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),lh=an(oh),os=_({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hl=an(os),uh=_({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),ch=an(uh),hh=_({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),lo=an(hh),yn=_({},ua,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fh=an(yn),dh=_({},as,{newState:0,oldState:0}),er=an(dh),h=[9,13,27,32],v=di&&"CompositionEvent"in window,b=null;di&&"documentMode"in document&&(b=document.documentMode);var R=di&&"TextEvent"in window&&!b,q=di&&(!v||b&&8<b&&11>=b),X=" ",ut=!1;function Yt(i,r){switch(i){case"keyup":return h.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Dt=!1;function Be(i,r){switch(i){case"compositionend":return we(r);case"keypress":return r.which!==32?null:(ut=!0,X);case"textInput":return i=r.data,i===X&&ut?null:i;default:return null}}function Fe(i,r){if(Dt)return i==="compositionend"||!v&&Yt(i,r)?(i=Qs(),Oi=ro=On=null,Dt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return q&&r.locale!=="ko"?null:r.data;default:return null}}var nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sn(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!nr[i.type]:r==="textarea"}function fa(i,r,o,u){rs?Mn?Mn.push(u):Mn=[u]:rs=u,r=nf(r,"onChange"),0<r.length&&(o=new la("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var ls=null,ql=null;function ex(i){hE(i,0)}function mh(i){var r=sa(i);if(Ol(r))return i}function D_(i,r){if(i==="change")return r}var N_=!1;if(di){var hm;if(di){var fm="oninput"in document;if(!fm){var V_=document.createElement("div");V_.setAttribute("oninput","return;"),fm=typeof V_.oninput=="function"}hm=fm}else hm=!1;N_=hm&&(!document.documentMode||9<document.documentMode)}function M_(){ls&&(ls.detachEvent("onpropertychange",O_),ql=ls=null)}function O_(i){if(i.propertyName==="value"&&mh(ql)){var r=[];fa(r,ql,i,so(i)),Jc(ex,r)}}function nx(i,r,o){i==="focusin"?(M_(),ls=r,ql=o,ls.attachEvent("onpropertychange",O_)):i==="focusout"&&M_()}function ix(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return mh(ql)}function sx(i,r){if(i==="click")return mh(r)}function rx(i,r){if(i==="input"||i==="change")return mh(r)}function ax(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Pn=typeof Object.is=="function"?Object.is:ax;function Gl(i,r){if(Pn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Xa.call(r,d)||!Pn(i[d],r[d]))return!1}return!0}function P_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function k_(i,r){var o=P_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=P_(o)}}function L_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?L_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function j_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=eo(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=eo(i.document)}return r}function dm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ox=di&&"documentMode"in document&&11>=document.documentMode,uo=null,mm=null,Kl=null,pm=!1;function U_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pm||uo==null||uo!==eo(u)||(u=uo,"selectionStart"in u&&dm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Kl&&Gl(Kl,u)||(Kl=u,u=nf(mm,"onSelect"),0<u.length&&(r=new la("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=uo)))}function da(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var co={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},gm={},z_={};di&&(z_=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ma(i){if(gm[i])return gm[i];if(!co[i])return i;var r=co[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in z_)return gm[i]=r[o];return i}var B_=ma("animationend"),F_=ma("animationiteration"),H_=ma("animationstart"),lx=ma("transitionrun"),ux=ma("transitionstart"),cx=ma("transitioncancel"),q_=ma("transitionend"),G_=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function mi(i,r){G_.set(i,r),mn(r,[i])}var ph=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Zn=[],ho=0,vm=0;function gh(){for(var i=ho,r=vm=ho=0;r<i;){var o=Zn[r];Zn[r++]=null;var u=Zn[r];Zn[r++]=null;var d=Zn[r];Zn[r++]=null;var g=Zn[r];if(Zn[r++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&K_(o,d,g)}}function yh(i,r,o,u){Zn[ho++]=i,Zn[ho++]=r,Zn[ho++]=o,Zn[ho++]=u,vm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function _m(i,r,o,u){return yh(i,r,o,u),vh(i)}function pa(i,r){return yh(i,null,null,r),vh(i)}function K_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-dn(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function vh(i){if(50<mu)throw mu=0,Ip=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var fo={};function hx(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,r,o,u){return new hx(i,r,o,u)}function Tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,r){var o=i.alternate;return o===null?(o=kn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Y_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function _h(i,r,o,u,d,g){var E=0;if(u=i,typeof i=="function")Tm(i)&&(E=1);else if(typeof i=="string")E=g2(i,o,pt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=kn(31,o,r,d),i.elementType=I,i.lanes=g,i;case k:return ga(o.children,d,g,r);case x:E=8,d|=24;break;case L:return i=kn(12,o,r,d|2),i.elementType=L,i.lanes=g,i;case st:return i=kn(13,o,r,d),i.elementType=st,i.lanes=g,i;case ot:return i=kn(19,o,r,d),i.elementType=ot,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:E=10;break t;case G:E=9;break t;case tt:E=11;break t;case N:E=14;break t;case C:E=16,u=null;break t}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=kn(E,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function ga(i,r,o,u){return i=kn(7,i,u,r),i.lanes=o,i}function Em(i,r,o){return i=kn(6,i,null,r),i.lanes=o,i}function $_(i){var r=kn(18,null,null,0);return r.stateNode=i,r}function bm(i,r,o){return r=kn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Q_=new WeakMap;function Jn(i,r){if(typeof i=="object"&&i!==null){var o=Q_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Hc(r)},Q_.set(i,r),r)}return{value:i,source:r,stack:Hc(r)}}var mo=[],po=0,Th=null,Yl=0,ti=[],ei=0,ir=null,Pi=1,ki="";function cs(i,r){mo[po++]=Yl,mo[po++]=Th,Th=i,Yl=r}function X_(i,r,o){ti[ei++]=Pi,ti[ei++]=ki,ti[ei++]=ir,ir=i;var u=Pi;i=ki;var d=32-dn(u)-1;u&=~(1<<d),o+=1;var g=32-dn(r)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,Pi=1<<32-dn(r)+d|o<<d|u,ki=g+i}else Pi=1<<g|o<<d|u,ki=i}function Sm(i){i.return!==null&&(cs(i,1),X_(i,1,0))}function Am(i){for(;i===Th;)Th=mo[--po],mo[po]=null,Yl=mo[--po],mo[po]=null;for(;i===ir;)ir=ti[--ei],ti[ei]=null,ki=ti[--ei],ti[ei]=null,Pi=ti[--ei],ti[ei]=null}function W_(i,r){ti[ei++]=Pi,ti[ei++]=ki,ti[ei++]=ir,Pi=r.id,ki=r.overflow,ir=i}var Xe=null,ie=null,zt=!1,sr=null,ni=!1,wm=Error(s(519));function rr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Jn(r,i)),wm}function Z_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[me]=i,r[Qe]=u,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<gu.length;o++)Ot(gu[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),ra(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),$s(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||pE(r.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=ze),r=!0):r=!1,r||rr(i,!0)}function J_(i){for(Xe=i.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Xe=Xe.return}}function go(i){if(i!==Xe)return!1;if(!zt)return J_(i),zt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Hp(i.type,i.memoizedProps)),o=!o),o&&ie&&rr(i),J_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=AE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=AE(i)}else r===27?(r=ie,_r(i.type)?(i=$p,$p=null,ie=i):ie=r):ie=Xe?si(i.stateNode.nextSibling):null;return!0}function ya(){ie=Xe=null,zt=!1}function Rm(){var i=sr;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),sr=null),i}function $l(i){sr===null?sr=[i]:sr.push(i)}var Cm=U(null),va=null,hs=null;function ar(i,r,o){lt(Cm,r._currentValue),r._currentValue=o}function fs(i){i._currentValue=Cm.current,et(Cm)}function Im(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function xm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=d;for(var O=0;O<r.length;O++)if(A.context===r[O]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Im(g.return,o,i),u||(E=null);break t}g=A.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Im(E,o,i),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===i){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function yo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=d.type;Pn(d.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(d===Ut.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Eu):i=[Eu])}d=d.return}i!==null&&xm(r,i,o,u),r.flags|=262144}function Eh(i){for(i=i.firstContext;i!==null;){if(!Pn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function _a(i){va=i,hs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function We(i){return t0(va,i)}function bh(i,r){return va===null&&_a(i),t0(i,r)}function t0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},hs===null){if(i===null)throw Error(s(308));hs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else hs=hs.next=r;return o}var fx=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},dx=n.unstable_scheduleCallback,mx=n.unstable_NormalPriority,Re={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new fx,data:new Map,refCount:0}}function Ql(i){i.refCount--,i.refCount===0&&dx(mx,function(){i.controller.abort()})}var Xl=null,Nm=0,vo=0,_o=null;function px(i,r){if(Xl===null){var o=Xl=[];Nm=0,vo=Op(),_o={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nm++,r.then(e0,e0),r}function e0(){if(--Nm===0&&Xl!==null){_o!==null&&(_o.status="fulfilled");var i=Xl;Xl=null,vo=0,_o=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function gx(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var n0=Z.S;Z.S=function(i,r){UT=Ye(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&px(i,r),n0!==null&&n0(i,r)};var Ta=U(null);function Vm(){var i=Ta.current;return i!==null?i:te.pooledCache}function Sh(i,r){r===null?lt(Ta,Ta.current):lt(Ta,r.pool)}function i0(){var i=Vm();return i===null?null:{parent:Re._currentValue,pool:i}}var To=Error(s(460)),Mm=Error(s(474)),Ah=Error(s(542)),wh={then:function(){}};function s0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function r0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ze,ze),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,o0(i),i;default:if(typeof r.status=="string")r.then(ze,ze);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,o0(i),i}throw ba=r,To}}function Ea(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ba=o,To):o}}var ba=null;function a0(){if(ba===null)throw Error(s(459));var i=ba;return ba=null,i}function o0(i){if(i===To||i===Ah)throw Error(s(483))}var Eo=null,Wl=0;function Rh(i){var r=Wl;return Wl+=1,Eo===null&&(Eo=[]),r0(Eo,i,r)}function Zl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ch(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function l0(i){function r(F,j){if(i){var K=F.deletions;K===null?(F.deletions=[j],F.flags|=16):K.push(j)}}function o(F,j){if(!i)return null;for(;j!==null;)r(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function d(F,j){return F=us(F,j),F.index=0,F.sibling=null,F}function g(F,j,K){return F.index=K,i?(K=F.alternate,K!==null?(K=K.index,K<j?(F.flags|=67108866,j):K):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function E(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function A(F,j,K,nt){return j===null||j.tag!==6?(j=Em(K,F.mode,nt),j.return=F,j):(j=d(j,K),j.return=F,j)}function O(F,j,K,nt){var _t=K.type;return _t===k?W(F,j,K.props.children,nt,K.key):j!==null&&(j.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===C&&Ea(_t)===j.type)?(j=d(j,K.props),Zl(j,K),j.return=F,j):(j=_h(K.type,K.key,K.props,null,F.mode,nt),Zl(j,K),j.return=F,j)}function Y(F,j,K,nt){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=bm(K,F.mode,nt),j.return=F,j):(j=d(j,K.children||[]),j.return=F,j)}function W(F,j,K,nt,_t){return j===null||j.tag!==7?(j=ga(K,F.mode,nt,_t),j.return=F,j):(j=d(j,K),j.return=F,j)}function it(F,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Em(""+j,F.mode,K),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return K=_h(j.type,j.key,j.props,null,F.mode,K),Zl(K,j),K.return=F,K;case D:return j=bm(j,F.mode,K),j.return=F,j;case C:return j=Ea(j),it(F,j,K)}if(Ae(j)||H(j))return j=ga(j,F.mode,K,null),j.return=F,j;if(typeof j.then=="function")return it(F,Rh(j),K);if(j.$$typeof===B)return it(F,bh(F,j),K);Ch(F,j)}return null}function $(F,j,K,nt){var _t=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return _t!==null?null:A(F,j,""+K,nt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===_t?O(F,j,K,nt):null;case D:return K.key===_t?Y(F,j,K,nt):null;case C:return K=Ea(K),$(F,j,K,nt)}if(Ae(K)||H(K))return _t!==null?null:W(F,j,K,nt,null);if(typeof K.then=="function")return $(F,j,Rh(K),nt);if(K.$$typeof===B)return $(F,j,bh(F,K),nt);Ch(F,K)}return null}function Q(F,j,K,nt,_t){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return F=F.get(K)||null,A(j,F,""+nt,_t);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case w:return F=F.get(nt.key===null?K:nt.key)||null,O(j,F,nt,_t);case D:return F=F.get(nt.key===null?K:nt.key)||null,Y(j,F,nt,_t);case C:return nt=Ea(nt),Q(F,j,K,nt,_t)}if(Ae(nt)||H(nt))return F=F.get(K)||null,W(j,F,nt,_t,null);if(typeof nt.then=="function")return Q(F,j,K,Rh(nt),_t);if(nt.$$typeof===B)return Q(F,j,K,bh(j,nt),_t);Ch(j,nt)}return null}function mt(F,j,K,nt){for(var _t=null,qt=null,yt=j,Ct=j=0,kt=null;yt!==null&&Ct<K.length;Ct++){yt.index>Ct?(kt=yt,yt=null):kt=yt.sibling;var Gt=$(F,yt,K[Ct],nt);if(Gt===null){yt===null&&(yt=kt);break}i&&yt&&Gt.alternate===null&&r(F,yt),j=g(Gt,j,Ct),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt,yt=kt}if(Ct===K.length)return o(F,yt),zt&&cs(F,Ct),_t;if(yt===null){for(;Ct<K.length;Ct++)yt=it(F,K[Ct],nt),yt!==null&&(j=g(yt,j,Ct),qt===null?_t=yt:qt.sibling=yt,qt=yt);return zt&&cs(F,Ct),_t}for(yt=u(yt);Ct<K.length;Ct++)kt=Q(yt,F,Ct,K[Ct],nt),kt!==null&&(i&&kt.alternate!==null&&yt.delete(kt.key===null?Ct:kt.key),j=g(kt,j,Ct),qt===null?_t=kt:qt.sibling=kt,qt=kt);return i&&yt.forEach(function(Ar){return r(F,Ar)}),zt&&cs(F,Ct),_t}function Et(F,j,K,nt){if(K==null)throw Error(s(151));for(var _t=null,qt=null,yt=j,Ct=j=0,kt=null,Gt=K.next();yt!==null&&!Gt.done;Ct++,Gt=K.next()){yt.index>Ct?(kt=yt,yt=null):kt=yt.sibling;var Ar=$(F,yt,Gt.value,nt);if(Ar===null){yt===null&&(yt=kt);break}i&&yt&&Ar.alternate===null&&r(F,yt),j=g(Ar,j,Ct),qt===null?_t=Ar:qt.sibling=Ar,qt=Ar,yt=kt}if(Gt.done)return o(F,yt),zt&&cs(F,Ct),_t;if(yt===null){for(;!Gt.done;Ct++,Gt=K.next())Gt=it(F,Gt.value,nt),Gt!==null&&(j=g(Gt,j,Ct),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return zt&&cs(F,Ct),_t}for(yt=u(yt);!Gt.done;Ct++,Gt=K.next())Gt=Q(yt,F,Ct,Gt.value,nt),Gt!==null&&(i&&Gt.alternate!==null&&yt.delete(Gt.key===null?Ct:Gt.key),j=g(Gt,j,Ct),qt===null?_t=Gt:qt.sibling=Gt,qt=Gt);return i&&yt.forEach(function(C2){return r(F,C2)}),zt&&cs(F,Ct),_t}function Zt(F,j,K,nt){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:t:{for(var _t=K.key;j!==null;){if(j.key===_t){if(_t=K.type,_t===k){if(j.tag===7){o(F,j.sibling),nt=d(j,K.props.children),nt.return=F,F=nt;break t}}else if(j.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===C&&Ea(_t)===j.type){o(F,j.sibling),nt=d(j,K.props),Zl(nt,K),nt.return=F,F=nt;break t}o(F,j);break}else r(F,j);j=j.sibling}K.type===k?(nt=ga(K.props.children,F.mode,nt,K.key),nt.return=F,F=nt):(nt=_h(K.type,K.key,K.props,null,F.mode,nt),Zl(nt,K),nt.return=F,F=nt)}return E(F);case D:t:{for(_t=K.key;j!==null;){if(j.key===_t)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){o(F,j.sibling),nt=d(j,K.children||[]),nt.return=F,F=nt;break t}else{o(F,j);break}else r(F,j);j=j.sibling}nt=bm(K,F.mode,nt),nt.return=F,F=nt}return E(F);case C:return K=Ea(K),Zt(F,j,K,nt)}if(Ae(K))return mt(F,j,K,nt);if(H(K)){if(_t=H(K),typeof _t!="function")throw Error(s(150));return K=_t.call(K),Et(F,j,K,nt)}if(typeof K.then=="function")return Zt(F,j,Rh(K),nt);if(K.$$typeof===B)return Zt(F,j,bh(F,K),nt);Ch(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(o(F,j.sibling),nt=d(j,K),nt.return=F,F=nt):(o(F,j),nt=Em(K,F.mode,nt),nt.return=F,F=nt),E(F)):o(F,j)}return function(F,j,K,nt){try{Wl=0;var _t=Zt(F,j,K,nt);return Eo=null,_t}catch(yt){if(yt===To||yt===Ah)throw yt;var qt=kn(29,yt,null,F.mode);return qt.lanes=nt,qt.return=F,qt}finally{}}}var Sa=l0(!0),u0=l0(!1),or=!1;function Om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function lr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ur(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=vh(i),K_(i,null,o),r}return yh(i,u,r,o),vh(i)}function Jl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Bs(i,o)}}function km(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Lm=!1;function tu(){if(Lm){var i=_o;if(i!==null)throw i}}function eu(i,r,o,u){Lm=!1;var d=i.updateQueue;or=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var O=A,Y=O.next;O.next=null,E===null?g=Y:E.next=Y,E=O;var W=i.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==E&&(A===null?W.firstBaseUpdate=Y:A.next=Y,W.lastBaseUpdate=O))}if(g!==null){var it=d.baseState;E=0,W=Y=O=null,A=g;do{var $=A.lane&-536870913,Q=$!==A.lane;if(Q?(Pt&$)===$:(u&$)===$){$!==0&&$===vo&&(Lm=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=i,Et=A;$=r;var Zt=o;switch(Et.tag){case 1:if(mt=Et.payload,typeof mt=="function"){it=mt.call(Zt,it,$);break t}it=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Et.payload,$=typeof mt=="function"?mt.call(Zt,it,$):mt,$==null)break t;it=_({},it,$);break t;case 2:or=!0}}$=A.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[$]:Q.push($))}else Q={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(Y=W=Q,O=it):W=W.next=Q,E|=$;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);W===null&&(O=it),d.baseState=O,d.firstBaseUpdate=Y,d.lastBaseUpdate=W,g===null&&(d.shared.lanes=0),mr|=E,i.lanes=E,i.memoizedState=it}}function c0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function h0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)c0(o[i],r)}var bo=U(null),Ih=U(0);function f0(i,r){i=Es,lt(Ih,i),lt(bo,r),Es=i|r.baseLanes}function jm(){lt(Ih,Es),lt(bo,bo.current)}function Um(){Es=Ih.current,et(bo),et(Ih)}var Ln=U(null),ii=null;function cr(i){var r=i.alternate;lt(Ee,Ee.current&1),lt(Ln,i),ii===null&&(r===null||bo.current!==null||r.memoizedState!==null)&&(ii=i)}function zm(i){lt(Ee,Ee.current),lt(Ln,i),ii===null&&(ii=i)}function d0(i){i.tag===22?(lt(Ee,Ee.current),lt(Ln,i),ii===null&&(ii=i)):hr()}function hr(){lt(Ee,Ee.current),lt(Ln,Ln.current)}function jn(i){et(Ln),ii===i&&(ii=null),et(Ee)}var Ee=U(0);function xh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kp(o)||Yp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ds=0,Rt=null,Xt=null,Ce=null,Dh=!1,So=!1,Aa=!1,Nh=0,nu=0,Ao=null,yx=0;function ge(){throw Error(s(321))}function Bm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Pn(i[o],r[o]))return!1;return!0}function Fm(i,r,o,u,d,g){return ds=g,Rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=i===null||i.memoizedState===null?X0:ip,Aa=!1,g=o(u,d),Aa=!1,So&&(g=p0(r,o,u,d)),m0(i),g}function m0(i){Z.H=ru;var r=Xt!==null&&Xt.next!==null;if(ds=0,Ce=Xt=Rt=null,Dh=!1,nu=0,Ao=null,r)throw Error(s(300));i===null||Ie||(i=i.dependencies,i!==null&&Eh(i)&&(Ie=!0))}function p0(i,r,o,u){Rt=i;var d=0;do{if(So&&(Ao=null),nu=0,So=!1,25<=d)throw Error(s(301));if(d+=1,Ce=Xt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=W0,g=r(o,u)}while(So);return g}function vx(){var i=Z.H,r=i.useState()[0];return r=typeof r.then=="function"?iu(r):r,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Rt.flags|=1024),r}function Hm(){var i=Nh!==0;return Nh=0,i}function qm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Gm(i){if(Dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dh=!1}ds=0,Ce=Xt=Rt=null,So=!1,nu=Nh=0,Ao=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Rt.memoizedState=Ce=i:Ce=Ce.next=i,Ce}function be(){if(Xt===null){var i=Rt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var r=Ce===null?Rt.memoizedState:Ce.next;if(r!==null)Ce=r,Xt=i;else{if(i===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ce===null?Rt.memoizedState=Ce=i:Ce=Ce.next=i}return Ce}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(i){var r=nu;return nu+=1,Ao===null&&(Ao=[]),i=r0(Ao,i,r),r=Rt,(Ce===null?r.memoizedState:Ce.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?X0:ip),i}function Mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return iu(i);if(i.$$typeof===B)return We(i)}throw Error(s(438,String(i)))}function Km(i){var r=null,o=Rt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Vh(),Rt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function ms(i,r){return typeof r=="function"?r(i):r}function Oh(i){var r=be();return Ym(r,Xt,i)}function Ym(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var A=E=null,O=null,Y=r,W=!1;do{var it=Y.lane&-536870913;if(it!==Y.lane?(Pt&it)===it:(ds&it)===it){var $=Y.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),it===vo&&(W=!0);else if((ds&$)===$){Y=Y.next,$===vo&&(W=!0);continue}else it={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(A=O=it,E=g):O=O.next=it,Rt.lanes|=$,mr|=$;it=Y.action,Aa&&o(g,it),g=Y.hasEagerState?Y.eagerState:o(g,it)}else $={lane:it,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(A=O=$,E=g):O=O.next=$,Rt.lanes|=it,mr|=it;Y=Y.next}while(Y!==null&&Y!==r);if(O===null?E=g:O.next=A,!Pn(g,i.memoizedState)&&(Ie=!0,W&&(o=_o,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=O,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function $m(i){var r=be(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=i(g,E.action),E=E.next;while(E!==d);Pn(g,r.memoizedState)||(Ie=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function g0(i,r,o){var u=Rt,d=be(),g=zt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!Pn((Xt||d).memoizedState,o);if(E&&(d.memoizedState=o,Ie=!0),d=d.queue,Wm(_0.bind(null,u,d,i),[i]),d.getSnapshot!==r||E||Ce!==null&&Ce.memoizedState.tag&1){if(u.flags|=2048,wo(9,{destroy:void 0},v0.bind(null,u,d,o,r),null),te===null)throw Error(s(349));g||(ds&127)!==0||y0(u,r,o)}return o}function y0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Rt.updateQueue,r===null?(r=Vh(),Rt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function v0(i,r,o,u){r.value=o,r.getSnapshot=u,T0(r)&&E0(i)}function _0(i,r,o){return o(function(){T0(r)&&E0(i)})}function T0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Pn(i,o)}catch{return!0}}function E0(i){var r=pa(i,2);r!==null&&In(r,i,2)}function Qm(i){var r=vn();if(typeof i=="function"){var o=i;if(i=o(),Aa){$n(!0);try{o()}finally{$n(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},r}function b0(i,r,o,u){return i.baseState=o,Ym(i,Xt,typeof u=="function"?u:ms)}function _x(i,r,o,u,d){if(Lh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,S0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function S0(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=Z.T,E={};Z.T=E;try{var A=o(d,u),O=Z.S;O!==null&&O(E,A),A0(i,r,A)}catch(Y){Xm(i,r,Y)}finally{g!==null&&E.types!==null&&(g.types=E.types),Z.T=g}}else try{g=o(d,u),A0(i,r,g)}catch(Y){Xm(i,r,Y)}}function A0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){w0(i,r,u)},function(u){return Xm(i,r,u)}):w0(i,r,o)}function w0(i,r,o){r.status="fulfilled",r.value=o,R0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,S0(i,o)))}function Xm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,R0(r),r=r.next;while(r!==u)}i.action=null}function R0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function C0(i,r){return r}function I0(i,r){if(zt){var o=te.formState;if(o!==null){t:{var u=Rt;if(zt){if(ie){e:{for(var d=ie,g=ni;d.nodeType!==8;){if(!g){d=null;break e}if(d=si(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ie=si(d.nextSibling),u=d.data==="F!";break t}}rr(u)}u=!1}u&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:r},o.queue=u,o=Y0.bind(null,Rt,u),u.dispatch=o,u=Qm(!1),g=np.bind(null,Rt,!1,u.queue),u=vn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=_x.bind(null,Rt,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function x0(i){var r=be();return D0(r,Xt,i)}function D0(i,r,o){if(r=Ym(i,r,C0)[0],i=Oh(ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=iu(r)}catch(E){throw E===To?Ah:E}else u=r;r=be();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Rt.flags|=2048,wo(9,{destroy:void 0},Tx.bind(null,d,o),null)),[u,g,i]}function Tx(i,r){i.action=r}function N0(i){var r=be(),o=Xt;if(o!==null)return D0(r,o,i);be(),r=r.memoizedState,o=be();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function wo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Rt.updateQueue,r===null&&(r=Vh(),Rt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function V0(){return be().memoizedState}function Ph(i,r,o,u){var d=vn();Rt.flags|=i,d.memoizedState=wo(1|r,{destroy:void 0},o,u===void 0?null:u)}function kh(i,r,o,u){var d=be();u=u===void 0?null:u;var g=d.memoizedState.inst;Xt!==null&&u!==null&&Bm(u,Xt.memoizedState.deps)?d.memoizedState=wo(r,g,o,u):(Rt.flags|=i,d.memoizedState=wo(1|r,g,o,u))}function M0(i,r){Ph(8390656,8,i,r)}function Wm(i,r){kh(2048,8,i,r)}function Ex(i){Rt.flags|=4;var r=Rt.updateQueue;if(r===null)r=Vh(),Rt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function O0(i){var r=be().memoizedState;return Ex({ref:r,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function P0(i,r){return kh(4,2,i,r)}function k0(i,r){return kh(4,4,i,r)}function L0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function j0(i,r,o){o=o!=null?o.concat([i]):null,kh(4,4,L0.bind(null,r,i),o)}function Zm(){}function U0(i,r){var o=be();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Bm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function z0(i,r){var o=be();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Bm(r,u[1]))return u[0];if(u=i(),Aa){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[u,r],u}function Jm(i,r,o){return o===void 0||(ds&1073741824)!==0&&(Pt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=BT(),Rt.lanes|=i,mr|=i,o)}function B0(i,r,o,u){return Pn(o,r)?o:bo.current!==null?(i=Jm(i,o,u),Pn(i,r)||(Ie=!0),i):(ds&42)===0||(ds&1073741824)!==0&&(Pt&261930)===0?(Ie=!0,i.memoizedState=o):(i=BT(),Rt.lanes|=i,mr|=i,r)}function F0(i,r,o,u,d){var g=at.p;at.p=g!==0&&8>g?g:8;var E=Z.T,A={};Z.T=A,np(i,!1,r,o);try{var O=d(),Y=Z.S;if(Y!==null&&Y(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=gx(O,u);su(i,r,W,Bn(i))}else su(i,r,u,Bn(i))}catch(it){su(i,r,{then:function(){},status:"rejected",reason:it},Bn())}finally{at.p=g,E!==null&&A.types!==null&&(E.types=A.types),Z.T=E}}function bx(){}function tp(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=H0(i).queue;F0(i,d,r,dt,o===null?bx:function(){return q0(i),o(u)})}function H0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function q0(i){var r=H0(i);r.next===null&&(r=i.alternate.memoizedState),su(i,r.next.queue,{},Bn())}function ep(){return We(Eu)}function G0(){return be().memoizedState}function K0(){return be().memoizedState}function Sx(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Bn();i=lr(o);var u=ur(r,i,o);u!==null&&(In(u,r,o),Jl(u,r,o)),r={cache:Dm()},i.payload=r;return}r=r.return}}function Ax(i,r,o){var u=Bn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lh(i)?$0(r,o):(o=_m(i,r,o,u),o!==null&&(In(o,i,u),Q0(o,r,u)))}function Y0(i,r,o){var u=Bn();su(i,r,o,u)}function su(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lh(i))$0(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var E=r.lastRenderedState,A=g(E,o);if(d.hasEagerState=!0,d.eagerState=A,Pn(A,E))return yh(i,r,d,0),te===null&&gh(),!1}catch{}finally{}if(o=_m(i,r,d,u),o!==null)return In(o,i,u),Q0(o,r,u),!0}return!1}function np(i,r,o,u){if(u={lane:2,revertLane:Op(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Lh(i)){if(r)throw Error(s(479))}else r=_m(i,o,u,2),r!==null&&In(r,i,2)}function Lh(i){var r=i.alternate;return i===Rt||r!==null&&r===Rt}function $0(i,r){So=Dh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Q0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Bs(i,o)}}var ru={readContext:We,use:Mh,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};ru.useEffectEvent=ge;var X0={readContext:We,use:Mh,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:We,useEffect:M0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Ph(4194308,4,L0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Ph(4194308,4,i,r)},useInsertionEffect:function(i,r){Ph(4,2,i,r)},useMemo:function(i,r){var o=vn();r=r===void 0?null:r;var u=i();if(Aa){$n(!0);try{i()}finally{$n(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=vn();if(o!==void 0){var d=o(r);if(Aa){$n(!0);try{o(r)}finally{$n(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=Ax.bind(null,Rt,i),[u.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:function(i){i=Qm(i);var r=i.queue,o=Y0.bind(null,Rt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Zm,useDeferredValue:function(i,r){var o=vn();return Jm(o,i,r)},useTransition:function(){var i=Qm(!1);return i=F0.bind(null,Rt,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Rt,d=vn();if(zt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),te===null)throw Error(s(349));(Pt&127)!==0||y0(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,M0(_0.bind(null,u,g,i),[i]),u.flags|=2048,wo(9,{destroy:void 0},v0.bind(null,u,g,o,r),null),o},useId:function(){var i=vn(),r=te.identifierPrefix;if(zt){var o=ki,u=Pi;o=(u&~(1<<32-dn(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Nh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=yx++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:ep,useFormState:I0,useActionState:I0,useOptimistic:function(i){var r=vn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=np.bind(null,Rt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Km,useCacheRefresh:function(){return vn().memoizedState=Sx.bind(null,Rt)},useEffectEvent:function(i){var r=vn(),o={impl:i};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},ip={readContext:We,use:Mh,useCallback:U0,useContext:We,useEffect:Wm,useImperativeHandle:j0,useInsertionEffect:P0,useLayoutEffect:k0,useMemo:z0,useReducer:Oh,useRef:V0,useState:function(){return Oh(ms)},useDebugValue:Zm,useDeferredValue:function(i,r){var o=be();return B0(o,Xt.memoizedState,i,r)},useTransition:function(){var i=Oh(ms)[0],r=be().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:g0,useId:G0,useHostTransitionStatus:ep,useFormState:x0,useActionState:x0,useOptimistic:function(i,r){var o=be();return b0(o,Xt,i,r)},useMemoCache:Km,useCacheRefresh:K0};ip.useEffectEvent=O0;var W0={readContext:We,use:Mh,useCallback:U0,useContext:We,useEffect:Wm,useImperativeHandle:j0,useInsertionEffect:P0,useLayoutEffect:k0,useMemo:z0,useReducer:$m,useRef:V0,useState:function(){return $m(ms)},useDebugValue:Zm,useDeferredValue:function(i,r){var o=be();return Xt===null?Jm(o,i,r):B0(o,Xt.memoizedState,i,r)},useTransition:function(){var i=$m(ms)[0],r=be().memoizedState;return[typeof i=="boolean"?i:iu(i),r]},useSyncExternalStore:g0,useId:G0,useHostTransitionStatus:ep,useFormState:N0,useActionState:N0,useOptimistic:function(i,r){var o=be();return Xt!==null?b0(o,Xt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:K0};W0.useEffectEvent=O0;function sp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var rp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Bn(),d=lr(u);d.payload=r,o!=null&&(d.callback=o),r=ur(i,d,u),r!==null&&(In(r,i,u),Jl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Bn(),d=lr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=ur(i,d,u),r!==null&&(In(r,i,u),Jl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Bn(),u=lr(o);u.tag=2,r!=null&&(u.callback=r),r=ur(i,u,o),r!==null&&(In(r,i,o),Jl(r,i,o))}};function Z0(i,r,o,u,d,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):r.prototype&&r.prototype.isPureReactComponent?!Gl(o,u)||!Gl(d,g):!0}function J0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&rp.enqueueReplaceState(r,r.state,null)}function wa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function tT(i){ph(i)}function eT(i){console.error(i)}function nT(i){ph(i)}function jh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function iT(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ap(i,r,o){return o=lr(o),o.tag=3,o.payload={element:null},o.callback=function(){jh(i,r)},o}function sT(i){return i=lr(i),i.tag=3,i}function rT(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){iT(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){iT(r,o,u),typeof d!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function wx(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&yo(r,o,d,!0),o=Ln.current,o!==null){switch(o.tag){case 31:case 13:return ii===null?Xh():o.alternate===null&&ye===0&&(ye=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Np(i,u,d)),!1;case 22:return o.flags|=65536,u===wh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Np(i,u,d)),!1}throw Error(s(435,o.tag))}return Np(i,u,d),Xh(),!1}if(zt)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==wm&&(i=Error(s(422),{cause:u}),$l(Jn(i,o)))):(u!==wm&&(r=Error(s(423),{cause:u}),$l(Jn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Jn(u,o),d=ap(i.stateNode,u,d),km(i,d),ye!==4&&(ye=2)),!1;var g=Error(s(520),{cause:u});if(g=Jn(g,o),du===null?du=[g]:du.push(g),ye!==4&&(ye=2),r===null)return!0;u=Jn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=ap(o.stateNode,u,i),km(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(pr===null||!pr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=sT(d),rT(d,i,o,u),km(o,d),!1}o=o.return}while(o!==null);return!1}var op=Error(s(461)),Ie=!1;function Ze(i,r,o,u){r.child=i===null?u0(r,null,o,u):Sa(r,i.child,o,u)}function aT(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return _a(r),u=Fm(i,r,o,E,g,d),A=Hm(),i!==null&&!Ie?(qm(i,r,d),ps(i,r,d)):(zt&&A&&Sm(r),r.flags|=1,Ze(i,r,u,d),r.child)}function oT(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Tm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,lT(i,r,g,u,d)):(i=_h(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!pp(i,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Gl,o(E,u)&&i.ref===r.ref)return ps(i,r,d)}return r.flags|=1,i=us(g,u),i.ref=r.ref,i.return=r,r.child=i}function lT(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(Gl(g,u)&&i.ref===r.ref)if(Ie=!1,r.pendingProps=u=g,pp(i,d))(i.flags&131072)!==0&&(Ie=!0);else return r.lanes=i.lanes,ps(i,r,d)}return lp(i,r,o,u,d)}function uT(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return cT(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sh(r,g!==null?g.cachePool:null),g!==null?f0(r,g):jm(),d0(r);else return u=r.lanes=536870912,cT(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Sh(r,g.cachePool),f0(r,g),hr(),r.memoizedState=null):(i!==null&&Sh(r,null),jm(),hr());return Ze(i,r,d,o),r.child}function au(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function cT(i,r,o,u,d){var g=Vm();return g=g===null?null:{parent:Re._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Sh(r,null),jm(),d0(r),i!==null&&yo(i,r,u,!0),r.childLanes=d,null}function Uh(i,r){return r=Bh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function hT(i,r,o){return Sa(r,i.child,null,o),i=Uh(r,r.pendingProps),i.flags|=2,jn(r),r.memoizedState=null,i}function Rx(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(zt){if(u.mode==="hidden")return i=Uh(r,u),r.lanes=536870912,au(null,i);if(zm(r),(i=ie)?(i=SE(i,ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ir!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},o=$_(i),o.return=r,r.child=o,Xe=r,ie=null)):i=null,i===null)throw rr(r);return r.lanes=536870912,null}return Uh(r,u)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(zm(r),d)if(r.flags&256)r.flags&=-257,r=hT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ie||yo(i,r,o,!1),d=(o&i.childLanes)!==0,Ie||d){if(u=te,u!==null&&(E=Fs(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,pa(i,E),In(u,i,E),op;Xh(),r=hT(i,r,o)}else i=g.treeContext,ie=si(E.nextSibling),Xe=r,zt=!0,sr=null,ni=!1,i!==null&&W_(r,i),r=Uh(r,u),r.flags|=4096;return r}return i=us(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function zh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function lp(i,r,o,u,d){return _a(r),o=Fm(i,r,o,u,void 0,d),u=Hm(),i!==null&&!Ie?(qm(i,r,d),ps(i,r,d)):(zt&&u&&Sm(r),r.flags|=1,Ze(i,r,o,d),r.child)}function fT(i,r,o,u,d,g){return _a(r),r.updateQueue=null,o=p0(r,u,o,d),m0(i),u=Hm(),i!==null&&!Ie?(qm(i,r,g),ps(i,r,g)):(zt&&u&&Sm(r),r.flags|=1,Ze(i,r,o,g),r.child)}function dT(i,r,o,u,d){if(_a(r),r.stateNode===null){var g=fo,E=o.contextType;typeof E=="object"&&E!==null&&(g=We(E)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Om(r),E=o.contextType,g.context=typeof E=="object"&&E!==null?We(E):fo,g.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(sp(r,o,E,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&rp.enqueueReplaceState(g,g.state,null),eu(r,u,g,d),tu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,O=wa(o,A);g.props=O;var Y=g.context,W=o.contextType;E=fo,typeof W=="object"&&W!==null&&(E=We(W));var it=o.getDerivedStateFromProps;W=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Y!==E)&&J0(r,g,u,E),or=!1;var $=r.memoizedState;g.state=$,eu(r,u,g,d),tu(),Y=r.memoizedState,A||$!==Y||or?(typeof it=="function"&&(sp(r,o,it,u),Y=r.memoizedState),(O=or||Z0(r,o,O,u,$,Y,E))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),g.props=u,g.state=Y,g.context=E,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Pm(i,r),E=r.memoizedProps,W=wa(o,E),g.props=W,it=r.pendingProps,$=g.context,Y=o.contextType,O=fo,typeof Y=="object"&&Y!==null&&(O=We(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==it||$!==O)&&J0(r,g,u,O),or=!1,$=r.memoizedState,g.state=$,eu(r,u,g,d),tu();var Q=r.memoizedState;E!==it||$!==Q||or||i!==null&&i.dependencies!==null&&Eh(i.dependencies)?(typeof A=="function"&&(sp(r,o,A,u),Q=r.memoizedState),(W=or||Z0(r,o,W,u,$,Q,O)||i!==null&&i.dependencies!==null&&Eh(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),g.props=u,g.state=Q,g.context=O,u=W):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,zh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Sa(r,i.child,null,d),r.child=Sa(r,null,o,d)):Ze(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ps(i,r,d),i}function mT(i,r,o,u){return ya(),r.flags|=256,Ze(i,r,o,u),r.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(i){return{baseLanes:i,cachePool:i0()}}function hp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=zn),i}function pT(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ee.current&2)!==0),E&&(d=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(d?cr(r):hr(),(i=ie)?(i=SE(i,ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ir!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},o=$_(i),o.return=r,r.child=o,Xe=r,ie=null)):i=null,i===null)throw rr(r);return Yp(i)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,d?(hr(),d=r.mode,A=Bh({mode:"hidden",children:A},d),u=ga(u,d,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=cp(o),u.childLanes=hp(i,E,o),r.memoizedState=up,au(null,u)):(cr(r),fp(r,A))}var O=i.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(g)r.flags&256?(cr(r),r.flags&=-257,r=dp(i,r,o)):r.memoizedState!==null?(hr(),r.child=i.child,r.flags|=128,r=null):(hr(),A=u.fallback,d=r.mode,u=Bh({mode:"visible",children:u.children},d),A=ga(A,d,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,Sa(r,i.child,null,o),u=r.child,u.memoizedState=cp(o),u.childLanes=hp(i,E,o),r.memoizedState=up,r=au(null,u));else if(cr(r),Yp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(s(419)),u.stack="",u.digest=E,$l({value:u,source:null,stack:null}),r=dp(i,r,o)}else if(Ie||yo(i,r,o,!1),E=(o&i.childLanes)!==0,Ie||E){if(E=te,E!==null&&(u=Fs(E,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,pa(i,u),In(E,i,u),op;Kp(A)||Xh(),r=dp(i,r,o)}else Kp(A)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,ie=si(A.nextSibling),Xe=r,zt=!0,sr=null,ni=!1,i!==null&&W_(r,i),r=fp(r,u.children),r.flags|=4096);return r}return d?(hr(),A=u.fallback,d=r.mode,O=i.child,Y=O.sibling,u=us(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,Y!==null?A=us(Y,A):(A=ga(A,d,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,au(null,u),u=r.child,A=i.child.memoizedState,A===null?A=cp(o):(d=A.cachePool,d!==null?(O=Re._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=i0(),A={baseLanes:A.baseLanes|o,cachePool:d}),u.memoizedState=A,u.childLanes=hp(i,E,o),r.memoizedState=up,au(i.child,u)):(cr(r),o=i.child,i=o.sibling,o=us(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function fp(i,r){return r=Bh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Bh(i,r){return i=kn(22,i,null,r),i.lanes=0,i}function dp(i,r,o){return Sa(r,i.child,null,o),i=fp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function gT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Im(i.return,r,o)}function mp(i,r,o,u,d,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=d,E.treeForkCount=g)}function yT(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var E=Ee.current,A=(E&2)!==0;if(A?(E=E&1|2,r.flags|=128):E&=1,lt(Ee,E),Ze(i,r,u,o),u=zt?Yl:0,!A&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gT(i,o,r);else if(i.tag===19)gT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&xh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),mp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&xh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}mp(r,!0,o,null,g,u);break;case"together":mp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ps(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),mr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(yo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=us(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=us(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function pp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Eh(i)))}function Cx(i,r,o){switch(r.tag){case 3:Ke(r,r.stateNode.containerInfo),ar(r,Re,i.memoizedState.cache),ya();break;case 27:case 5:Ri(r);break;case 4:Ke(r,r.stateNode.containerInfo);break;case 10:ar(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,zm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(cr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?pT(i,r,o):(cr(r),i=ps(i,r,o),i!==null?i.sibling:null);cr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(yo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return yT(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),lt(Ee,Ee.current),u)break;return null;case 22:return r.lanes=0,uT(i,r,o,r.pendingProps);case 24:ar(r,Re,i.memoizedState.cache)}return ps(i,r,o)}function vT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ie=!0;else{if(!pp(i,o)&&(r.flags&128)===0)return Ie=!1,Cx(i,r,o);Ie=(i.flags&131072)!==0}else Ie=!1,zt&&(r.flags&1048576)!==0&&X_(r,Yl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=Ea(r.elementType),r.type=i,typeof i=="function")Tm(i)?(u=wa(i,u),r.tag=1,r=dT(null,r,i,u,o)):(r.tag=0,r=lp(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===tt){r.tag=11,r=aT(null,r,i,u,o);break t}else if(d===N){r.tag=14,r=oT(null,r,i,u,o);break t}}throw r=de(i)||i,Error(s(306,r,""))}}return r;case 0:return lp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=wa(u,r.pendingProps),dT(i,r,u,d,o);case 3:t:{if(Ke(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Pm(i,r),eu(r,u,null,o);var E=r.memoizedState;if(u=E.cache,ar(r,Re,u),u!==g.cache&&xm(r,[Re],o,!0),tu(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=mT(i,r,u,o);break t}else if(u!==d){d=Jn(Error(s(424)),r),$l(d),r=mT(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ie=si(i.firstChild),Xe=r,zt=!0,sr=null,ni=!0,o=u0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ya(),u===d){r=ps(i,r,o);break t}Ze(i,r,u,o)}r=r.child}return r;case 26:return zh(i,r),i===null?(o=xE(r.type,null,r.pendingProps,null))?r.memoizedState=o:zt||(o=r.type,i=r.pendingProps,u=sf(xt.current).createElement(o),u[me]=r,u[Qe]=i,Je(u,o,i),Te(u),r.stateNode=u):r.memoizedState=xE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ri(r),i===null&&zt&&(u=r.stateNode=RE(r.type,r.pendingProps,xt.current),Xe=r,ni=!0,d=ie,_r(r.type)?($p=d,ie=si(u.firstChild)):ie=d),Ze(i,r,r.pendingProps.children,o),zh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((d=u=ie)&&(u=i2(u,r.type,r.pendingProps,ni),u!==null?(r.stateNode=u,Xe=r,ie=si(u.firstChild),ni=!1,d=!0):d=!1),d||rr(r)),Ri(r),d=r.type,g=r.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Hp(d,g)?u=null:E!==null&&Hp(d,E)&&(r.flags|=32),r.memoizedState!==null&&(d=Fm(i,r,vx,null,null,o),Eu._currentValue=d),zh(i,r),Ze(i,r,u,o),r.child;case 6:return i===null&&zt&&((i=o=ie)&&(o=s2(o,r.pendingProps,ni),o!==null?(r.stateNode=o,Xe=r,ie=null,i=!0):i=!1),i||rr(r)),null;case 13:return pT(i,r,o);case 4:return Ke(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Sa(r,null,u,o):Ze(i,r,u,o),r.child;case 11:return aT(i,r,r.type,r.pendingProps,o);case 7:return Ze(i,r,r.pendingProps,o),r.child;case 8:return Ze(i,r,r.pendingProps.children,o),r.child;case 12:return Ze(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,ar(r,r.type,u.value),Ze(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,_a(r),d=We(d),u=u(d),r.flags|=1,Ze(i,r,u,o),r.child;case 14:return oT(i,r,r.type,r.pendingProps,o);case 15:return lT(i,r,r.type,r.pendingProps,o);case 19:return yT(i,r,o);case 31:return Rx(i,r,o);case 22:return uT(i,r,o,r.pendingProps);case 24:return _a(r),u=We(Re),i===null?(d=Vm(),d===null&&(d=te,g=Dm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Om(r),ar(r,Re,d)):((i.lanes&o)!==0&&(Pm(i,r),eu(r,null,null,o),tu()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),ar(r,Re,u)):(u=g.cache,ar(r,Re,u),u!==d.cache&&xm(r,[Re],o,!0))),Ze(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function gs(i){i.flags|=4}function gp(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(GT())i.flags|=8192;else throw ba=wh,Mm}else i.flags&=-16777217}function _T(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!OE(r))if(GT())i.flags|=8192;else throw ba=wh,Mm}function Fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Cl():536870912,i.lanes|=r,xo|=r)}function ou(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function se(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function Ix(i,r,o){var u=r.pendingProps;switch(Am(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),fs(Re),ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(go(r)?gs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rm())),se(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(gs(r),g!==null?(se(r),_T(r,g)):(se(r),gp(r,d,null,u,o))):g?g!==i.memoizedState?(gs(r),se(r),_T(r,g)):(se(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&gs(r),se(r),gp(r,d,i,u,o)),null;case 27:if(Wi(r),o=xt.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return se(r),null}i=pt.current,go(r)?Z_(r):(i=RE(d,u,o),r.stateNode=i,gs(r))}return se(r),null;case 5:if(Wi(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return se(r),null}if(g=pt.current,go(r))Z_(r);else{var E=sf(xt.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(d,{is:u.is}):E.createElement(d)}}g[me]=r,g[Qe]=u;t:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break t;for(;E.sibling===null;){if(E.return===null||E.return===r)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=g;t:switch(Je(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&gs(r)}}return se(r),gp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&gs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=xt.current,go(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=Xe,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[me]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||pE(i.nodeValue,o)),i||rr(r,!0)}else i=sf(i).createTextNode(u),i[me]=r,r.stateNode=i}return se(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=go(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[me]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),i=!1}else o=Rm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(jn(r),r):(jn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return se(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=go(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[me]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),d=!1}else d=Rm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(jn(r),r):(jn(r),null)}return jn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Fh(r,r.updateQueue),se(r),null);case 4:return ue(),i===null&&jp(r.stateNode.containerInfo),se(r),null;case 10:return fs(r.type),se(r),null;case 19:if(et(Ee),u=r.memoizedState,u===null)return se(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)ou(u,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=xh(i),g!==null){for(r.flags|=128,ou(u,!1),i=g.updateQueue,r.updateQueue=i,Fh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Y_(o,i),o=o.sibling;return lt(Ee,Ee.current&1|2),zt&&cs(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Ye()>Yh&&(r.flags|=128,d=!0,ou(u,!1),r.lanes=4194304)}else{if(!d)if(i=xh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Fh(r,i),ou(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!zt)return se(r),null}else 2*Ye()-u.renderingStartTime>Yh&&o!==536870912&&(r.flags|=128,d=!0,ou(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ye(),i.sibling=null,o=Ee.current,lt(Ee,d?o&1|2:o&1),zt&&cs(r,u.treeForkCount),i):(se(r),null);case 22:case 23:return jn(r),Um(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),o=r.updateQueue,o!==null&&Fh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&et(Ta),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),fs(Re),se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function xx(i,r){switch(Am(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return fs(Re),ue(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Wi(r),null;case 31:if(r.memoizedState!==null){if(jn(r),r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(jn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ya()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return et(Ee),null;case 4:return ue(),null;case 10:return fs(r.type),null;case 22:case 23:return jn(r),Um(),i!==null&&et(Ta),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return fs(Re),null;case 25:return null;default:return null}}function TT(i,r){switch(Am(r),r.tag){case 3:fs(Re),ue();break;case 26:case 27:case 5:Wi(r);break;case 4:ue();break;case 31:r.memoizedState!==null&&jn(r);break;case 13:jn(r);break;case 19:et(Ee);break;case 10:fs(r.type);break;case 22:case 23:jn(r),Um(),i!==null&&et(Ta);break;case 24:fs(Re)}}function lu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(A){Qt(r,r.return,A)}}function fr(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,d=r;var O=o,Y=A;try{Y()}catch(W){Qt(d,O,W)}}}u=u.next}while(u!==g)}}catch(W){Qt(r,r.return,W)}}function ET(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{h0(r,o)}catch(u){Qt(i,i.return,u)}}}function bT(i,r,o){o.props=wa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Qt(i,r,u)}}function uu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Qt(i,r,d)}}function Li(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Qt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Qt(i,r,d)}else o.current=null}function ST(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Qt(i,i.return,d)}}function yp(i,r,o){try{var u=i.stateNode;Wx(u,i.type,o,r),u[Qe]=r}catch(d){Qt(i,i.return,d)}}function AT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_r(i.type)||i.tag===4}function vp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||AT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_r(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _p(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ze));else if(u!==4&&(u===27&&_r(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(_p(i,r,o),i=i.sibling;i!==null;)_p(i,r,o),i=i.sibling}function Hh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&_r(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Hh(i,r,o),i=i.sibling;i!==null;)Hh(i,r,o),i=i.sibling}function wT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Je(r,u,o),r[me]=i,r[Qe]=o}catch(g){Qt(i,i.return,g)}}var ys=!1,xe=!1,Tp=!1,RT=typeof WeakSet=="function"?WeakSet:Set,He=null;function Dx(i,r){if(i=i.containerInfo,Bp=hf,i=j_(i),dm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,A=-1,O=-1,Y=0,W=0,it=i,$=null;e:for(;;){for(var Q;it!==o||d!==0&&it.nodeType!==3||(A=E+d),it!==g||u!==0&&it.nodeType!==3||(O=E+u),it.nodeType===3&&(E+=it.nodeValue.length),(Q=it.firstChild)!==null;)$=it,it=Q;for(;;){if(it===i)break e;if($===o&&++Y===d&&(A=E),$===g&&++W===u&&(O=E),(Q=it.nextSibling)!==null)break;it=$,$=it.parentNode}it=Q}o=A===-1||O===-1?null:{start:A,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fp={focusedElem:i,selectionRange:o},hf=!1,He=r;He!==null;)if(r=He,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,He=i;else for(;He!==null;){switch(r=He,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var mt=wa(o.type,d);i=u.getSnapshotBeforeUpdate(mt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Et){Qt(o,o.return,Et)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Gp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,He=i;break}He=r.return}}function CT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_s(i,o),u&4&&lu(5,o);break;case 1:if(_s(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){Qt(o,o.return,E)}else{var d=wa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Qt(o,o.return,E)}}u&64&&ET(o),u&512&&uu(o,o.return);break;case 3:if(_s(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{h0(i,r)}catch(E){Qt(o,o.return,E)}}break;case 27:r===null&&u&4&&wT(o);case 26:case 5:_s(i,o),r===null&&u&4&&ST(o),u&512&&uu(o,o.return);break;case 12:_s(i,o);break;case 31:_s(i,o),u&4&&DT(i,o);break;case 13:_s(i,o),u&4&&NT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Ux.bind(null,o),r2(i,o))));break;case 22:if(u=o.memoizedState!==null||ys,!u){r=r!==null&&r.memoizedState!==null||xe,d=ys;var g=xe;ys=u,(xe=r)&&!g?Ts(i,o,(o.subtreeFlags&8772)!==0):_s(i,o),ys=d,xe=g}break;case 30:break;default:_s(i,o)}}function IT(i){var r=i.alternate;r!==null&&(i.alternate=null,IT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ia(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ae=null,An=!1;function vs(i,r,o){for(o=o.child;o!==null;)xT(i,r,o),o=o.sibling}function xT(i,r,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ls,o)}catch{}switch(o.tag){case 26:xe||Li(o,r),vs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xe||Li(o,r);var u=ae,d=An;_r(o.type)&&(ae=o.stateNode,An=!1),vs(i,r,o),vu(o.stateNode),ae=u,An=d;break;case 5:xe||Li(o,r);case 6:if(u=ae,d=An,ae=null,vs(i,r,o),ae=u,An=d,ae!==null)if(An)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(o.stateNode)}catch(g){Qt(o,r,g)}else try{ae.removeChild(o.stateNode)}catch(g){Qt(o,r,g)}break;case 18:ae!==null&&(An?(i=ae,EE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Lo(i)):EE(ae,o.stateNode));break;case 4:u=ae,d=An,ae=o.stateNode.containerInfo,An=!0,vs(i,r,o),ae=u,An=d;break;case 0:case 11:case 14:case 15:fr(2,o,r),xe||fr(4,o,r),vs(i,r,o);break;case 1:xe||(Li(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&bT(o,r,u)),vs(i,r,o);break;case 21:vs(i,r,o);break;case 22:xe=(u=xe)||o.memoizedState!==null,vs(i,r,o),xe=u;break;default:vs(i,r,o)}}function DT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Lo(i)}catch(o){Qt(r,r.return,o)}}}function NT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Lo(i)}catch(o){Qt(r,r.return,o)}}function Nx(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new RT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new RT),r;default:throw Error(s(435,i.tag))}}function qh(i,r){var o=Nx(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=zx.bind(null,i,u);u.then(d,d)}})}function wn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,E=r,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(_r(A.type)){ae=A.stateNode,An=!1;break t}break;case 5:ae=A.stateNode,An=!1;break t;case 3:case 4:ae=A.stateNode.containerInfo,An=!0;break t}A=A.return}if(ae===null)throw Error(s(160));xT(g,E,d),ae=null,An=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)VT(r,i),r=r.sibling}var pi=null;function VT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(r,i),Rn(i),u&4&&(fr(3,i,i.return),lu(3,i),fr(5,i,i.return));break;case 1:wn(r,i),Rn(i),u&512&&(xe||o===null||Li(o,o.return)),u&64&&ys&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=pi;if(wn(r,i),Rn(i),u&512&&(xe||o===null||Li(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[es]||g[me]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Je(g,u,o),g[me]=i,Te(g),u=g;break t;case"link":var E=VE("link","href",d).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break e}}g=d.createElement(u),Je(g,u,o),d.head.appendChild(g);break;case"meta":if(E=VE("meta","content",d).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break e}}g=d.createElement(u),Je(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[me]=i,Te(g),u=g}i.stateNode=u}else ME(d,i.type,i.stateNode);else i.stateNode=NE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ME(d,i.type,i.stateNode):NE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&yp(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(r,i),Rn(i),u&512&&(xe||o===null||Li(o,o.return)),o!==null&&u&4&&yp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(r,i),Rn(i),u&512&&(xe||o===null||Li(o,o.return)),i.flags&32){d=i.stateNode;try{Wn(d,"")}catch(mt){Qt(i,i.return,mt)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,yp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Tp=!0);break;case 6:if(wn(r,i),Rn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){Qt(i,i.return,mt)}}break;case 3:if(of=null,d=pi,pi=rf(r.containerInfo),wn(r,i),pi=d,Rn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Lo(r.containerInfo)}catch(mt){Qt(i,i.return,mt)}Tp&&(Tp=!1,MT(i));break;case 4:u=pi,pi=rf(i.stateNode.containerInfo),wn(r,i),Rn(i),pi=u;break;case 12:wn(r,i),Rn(i);break;case 31:wn(r,i),Rn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 13:wn(r,i),Rn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kh=Ye()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 22:d=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,Y=ys,W=xe;if(ys=Y||d,xe=W||O,wn(r,i),xe=W,ys=Y,Rn(i),u&8192)t:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||O||ys||xe||Ra(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=O.stateNode;var it=O.memoizedProps.style,$=it!=null&&it.hasOwnProperty("display")?it.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(mt){Qt(O,O.return,mt)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(mt){Qt(O,O.return,mt)}}}else if(r.tag===18){if(o===null){O=r;try{var Q=O.stateNode;d?bE(Q,!0):bE(O.stateNode,!1)}catch(mt){Qt(O,O.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qh(i,o))));break;case 19:wn(r,i),Rn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,qh(i,u)));break;case 30:break;case 21:break;default:wn(r,i),Rn(i)}}function Rn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(AT(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=vp(i);Hh(i,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Wn(E,""),o.flags&=-33);var A=vp(i);Hh(i,A,E);break;case 3:case 4:var O=o.stateNode.containerInfo,Y=vp(i);_p(i,Y,O);break;default:throw Error(s(161))}}catch(W){Qt(i,i.return,W)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function MT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;MT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function _s(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)CT(i,r.alternate,r),r=r.sibling}function Ra(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:fr(4,r,r.return),Ra(r);break;case 1:Li(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&bT(r,r.return,o),Ra(r);break;case 27:vu(r.stateNode);case 26:case 5:Li(r,r.return),Ra(r);break;case 22:r.memoizedState===null&&Ra(r);break;case 30:Ra(r);break;default:Ra(r)}i=i.sibling}}function Ts(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ts(d,g,o),lu(4,g);break;case 1:if(Ts(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Qt(u,u.return,Y)}if(u=g,d=u.updateQueue,d!==null){var A=u.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)c0(O[d],A)}catch(Y){Qt(u,u.return,Y)}}o&&E&64&&ET(g),uu(g,g.return);break;case 27:wT(g);case 26:case 5:Ts(d,g,o),o&&u===null&&E&4&&ST(g),uu(g,g.return);break;case 12:Ts(d,g,o);break;case 31:Ts(d,g,o),o&&E&4&&DT(d,g);break;case 13:Ts(d,g,o),o&&E&4&&NT(d,g);break;case 22:g.memoizedState===null&&Ts(d,g,o),uu(g,g.return);break;case 30:break;default:Ts(d,g,o)}r=r.sibling}}function Ep(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ql(o))}function bp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ql(i))}function gi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)OT(i,r,o,u),r=r.sibling}function OT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:gi(i,r,o,u),d&2048&&lu(9,r);break;case 1:gi(i,r,o,u);break;case 3:gi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ql(i)));break;case 12:if(d&2048){gi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Qt(r,r.return,O)}}else gi(i,r,o,u);break;case 31:gi(i,r,o,u);break;case 13:gi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,E=r.alternate,r.memoizedState!==null?g._visibility&2?gi(i,r,o,u):cu(i,r):g._visibility&2?gi(i,r,o,u):(g._visibility|=2,Ro(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&Ep(E,r);break;case 24:gi(i,r,o,u),d&2048&&bp(r.alternate,r);break;default:gi(i,r,o,u)}}function Ro(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,E=r,A=o,O=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Ro(g,E,A,O,d),lu(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ro(g,E,A,O,d):cu(g,E):(W._visibility|=2,Ro(g,E,A,O,d)),d&&Y&2048&&Ep(E.alternate,E);break;case 24:Ro(g,E,A,O,d),d&&Y&2048&&bp(E.alternate,E);break;default:Ro(g,E,A,O,d)}r=r.sibling}}function cu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:cu(o,u),d&2048&&Ep(u.alternate,u);break;case 24:cu(o,u),d&2048&&bp(u.alternate,u);break;default:cu(o,u)}r=r.sibling}}var hu=8192;function Co(i,r,o){if(i.subtreeFlags&hu)for(i=i.child;i!==null;)PT(i,r,o),i=i.sibling}function PT(i,r,o){switch(i.tag){case 26:Co(i,r,o),i.flags&hu&&i.memoizedState!==null&&y2(o,pi,i.memoizedState,i.memoizedProps);break;case 5:Co(i,r,o);break;case 3:case 4:var u=pi;pi=rf(i.stateNode.containerInfo),Co(i,r,o),pi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=hu,hu=16777216,Co(i,r,o),hu=u):Co(i,r,o));break;default:Co(i,r,o)}}function kT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function fu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];He=u,jT(u,i)}kT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)LT(i),i=i.sibling}function LT(i){switch(i.tag){case 0:case 11:case 15:fu(i),i.flags&2048&&fr(9,i,i.return);break;case 3:fu(i);break;case 12:fu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Gh(i)):fu(i);break;default:fu(i)}}function Gh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];He=u,jT(u,i)}kT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:fr(8,r,r.return),Gh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Gh(r));break;default:Gh(r)}i=i.sibling}}function jT(i,r){for(;He!==null;){var o=He;switch(o.tag){case 0:case 11:case 15:fr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,He=u;else t:for(o=i;He!==null;){u=He;var d=u.sibling,g=u.return;if(IT(u),u===o){He=null;break t}if(d!==null){d.return=g,He=d;break t}He=g}}}var Vx={getCacheForType:function(i){var r=We(Re),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return We(Re).controller.signal}},Mx=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Mt=null,Pt=0,$t=0,Un=null,dr=!1,Io=!1,Sp=!1,Es=0,ye=0,mr=0,Ca=0,Ap=0,zn=0,xo=0,du=null,Cn=null,wp=!1,Kh=0,UT=0,Yh=1/0,$h=null,pr=null,ke=0,gr=null,Do=null,bs=0,Rp=0,Cp=null,zT=null,mu=0,Ip=null;function Bn(){return(Kt&2)!==0&&Pt!==0?Pt&-Pt:Z.T!==null?Op():ts()}function BT(){if(zn===0)if((Pt&536870912)===0||zt){var i=Ci;Ci<<=1,(Ci&3932160)===0&&(Ci=262144),zn=i}else zn=536870912;return i=Ln.current,i!==null&&(i.flags|=32),zn}function In(i,r,o){(i===te&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(No(i,0),yr(i,Pt,zn,!1)),zs(i,o),((Kt&2)===0||i!==te)&&(i===te&&((Kt&2)===0&&(Ca|=o),ye===4&&yr(i,Pt,zn,!1)),ji(i))}function FT(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Us(i,r),d=u?kx(i,r):Dp(i,r,!0),g=u;do{if(d===0){Io&&!u&&yr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!Ox(o)){d=Dp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var A=i;d=du;var O=A.current.memoizedState.isDehydrated;if(O&&(No(A,E).flags|=256),E=Dp(A,E,!1),E!==2){if(Sp&&!O){A.errorRecoveryDisabledLanes|=g,Ca|=g,d=4;break t}g=Cn,Cn=d,g!==null&&(Cn===null?Cn=g:Cn.push.apply(Cn,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){No(i,0),yr(i,r,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:yr(u,r,zn,!dr);break t;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Kh+300-Ye(),10<d)){if(yr(u,r,zn,!dr),Qn(u,0,!0)!==0)break t;bs=r,u.timeoutHandle=_E(HT.bind(null,u,o,Cn,$h,wp,r,zn,Ca,xo,dr,g,"Throttled",-0,0),d);break t}HT(u,o,Cn,$h,wp,r,zn,Ca,xo,dr,g,null,-0,0)}}break}while(!0);ji(i)}function HT(i,r,o,u,d,g,E,A,O,Y,W,it,$,Q){if(i.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ze},PT(r,g,it);var mt=(g&62914560)===g?Kh-Ye():(g&4194048)===g?UT-Ye():0;if(mt=v2(it,mt),mt!==null){bs=g,i.cancelPendingCommit=mt(WT.bind(null,i,r,g,o,u,d,E,A,O,W,it,null,$,Q)),yr(i,g,E,!Y);return}}WT(i,r,g,o,u,d,E,A,O)}function Ox(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Pn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function yr(i,r,o,u){r&=~Ap,r&=~Ca,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-dn(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&Il(i,o,r)}function Qh(){return(Kt&6)===0?(pu(0),!1):!0}function xp(){if(Mt!==null){if($t===0)var i=Mt.return;else i=Mt,hs=va=null,Gm(i),Eo=null,Wl=0,i=Mt;for(;i!==null;)TT(i.alternate,i),i=i.return;Mt=null}}function No(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,t2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),bs=0,xp(),te=i,Mt=o=us(i.current,null),Pt=r,$t=0,Un=null,dr=!1,Io=Us(i,r),Sp=!1,xo=zn=Ap=Ca=mr=ye=0,Cn=du=null,wp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-dn(u),g=1<<d;r|=i[d],u&=~g}return Es=r,gh(),o}function qT(i,r){Rt=null,Z.H=ru,r===To||r===Ah?(r=a0(),$t=3):r===Mm?(r=a0(),$t=4):$t=r===op?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,Mt===null&&(ye=1,jh(i,Jn(r,i.current)))}function GT(){var i=Ln.current;return i===null?!0:(Pt&4194048)===Pt?ii===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?i===ii:!1}function KT(){var i=Z.H;return Z.H=ru,i===null?ru:i}function YT(){var i=Z.A;return Z.A=Vx,i}function Xh(){ye=4,dr||(Pt&4194048)!==Pt&&Ln.current!==null||(Io=!0),(mr&134217727)===0&&(Ca&134217727)===0||te===null||yr(te,Pt,zn,!1)}function Dp(i,r,o){var u=Kt;Kt|=2;var d=KT(),g=YT();(te!==i||Pt!==r)&&($h=null,No(i,r)),r=!1;var E=ye;t:do try{if($t!==0&&Mt!==null){var A=Mt,O=Un;switch($t){case 8:xp(),E=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var Y=$t;if($t=0,Un=null,Vo(i,A,O,Y),o&&Io){E=0;break t}break;default:Y=$t,$t=0,Un=null,Vo(i,A,O,Y)}}Px(),E=ye;break}catch(W){qT(i,W)}while(!0);return r&&i.shellSuspendCounter++,hs=va=null,Kt=u,Z.H=d,Z.A=g,Mt===null&&(te=null,Pt=0,gh()),E}function Px(){for(;Mt!==null;)$T(Mt)}function kx(i,r){var o=Kt;Kt|=2;var u=KT(),d=YT();te!==i||Pt!==r?($h=null,Yh=Ye()+500,No(i,r)):Io=Us(i,r);t:do try{if($t!==0&&Mt!==null){r=Mt;var g=Un;e:switch($t){case 1:$t=0,Un=null,Vo(i,r,g,1);break;case 2:case 9:if(s0(g)){$t=0,Un=null,QT(r);break}r=function(){$t!==2&&$t!==9||te!==i||($t=7),ji(i)},g.then(r,r);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:s0(g)?($t=0,Un=null,QT(r)):($t=0,Un=null,Vo(i,r,g,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var A=Mt;if(E?OE(E):A.stateNode.complete){$t=0,Un=null;var O=A.sibling;if(O!==null)Mt=O;else{var Y=A.return;Y!==null?(Mt=Y,Wh(Y)):Mt=null}break e}}$t=0,Un=null,Vo(i,r,g,5);break;case 6:$t=0,Un=null,Vo(i,r,g,6);break;case 8:xp(),ye=6;break t;default:throw Error(s(462))}}Lx();break}catch(W){qT(i,W)}while(!0);return hs=va=null,Z.H=u,Z.A=d,Kt=o,Mt!==null?0:(te=null,Pt=0,gh(),ye)}function Lx(){for(;Mt!==null&&!nm();)$T(Mt)}function $T(i){var r=vT(i.alternate,i,Es);i.memoizedProps=i.pendingProps,r===null?Wh(i):Mt=r}function QT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=fT(o,r,r.pendingProps,r.type,void 0,Pt);break;case 11:r=fT(o,r,r.pendingProps,r.type.render,r.ref,Pt);break;case 5:Gm(r);default:TT(o,r),r=Mt=Y_(r,Es),r=vT(o,r,Es)}i.memoizedProps=i.pendingProps,r===null?Wh(i):Mt=r}function Vo(i,r,o,u){hs=va=null,Gm(r),Eo=null,Wl=0;var d=r.return;try{if(wx(i,d,r,o,Pt)){ye=1,jh(i,Jn(o,i.current)),Mt=null;return}}catch(g){if(d!==null)throw Mt=d,g;ye=1,jh(i,Jn(o,i.current)),Mt=null;return}r.flags&32768?(zt||u===1?i=!0:Io||(Pt&536870912)!==0?i=!1:(dr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),XT(r,i)):Wh(r)}function Wh(i){var r=i;do{if((r.flags&32768)!==0){XT(r,dr);return}i=r.return;var o=Ix(r.alternate,r,Es);if(o!==null){Mt=o;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);ye===0&&(ye=5)}function XT(i,r){do{var o=xx(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);ye=6,Mt=null}function WT(i,r,o,u,d,g,E,A,O){i.cancelPendingCommit=null;do Zh();while(ke!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=vm,$e(i,o,g,E,A,O),i===te&&(Mt=te=null,Pt=0),Do=r,gr=i,bs=o,Rp=g,Cp=d,zT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Bx(Zi,function(){return nE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=at.p,at.p=2,E=Kt,Kt|=4;try{Dx(i,r,o)}finally{Kt=E,at.p=d,Z.T=u}}ke=1,ZT(),JT(),tE()}}function ZT(){if(ke===1){ke=0;var i=gr,r=Do,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=at.p;at.p=2;var d=Kt;Kt|=4;try{VT(r,i);var g=Fp,E=j_(i.containerInfo),A=g.focusedElem,O=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&L_(A.ownerDocument.documentElement,A)){if(O!==null&&dm(A)){var Y=O.start,W=O.end;if(W===void 0&&(W=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(W,A.value.length);else{var it=A.ownerDocument||document,$=it&&it.defaultView||window;if($.getSelection){var Q=$.getSelection(),mt=A.textContent.length,Et=Math.min(O.start,mt),Zt=O.end===void 0?Et:Math.min(O.end,mt);!Q.extend&&Et>Zt&&(E=Zt,Zt=Et,Et=E);var F=k_(A,Et),j=k_(A,Zt);if(F&&j&&(Q.rangeCount!==1||Q.anchorNode!==F.node||Q.anchorOffset!==F.offset||Q.focusNode!==j.node||Q.focusOffset!==j.offset)){var K=it.createRange();K.setStart(F.node,F.offset),Q.removeAllRanges(),Et>Zt?(Q.addRange(K),Q.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),Q.addRange(K))}}}}for(it=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&it.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<it.length;A++){var nt=it[A];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}hf=!!Bp,Fp=Bp=null}finally{Kt=d,at.p=u,Z.T=o}}i.current=r,ke=2}}function JT(){if(ke===2){ke=0;var i=gr,r=Do,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=at.p;at.p=2;var d=Kt;Kt|=4;try{CT(i,r.alternate,r)}finally{Kt=d,at.p=u,Z.T=o}}ke=3}}function tE(){if(ke===4||ke===3){ke=0,Al();var i=gr,r=Do,o=bs,u=zT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ke=5:(ke=0,Do=gr=null,eE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(pr=null),Dl(o),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ls,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,d=at.p,at.p=2,Z.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var A=u[E];g(A.value,{componentStack:A.stack})}}finally{Z.T=r,at.p=d}}(bs&3)!==0&&Zh(),ji(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Ip?mu++:(mu=0,Ip=i):mu=0,pu(0)}}function eE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ql(r)))}function Zh(){return ZT(),JT(),tE(),nE()}function nE(){if(ke!==5)return!1;var i=gr,r=Rp;Rp=0;var o=Dl(bs),u=Z.T,d=at.p;try{at.p=32>o?32:o,Z.T=null,o=Cp,Cp=null;var g=gr,E=bs;if(ke=0,Do=gr=null,bs=0,(Kt&6)!==0)throw Error(s(331));var A=Kt;if(Kt|=4,LT(g.current),OT(g,g.current,E,o),Kt=A,pu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ls,g)}catch{}return!0}finally{at.p=d,Z.T=u,eE(i,r)}}function iE(i,r,o){r=Jn(o,r),r=ap(i.stateNode,r,2),i=ur(i,r,2),i!==null&&(zs(i,2),ji(i))}function Qt(i,r,o){if(i.tag===3)iE(i,i,o);else for(;r!==null;){if(r.tag===3){iE(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pr===null||!pr.has(u))){i=Jn(o,i),o=sT(2),u=ur(r,o,2),u!==null&&(rT(o,u,r,i),zs(u,2),ji(u));break}}r=r.return}}function Np(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Mx;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(Sp=!0,d.add(o),i=jx.bind(null,i,r,o),r.then(i,i))}function jx(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(Pt&o)===o&&(ye===4||ye===3&&(Pt&62914560)===Pt&&300>Ye()-Kh?(Kt&2)===0&&No(i,0):Ap|=o,xo===Pt&&(xo=0)),ji(i)}function sE(i,r){r===0&&(r=Cl()),i=pa(i,r),i!==null&&(zs(i,r),ji(i))}function Ux(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),sE(i,o)}function zx(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),sE(i,o)}function Bx(i,r){return ta(i,r)}var Jh=null,Mo=null,Vp=!1,tf=!1,Mp=!1,vr=0;function ji(i){i!==Mo&&i.next===null&&(Mo===null?Jh=Mo=i:Mo=Mo.next=i),tf=!0,Vp||(Vp=!0,Hx())}function pu(i,r){if(!Mp&&tf){Mp=!0;do for(var o=!1,u=Jh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-dn(42|i)+1)-1,g&=d&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,lE(u,g))}else g=Pt,g=Qn(u,u===te?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Us(u,g)||(o=!0,lE(u,g));u=u.next}while(o);Mp=!1}}function Fx(){rE()}function rE(){tf=Vp=!1;var i=0;vr!==0&&Jx()&&(i=vr);for(var r=Ye(),o=null,u=Jh;u!==null;){var d=u.next,g=aE(u,r);g===0?(u.next=null,o===null?Jh=d:o.next=d,d===null&&(Mo=o)):(o=u,(i!==0||(g&3)!==0)&&(tf=!0)),u=d}ke!==0&&ke!==5||pu(i),vr!==0&&(vr=0)}function aE(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-dn(g),A=1<<E,O=d[E];O===-1?((A&o)===0||(A&u)!==0)&&(d[E]=Za(A,r)):O<=r&&(i.expiredLanes|=A),g&=~A}if(r=te,o=Pt,o=Qn(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&($t===2||$t===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Wa(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Us(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Wa(u),Dl(o)){case 2:case 8:o=Ue;break;case 32:o=Zi;break;case 268435456:o=wl;break;default:o=Zi}return u=oE.bind(null,i),o=ta(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Wa(u),i.callbackPriority=2,i.callbackNode=null,2}function oE(i,r){if(ke!==0&&ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zh()&&i.callbackNode!==o)return null;var u=Pt;return u=Qn(i,i===te?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(FT(i,u,r),aE(i,Ye()),i.callbackNode!=null&&i.callbackNode===o?oE.bind(null,i):null)}function lE(i,r){if(Zh())return null;FT(i,r,!0)}function Hx(){e2(function(){(Kt&6)!==0?ta(Pe,Fx):rE()})}function Op(){if(vr===0){var i=vo;i===0&&(i=na,na<<=1,(na&261888)===0&&(na=256)),vr=i}return vr}function uE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vi(""+i)}function cE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function qx(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=uE((d[Qe]||null).action),E=u.submitter;E&&(r=(r=E[Qe]||null)?uE(r.formAction):E.getAttribute("formAction"),r!==null&&(g=r,E=null));var A=new la("action","action",null,u,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(vr!==0){var O=E?cE(d,E):new FormData(d);tp(o,{pending:!0,data:O,method:d.method,action:g},null,O)}}else typeof g=="function"&&(A.preventDefault(),O=E?cE(d,E):new FormData(d),tp(o,{pending:!0,data:O,method:d.method,action:g},g,O))},currentTarget:d}]})}}for(var Pp=0;Pp<ym.length;Pp++){var kp=ym[Pp],Gx=kp.toLowerCase(),Kx=kp[0].toUpperCase()+kp.slice(1);mi(Gx,"on"+Kx)}mi(B_,"onAnimationEnd"),mi(F_,"onAnimationIteration"),mi(H_,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(lx,"onTransitionRun"),mi(ux,"onTransitionStart"),mi(cx,"onTransitionCancel"),mi(q_,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function hE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var E=u.length-1;0<=E;E--){var A=u[E],O=A.instance,Y=A.currentTarget;if(A=A.listener,O!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=Y;try{g(d)}catch(W){ph(W)}d.currentTarget=null,g=O}else for(E=0;E<u.length;E++){if(A=u[E],O=A.instance,Y=A.currentTarget,A=A.listener,O!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=Y;try{g(d)}catch(W){ph(W)}d.currentTarget=null,g=O}}}}function Ot(i,r){var o=r[Hs];o===void 0&&(o=r[Hs]=new Set);var u=i+"__bubble";o.has(u)||(fE(r,i,2,!1),o.add(u))}function Lp(i,r,o){var u=0;r&&(u|=4),fE(o,i,u,r)}var ef="_reactListening"+Math.random().toString(36).slice(2);function jp(i){if(!i[ef]){i[ef]=!0,Ja.forEach(function(o){o!=="selectionchange"&&(Yx.has(o)||Lp(o,!1,i),Lp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ef]||(r[ef]=!0,Lp("selectionchange",!1,r))}}function fE(i,r,o,u){switch(BE(r)){case 2:var d=E2;break;case 8:d=b2;break;default:d=Jp}o=d.bind(null,r,o,i),d=void 0,!jl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Up(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===d)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;A!==null;){if(E=ns(A),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=g=E;continue t}A=A.parentNode}}u=u.return}Jc(function(){var Y=g,W=so(o),it=[];t:{var $=G_.get(i);if($!==void 0){var Q=la,mt=i;switch(i){case"keypress":if(oa(o)===0)break t;case"keydown":case"keyup":Q=lh;break;case"focusin":mt="focus",Q=Js;break;case"focusout":mt="blur",Q=Js;break;case"beforeblur":case"afterblur":Q=Js;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=eh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ch;break;case B_:case F_:case H_:Q=oo;break;case q_:Q=lo;break;case"scroll":case"scrollend":Q=th;break;case"wheel":Q=fh;break;case"copy":case"cut":case"paste":Q=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hl;break;case"toggle":case"beforetoggle":Q=er}var Et=(r&4)!==0,Zt=!Et&&(i==="scroll"||i==="scrollend"),F=Et?$!==null?$+"Capture":null:$;Et=[];for(var j=Y,K;j!==null;){var nt=j;if(K=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||K===null||F===null||(nt=bn(j,F),nt!=null&&Et.push(yu(j,nt,K))),Zt)break;j=j.return}0<Et.length&&($=new Q($,mt,null,o,W),it.push({event:$,listeners:Et}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==io&&(mt=o.relatedTarget||o.fromElement)&&(ns(mt)||mt[xi]))break t;if((Q||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(mt=o.relatedTarget||o.toElement,Q=Y,mt=mt?ns(mt):null,mt!==null&&(Zt=l(mt),Et=mt.tag,mt!==Zt||Et!==5&&Et!==27&&Et!==6)&&(mt=null)):(Q=null,mt=Y),Q!==mt)){if(Et=eh,nt="onMouseLeave",F="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Et=Hl,nt="onPointerLeave",F="onPointerEnter",j="pointer"),Zt=Q==null?$:sa(Q),K=mt==null?$:sa(mt),$=new Et(nt,j+"leave",Q,o,W),$.target=Zt,$.relatedTarget=K,nt=null,ns(W)===Y&&(Et=new Et(F,j+"enter",mt,o,W),Et.target=K,Et.relatedTarget=Zt,nt=Et),Zt=nt,Q&&mt)e:{for(Et=$x,F=Q,j=mt,K=0,nt=F;nt;nt=Et(nt))K++;nt=0;for(var _t=j;_t;_t=Et(_t))nt++;for(;0<K-nt;)F=Et(F),K--;for(;0<nt-K;)j=Et(j),nt--;for(;K--;){if(F===j||j!==null&&F===j.alternate){Et=F;break e}F=Et(F),j=Et(j)}Et=null}else Et=null;Q!==null&&dE(it,$,Q,Et,!1),mt!==null&&Zt!==null&&dE(it,Zt,mt,Et,!0)}}t:{if($=Y?sa(Y):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var qt=D_;else if(Sn($))if(N_)qt=rx;else{qt=ix;var yt=nx}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&kl(Y.elementType)&&(qt=D_):qt=sx;if(qt&&(qt=qt(i,Y))){fa(it,qt,o,W);break t}yt&&yt(i,$,Y),i==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&no($,"number",$.value)}switch(yt=Y?sa(Y):window,i){case"focusin":(Sn(yt)||yt.contentEditable==="true")&&(uo=yt,mm=Y,Kl=null);break;case"focusout":Kl=mm=uo=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,U_(it,o,W);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":U_(it,o,W)}var Ct;if(v)t:{switch(i){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Dt?Yt(i,o)&&(kt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(q&&o.locale!=="ko"&&(Dt||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Dt&&(Ct=Qs()):(On=W,ro="value"in On?On.value:On.textContent,Dt=!0)),yt=nf(Y,kt),0<yt.length&&(kt=new zl(kt,i,null,o,W),it.push({event:kt,listeners:yt}),Ct?kt.data=Ct:(Ct=we(o),Ct!==null&&(kt.data=Ct)))),(Ct=R?Be(i,o):Fe(i,o))&&(kt=nf(Y,"onBeforeInput"),0<kt.length&&(yt=new zl("onBeforeInput","beforeinput",null,o,W),it.push({event:yt,listeners:kt}),yt.data=Ct)),qx(it,i,Y,o,W)}hE(it,r)})}function yu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function nf(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=bn(i,o),d!=null&&u.unshift(yu(i,d,g)),d=bn(i,r),d!=null&&u.push(yu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function $x(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function dE(i,r,o,u,d){for(var g=r._reactName,E=[];o!==null&&o!==u;){var A=o,O=A.alternate,Y=A.stateNode;if(A=A.tag,O!==null&&O===u)break;A!==5&&A!==26&&A!==27||Y===null||(O=Y,d?(Y=bn(o,g),Y!=null&&E.unshift(yu(o,Y,O))):d||(Y=bn(o,g),Y!=null&&E.push(yu(o,Y,O)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var Qx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function mE(i){return(typeof i=="string"?i:""+i).replace(Qx,`
`).replace(Xx,"")}function pE(i,r){return r=mE(r),mE(i)===r}function Wt(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Wn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Wn(i,""+u);break;case"className":Ks(i,"class",u);break;case"tabIndex":Ks(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(i,o,u);break;case"style":Wc(i,u,g);break;case"data":if(r!=="object"){Ks(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Vi(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Wt(i,r,"name",d.name,d,null),Wt(i,r,"formEncType",d.formEncType,d,null),Wt(i,r,"formMethod",d.formMethod,d,null),Wt(i,r,"formTarget",d.formTarget,d,null)):(Wt(i,r,"encType",d.encType,d,null),Wt(i,r,"method",d.method,d,null),Wt(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Vi(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ze);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Vi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),Gs(i,"popover",u);break;case"xlinkActuate":Xn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gs(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lm.get(o)||o,Gs(i,o,u))}}function zp(i,r,o,u,d,g){switch(o){case"style":Wc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Wn(i,u):(typeof u=="number"||typeof u=="bigint")&&Wn(i,""+u);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ze);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qs.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Qe]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Gs(i,o,u)}}}function Je(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,g,E,o,null)}}d&&Wt(i,r,"srcSet",o.srcSet,o,null),u&&Wt(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var A=g=E=d=null,O=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":d=W;break;case"type":E=W;break;case"checked":O=W;break;case"defaultChecked":Y=W;break;case"value":g=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Wt(i,r,u,W,o,null)}}ra(i,g,A,O,Y,E,d,!1);return;case"select":Ot("invalid",i),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Wt(i,r,d,A,o,null)}r=g,o=E,i.multiple=!!u,r!=null?Ht(i,!!u,r,!1):o!=null&&Ht(i,!!u,o,!0);return;case"textarea":Ot("invalid",i),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Wt(i,r,E,A,o,null)}$s(i,u,d,g);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(i,r,O,u,o,null)}return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(u=0;u<gu.length;u++)Ot(gu[u],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,Y,u,o,null)}return;default:if(kl(r)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&zp(i,r,W,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Wt(i,r,A,u,o,null))}function Wx(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,A=null,O=null,Y=null,W=null;for(Q in o){var it=o[Q];if(o.hasOwnProperty(Q)&&it!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=it;default:u.hasOwnProperty(Q)||Wt(i,r,Q,null,u,it)}}for(var $ in u){var Q=u[$];if(it=o[$],u.hasOwnProperty($)&&(Q!=null||it!=null))switch($){case"type":g=Q;break;case"name":d=Q;break;case"checked":Y=Q;break;case"defaultChecked":W=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==it&&Wt(i,r,$,Q,u,it)}}Ys(i,E,A,O,Y,W,g,d);return;case"select":Q=E=A=$=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":Q=O;default:u.hasOwnProperty(g)||Wt(i,r,g,null,u,O)}for(d in u)if(g=u[d],O=o[d],u.hasOwnProperty(d)&&(g!=null||O!=null))switch(d){case"value":$=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==O&&Wt(i,r,d,g,u,O)}r=A,o=E,u=Q,$!=null?Ht(i,!!o,$,!1):!!u!=!!o&&(r!=null?Ht(i,!!o,r,!0):Ht(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Wt(i,r,A,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":$=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&Wt(i,r,E,d,u,g)}aa(i,$,Q);return;case"option":for(var mt in o)if($=o[mt],o.hasOwnProperty(mt)&&$!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:Wt(i,r,mt,null,u,$)}for(O in u)if($=u[O],Q=o[O],u.hasOwnProperty(O)&&$!==Q&&($!=null||Q!=null))switch(O){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Wt(i,r,O,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)$=o[Et],o.hasOwnProperty(Et)&&$!=null&&!u.hasOwnProperty(Et)&&Wt(i,r,Et,null,u,$);for(Y in u)if($=u[Y],Q=o[Y],u.hasOwnProperty(Y)&&$!==Q&&($!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Wt(i,r,Y,$,u,Q)}return;default:if(kl(r)){for(var Zt in o)$=o[Zt],o.hasOwnProperty(Zt)&&$!==void 0&&!u.hasOwnProperty(Zt)&&zp(i,r,Zt,void 0,u,$);for(W in u)$=u[W],Q=o[W],!u.hasOwnProperty(W)||$===Q||$===void 0&&Q===void 0||zp(i,r,W,$,u,Q);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!u.hasOwnProperty(F)&&Wt(i,r,F,null,u,$);for(it in u)$=u[it],Q=o[it],!u.hasOwnProperty(it)||$===Q||$==null&&Q==null||Wt(i,r,it,$,u,Q)}function gE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zx(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,E=d.initiatorType,A=d.duration;if(g&&A&&gE(E)){for(E=0,A=d.responseEnd,u+=1;u<o.length;u++){var O=o[u],Y=O.startTime;if(Y>A)break;var W=O.transferSize,it=O.initiatorType;W&&gE(it)&&(O=O.responseEnd,E+=W*(O<A?1:(A-Y)/(O-Y)))}if(--u,r+=8*(g+E)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Bp=null,Fp=null;function sf(i){return i.nodeType===9?i:i.ownerDocument}function yE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Hp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var qp=null;function Jx(){var i=window.event;return i&&i.type==="popstate"?i===qp?!1:(qp=i,!0):(qp=null,!1)}var _E=typeof setTimeout=="function"?setTimeout:void 0,t2=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(i){return TE.resolve(null).then(i).catch(n2)}:_E;function n2(i){setTimeout(function(){throw i})}function _r(i){return i==="head"}function EE(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Lo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")vu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,vu(o);for(var g=o.firstChild;g;){var E=g.nextSibling,A=g.nodeName;g[es]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&vu(i.ownerDocument.body);o=d}while(o);Lo(r)}function bE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Gp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gp(o),ia(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function i2(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[es])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=si(i.nextSibling),i===null)break}return null}function s2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=si(i.nextSibling),i===null))return null;return i}function SE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=si(i.nextSibling),i===null))return null;return i}function Kp(i){return i.data==="$?"||i.data==="$~"}function Yp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function r2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function si(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var $p=null;function AE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return si(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function wE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function RE(i,r,o){switch(r=sf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function vu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ia(i)}var ri=new Map,CE=new Set;function rf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=at.d;at.d={f:a2,r:o2,D:l2,C:u2,L:c2,m:h2,X:d2,S:f2,M:m2};function a2(){var i=Ss.f(),r=Qh();return i||r}function o2(i){var r=is(i);r!==null&&r.tag===5&&r.type==="form"?q0(r):Ss.r(i)}var Oo=typeof document>"u"?null:document;function IE(i,r,o){var u=Oo;if(u&&typeof r=="string"&&r){var d=pe(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),CE.has(d)||(CE.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Je(r,"link",i),Te(r),u.head.appendChild(r)))}}function l2(i){Ss.D(i),IE("dns-prefetch",i,null)}function u2(i,r){Ss.C(i,r),IE("preconnect",i,r)}function c2(i,r,o){Ss.L(i,r,o);var u=Oo;if(u&&i&&r){var d='link[rel="preload"][as="'+pe(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+pe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+pe(o.imageSizes)+'"]')):d+='[href="'+pe(i)+'"]';var g=d;switch(r){case"style":g=Po(i);break;case"script":g=ko(i)}ri.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ri.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(_u(g))||r==="script"&&u.querySelector(Tu(g))||(r=u.createElement("link"),Je(r,"link",i),Te(r),u.head.appendChild(r)))}}function h2(i,r){Ss.m(i,r);var o=Oo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+pe(u)+'"][href="'+pe(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ko(i)}if(!ri.has(g)&&(i=_({rel:"modulepreload",href:i},r),ri.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tu(g)))return}u=o.createElement("link"),Je(u,"link",i),Te(u),o.head.appendChild(u)}}}function f2(i,r,o){Ss.S(i,r,o);var u=Oo;if(u&&i){var d=fi(u).hoistableStyles,g=Po(i);r=r||"default";var E=d.get(g);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(_u(g)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ri.get(g))&&Qp(i,o);var O=E=u.createElement("link");Te(O),Je(O,"link",i),O._p=new Promise(function(Y,W){O.onload=Y,O.onerror=W}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,af(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:A},d.set(g,E)}}}function d2(i,r){Ss.X(i,r);var o=Oo;if(o&&i){var u=fi(o).hoistableScripts,d=ko(i),g=u.get(d);g||(g=o.querySelector(Tu(d)),g||(i=_({src:i,async:!0},r),(r=ri.get(d))&&Xp(i,r),g=o.createElement("script"),Te(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function m2(i,r){Ss.M(i,r);var o=Oo;if(o&&i){var u=fi(o).hoistableScripts,d=ko(i),g=u.get(d);g||(g=o.querySelector(Tu(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=ri.get(d))&&Xp(i,r),g=o.createElement("script"),Te(g),Je(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function xE(i,r,o,u){var d=(d=xt.current)?rf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Po(o.href),o=fi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Po(o.href);var g=fi(d).hoistableStyles,E=g.get(i);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=d.querySelector(_u(i)))&&!g._p&&(E.instance=g,E.state.loading=5),ri.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ri.set(i,o),g||p2(d,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ko(o),o=fi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Po(i){return'href="'+pe(i)+'"'}function _u(i){return'link[rel="stylesheet"]['+i+"]"}function DE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function p2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",o),Te(r),i.head.appendChild(r))}function ko(i){return'[src="'+pe(i)+'"]'}function Tu(i){return"script[async]"+i}function NE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+pe(o.href)+'"]');if(u)return r.instance=u,Te(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Te(u),Je(u,"style",d),af(u,o.precedence,i),r.instance=u;case"stylesheet":d=Po(o.href);var g=i.querySelector(_u(d));if(g)return r.state.loading|=4,r.instance=g,Te(g),g;u=DE(o),(d=ri.get(d))&&Qp(u,d),g=(i.ownerDocument||i).createElement("link"),Te(g);var E=g;return E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),Je(g,"link",u),r.state.loading|=4,af(g,o.precedence,i),r.instance=g;case"script":return g=ko(o.src),(d=i.querySelector(Tu(g)))?(r.instance=d,Te(d),d):(u=o,(d=ri.get(g))&&(u=_({},o),Xp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Te(d),Je(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,af(u,o.precedence,i));return r.instance}function af(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===r)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Qp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var of=null;function VE(i,r,o){if(of===null){var u=new Map,d=of=new Map;d.set(o,u)}else d=of,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[es]||g[me]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(r)||"";E=i+E;var A=u.get(E);A?A.push(g):u.set(E,[g])}}return u}function ME(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function g2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function OE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function y2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Po(u.href),g=r.querySelector(_u(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=lf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Te(g);return}g=r.ownerDocument||r,u=DE(u),(d=ri.get(d))&&Qp(u,d),g=g.createElement("link"),Te(g);var E=g;E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),Je(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=lf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Wp=0;function v2(i,r){return i.stylesheets&&i.count===0&&cf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Wp===0&&(Wp=62500*Zx());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&cf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Wp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var uf=null;function cf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,uf=new Map,r.forEach(_2,i),uf=null,lf.call(i))}function _2(i,r){if(!(r.state.loading&4)){var o=uf.get(i);if(o)var u=o.get(null);else{o=new Map,uf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=r.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=lf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Eu={$$typeof:B,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function T2(i,r,o,u,d,g,E,A,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function PE(i,r,o,u,d,g,E,A,O,Y,W,it){return i=new T2(i,r,o,E,O,Y,W,it,A),r=1,g===!0&&(r|=24),g=kn(3,null,null,r),i.current=g,g.stateNode=i,r=Dm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Om(g),i}function kE(i){return i?(i=fo,i):fo}function LE(i,r,o,u,d,g){d=kE(d),u.context===null?u.context=d:u.pendingContext=d,u=lr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ur(i,u,r),o!==null&&(In(o,i,r),Jl(o,i,r))}function jE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Zp(i,r){jE(i,r),(i=i.alternate)&&jE(i,r)}function UE(i){if(i.tag===13||i.tag===31){var r=pa(i,67108864);r!==null&&In(r,i,67108864),Zp(i,67108864)}}function zE(i){if(i.tag===13||i.tag===31){var r=Bn();r=xl(r);var o=pa(i,r);o!==null&&In(o,i,r),Zp(i,r)}}var hf=!0;function E2(i,r,o,u){var d=Z.T;Z.T=null;var g=at.p;try{at.p=2,Jp(i,r,o,u)}finally{at.p=g,Z.T=d}}function b2(i,r,o,u){var d=Z.T;Z.T=null;var g=at.p;try{at.p=8,Jp(i,r,o,u)}finally{at.p=g,Z.T=d}}function Jp(i,r,o,u){if(hf){var d=tg(u);if(d===null)Up(i,r,u,ff,o),FE(i,u);else if(A2(d,i,r,o,u))u.stopPropagation();else if(FE(i,u),r&4&&-1<S2.indexOf(i)){for(;d!==null;){var g=is(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=hi(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var O=1<<31-dn(E);A.entanglements[1]|=O,E&=~O}ji(g),(Kt&6)===0&&(Yh=Ye()+500,pu(0))}}break;case 31:case 13:A=pa(g,2),A!==null&&In(A,g,2),Qh(),Zp(g,2)}if(g=tg(u),g===null&&Up(i,r,u,ff,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Up(i,r,u,null,o)}}function tg(i){return i=so(i),eg(i)}var ff=null;function eg(i){if(ff=null,i=ns(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ff=i,null}function BE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qc()){case Pe:return 2;case Ue:return 8;case Zi:case Gc:return 32;case wl:return 268435456;default:return 32}default:return 32}}var ng=!1,Tr=null,Er=null,br=null,bu=new Map,Su=new Map,Sr=[],S2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FE(i,r){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":bu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(r.pointerId)}}function Au(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=is(r),r!==null&&UE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function A2(i,r,o,u,d){switch(r){case"focusin":return Tr=Au(Tr,i,r,o,u,d),!0;case"dragenter":return Er=Au(Er,i,r,o,u,d),!0;case"mouseover":return br=Au(br,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return bu.set(g,Au(bu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Su.set(g,Au(Su.get(g)||null,i,r,o,u,d)),!0}return!1}function HE(i){var r=ns(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Yc(i.priority,function(){zE(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,Yc(i.priority,function(){zE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function df(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=tg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);io=u,o.target.dispatchEvent(u),io=null}else return r=is(o),r!==null&&UE(r),i.blockedOn=o,!1;r.shift()}return!0}function qE(i,r,o){df(i)&&o.delete(r)}function w2(){ng=!1,Tr!==null&&df(Tr)&&(Tr=null),Er!==null&&df(Er)&&(Er=null),br!==null&&df(br)&&(br=null),bu.forEach(qE),Su.forEach(qE)}function mf(i,r){i.blockedOn===r&&(i.blockedOn=null,ng||(ng=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,w2)))}var pf=null;function GE(i){pf!==i&&(pf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pf===i&&(pf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(eg(u||o)===null)continue;break}var g=is(o);g!==null&&(i.splice(r,3),r-=3,tp(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Lo(i){function r(O){return mf(O,i)}Tr!==null&&mf(Tr,i),Er!==null&&mf(Er,i),br!==null&&mf(br,i),bu.forEach(r),Su.forEach(r);for(var o=0;o<Sr.length;o++){var u=Sr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Sr.length&&(o=Sr[0],o.blockedOn===null);)HE(o),o.blockedOn===null&&Sr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[Qe]||null;if(typeof g=="function")E||GE(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[Qe]||null)A=E.formAction;else if(eg(d)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),GE(o)}}}function KE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function ig(i){this._internalRoot=i}gf.prototype.render=ig.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Bn();LE(o,u,i,r,null,null)},gf.prototype.unmount=ig.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;LE(i.current,2,null,i,null,null),Qh(),r[xi]=null}};function gf(i){this._internalRoot=i}gf.prototype.unstable_scheduleHydration=function(i){if(i){var r=ts();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Sr.length&&r!==0&&r<Sr[o].priority;o++);Sr.splice(o,0,i),o===0&&HE(i)}};var YE=t.version;if(YE!=="19.2.4")throw Error(s(527,YE,"19.2.4"));at.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var R2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Ls=yf.inject(R2),rn=yf}catch{}}return Ru.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=tT,g=eT,E=nT;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=PE(i,1,!1,null,null,o,u,null,d,g,E,KE),i[xi]=r.current,jp(i),new ig(r)},Ru.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=tT,E=eT,A=nT,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=PE(i,1,!0,r,o??null,u,d,O,g,E,A,KE),r.context=kE(null),o=r.current,u=Bn(),u=xl(u),d=lr(u),d.callback=null,ur(o,d,u),o=u,r.current.lanes=o,zs(r,o),ji(r),i[xi]=r.current,jp(i),new gf(r)},Ru.version="19.2.4",Ru}var ib;function L2(){if(ib)return ag.exports;ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ag.exports=k2(),ag.exports}var j2=L2();const U2=cw(j2);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sb="popstate";function z2(n={}){function t(s,a){let{pathname:l,search:c,hash:f}=s.location;return Fg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(s,a){return typeof a=="string"?a:tc(a)}return F2(t,e,null,n)}function oe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function bi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B2(){return Math.random().toString(36).substring(2,10)}function rb(n,t){return{usr:n.state,key:n.key,idx:t}}function Fg(n,t,e=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ul(t):t,state:e,key:t&&t.key||s||B2()}}function tc({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ul(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function F2(n,t,e,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let x=y(),L=x==null?null:x-p;p=x,m&&m({action:f,location:k.location,delta:L})}function T(x,L){f="PUSH";let G=Fg(k.location,x,L);p=y()+1;let B=rb(G,p),tt=k.createHref(G);try{c.pushState(B,"",tt)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;a.location.assign(tt)}l&&m&&m({action:f,location:k.location,delta:1})}function w(x,L){f="REPLACE";let G=Fg(k.location,x,L);p=y();let B=rb(G,p),tt=k.createHref(G);c.replaceState(B,"",tt),l&&m&&m({action:f,location:k.location,delta:0})}function D(x){return H2(x)}let k={get action(){return f},get location(){return n(a,c)},listen(x){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(sb,_),m=x,()=>{a.removeEventListener(sb,_),m=null}},createHref(x){return t(a,x)},createURL:D,encodeLocation(x){let L=D(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:w,go(x){return c.go(x)}};return k}function H2(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),oe(e,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:tc(n);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function hw(n,t,e="/"){return q2(n,t,e,!1)}function q2(n,t,e,s){let a=typeof t=="string"?ul(t):t,l=Cs(a.pathname||"/",e);if(l==null)return null;let c=fw(n);G2(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=nD(l);f=tD(c[m],p,s)}return f}function fw(n,t=[],e=[],s="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;oe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Rs([s,y.relativePath]),T=e.concat(y);c.children&&c.children.length>0&&(oe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),fw(c.children,t,T,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:Z2(_,c.index),routesMeta:T})};return n.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let p of dw(c.path))l(c,f,!0,p)}),t}function dw(n){let t=n.split("/");if(t.length===0)return[];let[e,...s]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=dw(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function G2(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:J2(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var K2=/^:[\w-]+$/,Y2=3,$2=2,Q2=1,X2=10,W2=-2,ab=n=>n==="*";function Z2(n,t){let e=n.split("/"),s=e.length;return e.some(ab)&&(s+=W2),t&&(s+=$2),e.filter(a=>!ab(a)).reduce((a,l)=>a+(K2.test(l)?Y2:l===""?Q2:X2),s)}function J2(n,t){return n.length===t.length&&n.slice(0,-1).every((s,a)=>s===t[a])?n[n.length-1]-t[t.length-1]:0}function tD(n,t,e=!1){let{routesMeta:s}=n,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Yf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),T=m.route;if(!_&&p&&e&&!s[s.length-1].route.index&&(_=Yf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Rs([l,_.pathname]),pathnameBase:aD(Rs([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=Rs([l,_.pathnameBase]))}return c}function Yf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,s]=eD(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},T)=>{if(y==="*"){let D=f[T]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const w=f[T];return _&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function eD(n,t=!1,e=!0){bi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function nD(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Cs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=n.charAt(e);return s&&s!=="/"?null:n.slice(e)||"/"}var iD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function sD(n,t="/"){let{pathname:e,search:s="",hash:a=""}=typeof n=="string"?ul(n):n,l;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?l=ob(e.substring(1),"/"):l=ob(e,t)):l=t,{pathname:l,search:oD(s),hash:lD(a)}}function ob(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function cg(n,t,e,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rD(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function By(n){let t=rD(n);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function Fy(n,t,e,s=!1){let a;typeof n=="string"?a=ul(n):(a={...n},oe(!a.pathname||!a.pathname.includes("?"),cg("?","pathname","search",a)),oe(!a.pathname||!a.pathname.includes("#"),cg("#","pathname","hash",a)),oe(!a.search||!a.search.includes("#"),cg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=e;else{let _=t.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}f=_>=0?t[_]:"/"}let m=sD(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Rs=n=>n.join("/").replace(/\/\/+/g,"/"),aD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,uD=class{constructor(n,t,e,s=!1){this.status=n,this.statusText=t||"",this.internal=s,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function cD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function hD(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pw(n,t){let e=n;if(typeof e!="string"||!iD.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let s=e,a=!1;if(mw)try{let l=new URL(window.location.href),c=e.startsWith("//")?new URL(l.protocol+e):new URL(e),f=Cs(c.pathname,t);c.origin===l.origin&&f!=null?e=f+c.search+c.hash:a=!0}catch{bi(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gw=["POST","PUT","PATCH","DELETE"];new Set(gw);var fD=["GET",...gw];new Set(fD);var cl=V.createContext(null);cl.displayName="DataRouter";var Rd=V.createContext(null);Rd.displayName="DataRouterState";var dD=V.createContext(!1),yw=V.createContext({isTransitioning:!1});yw.displayName="ViewTransition";var mD=V.createContext(new Map);mD.displayName="Fetchers";var pD=V.createContext(null);pD.displayName="Await";var Yn=V.createContext(null);Yn.displayName="Navigation";var vc=V.createContext(null);vc.displayName="Location";var wi=V.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Hy=V.createContext(null);Hy.displayName="RouteError";var vw="REACT_ROUTER_ERROR",gD="REDIRECT",yD="ROUTE_ERROR_RESPONSE";function vD(n){if(n.startsWith(`${vw}:${gD}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _D(n){if(n.startsWith(`${vw}:${yD}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new uD(t.status,t.statusText,t.data)}catch{}}function TD(n,{relative:t}={}){oe(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=V.useContext(Yn),{hash:a,pathname:l,search:c}=_c(n,{relative:t}),f=l;return e!=="/"&&(f=l==="/"?e:Rs([e,l])),s.createHref({pathname:f,search:c,hash:a})}function hl(){return V.useContext(vc)!=null}function Yr(){return oe(hl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(vc).location}var _w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tw(n){V.useContext(Yn).static||V.useLayoutEffect(n)}function Ga(){let{isDataRoute:n}=V.useContext(wi);return n?PD():ED()}function ED(){oe(hl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(cl),{basename:t,navigator:e}=V.useContext(Yn),{matches:s}=V.useContext(wi),{pathname:a}=Yr(),l=JSON.stringify(By(s)),c=V.useRef(!1);return Tw(()=>{c.current=!0}),V.useCallback((m,p={})=>{if(bi(c.current,_w),!c.current)return;if(typeof m=="number"){e.go(m);return}let y=Fy(m,JSON.parse(l),a,p.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Rs([t,y.pathname])),(p.replace?e.replace:e.push)(y,p.state,p)},[t,e,l,a,n])}var bD=V.createContext(null);function SD(n){let t=V.useContext(wi).outlet;return V.useMemo(()=>t&&V.createElement(bD.Provider,{value:n},t),[t,n])}function _c(n,{relative:t}={}){let{matches:e}=V.useContext(wi),{pathname:s}=Yr(),a=JSON.stringify(By(e));return V.useMemo(()=>Fy(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function AD(n,t){return Ew(n,t)}function Ew(n,t,e,s,a){var G;oe(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(Yn),{matches:c}=V.useContext(wi),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let B=_&&_.path||"";Sw(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Yr(),w;if(t){let B=typeof t=="string"?ul(t):t;oe(y==="/"||((G=B.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=T;let D=w.pathname||"/",k=D;if(y!=="/"){let B=y.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let x=hw(n,{pathname:k});bi(_||x!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=xD(x&&x.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Rs([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Rs([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,e,s,a);return t&&L?V.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},L):L}function wD(){let n=OD(),t=cD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),e?V.createElement("pre",{style:a},e):null,c)}var RD=V.createElement(wD,null),bw=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=_D(n.digest);e&&(n=e)}let t=n!==void 0?V.createElement(wi.Provider,{value:this.props.routeContext},V.createElement(Hy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?V.createElement(CD,{error:n},t):t}};bw.contextType=dD;var hg=new WeakMap;function CD({children:n,error:t}){let{basename:e}=V.useContext(Yn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=vD(t.digest);if(s){let a=hg.get(t);if(a)throw a;let l=pw(s.location,e);if(mw&&!hg.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw hg.set(t,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function ID({routeContext:n,match:t,children:e}){let s=V.useContext(cl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(wi.Provider,{value:n},e)}function xD(n,t=[],e=null,s=null,a=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,c=e==null?void 0:e.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);oe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(e)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:T,errors:w}=e,D=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=e&&s?(y,_)=>{var T,w;s(y,{location:e.location,params:((w=(T=e.matches)==null?void 0:T[0])==null?void 0:w.params)??{},unstable_pattern:hD(e.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,T)=>{let w,D=!1,k=null,x=null;e&&(w=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||RD,f&&(m<0&&T===0?(Sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,x=null):m===T&&(D=!0,x=_.route.hydrateFallbackElement||null)));let L=t.concat(l.slice(0,T+1)),G=()=>{let B;return w?B=k:D?B=x:_.route.Component?B=V.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=y,V.createElement(ID,{match:_,routeContext:{outlet:y,matches:L,isDataRoute:e!=null},children:B})};return e&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?V.createElement(bw,{location:e.location,revalidation:e.revalidation,component:k,error:w,children:G(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:p}):G()},null)}function qy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DD(n){let t=V.useContext(cl);return oe(t,qy(n)),t}function ND(n){let t=V.useContext(Rd);return oe(t,qy(n)),t}function VD(n){let t=V.useContext(wi);return oe(t,qy(n)),t}function Gy(n){let t=VD(n),e=t.matches[t.matches.length-1];return oe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function MD(){return Gy("useRouteId")}function OD(){var s;let n=V.useContext(Hy),t=ND("useRouteError"),e=Gy("useRouteError");return n!==void 0?n:(s=t.errors)==null?void 0:s[e]}function PD(){let{router:n}=DD("useNavigate"),t=Gy("useNavigate"),e=V.useRef(!1);return Tw(()=>{e.current=!0}),V.useCallback(async(a,l={})=>{bi(e.current,_w),e.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:t,...l}))},[n,t])}var lb={};function Sw(n,t,e){!t&&!lb[n]&&(lb[n]=!0,bi(!1,e))}V.memo(kD);function kD({routes:n,future:t,state:e,onError:s}){return Ew(n,void 0,e,s,t)}function Aw({to:n,replace:t,state:e,relative:s}){oe(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext(Yn);bi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(wi),{pathname:c}=Yr(),f=Ga(),m=Fy(n,By(l),c,s==="path"),p=JSON.stringify(m);return V.useEffect(()=>{f(JSON.parse(p),{replace:t,state:e,relative:s})},[f,p,s,t,e]),null}function LD(n){return SD(n.context)}function xa(n){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jD({basename:n="/",children:t=null,location:e,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){oe(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof e=="string"&&(e=ul(e));let{pathname:p="/",search:y="",hash:_="",state:T=null,key:w="default"}=e,D=V.useMemo(()=>{let k=Cs(p,f);return k==null?null:{location:{pathname:k,search:y,hash:_,state:T,key:w},navigationType:s}},[f,p,y,_,T,w,s]);return bi(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement(Yn.Provider,{value:m},V.createElement(vc.Provider,{children:t,value:D}))}function UD({children:n,location:t}){return AD(Hg(n),t)}function Hg(n,t=[]){let e=[];return V.Children.forEach(n,(s,a)=>{if(!V.isValidElement(s))return;let l=[...t,a];if(s.type===V.Fragment){e.push.apply(e,Hg(s.props.children,l));return}oe(s.type===xa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Hg(s.props.children,l)),e.push(c)}),e}var xf="get",Df="application/x-www-form-urlencoded";function Cd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function zD(n){return Cd(n)&&n.tagName.toLowerCase()==="button"}function BD(n){return Cd(n)&&n.tagName.toLowerCase()==="form"}function FD(n){return Cd(n)&&n.tagName.toLowerCase()==="input"}function HD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qD(n,t){return n.button===0&&(!t||t==="_self")&&!HD(n)}var vf=null;function GD(){if(vf===null)try{new FormData(document.createElement("form"),0),vf=!1}catch{vf=!0}return vf}var KD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(n){return n!=null&&!KD.has(n)?(bi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Df}"`),null):n}function YD(n,t){let e,s,a,l,c;if(BD(n)){let f=n.getAttribute("action");s=f?Cs(f,t):null,e=n.getAttribute("method")||xf,a=fg(n.getAttribute("enctype"))||Df,l=new FormData(n)}else if(zD(n)||FD(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(s=m?Cs(m,t):null,e=n.getAttribute("formmethod")||f.getAttribute("method")||xf,a=fg(n.getAttribute("formenctype"))||fg(f.getAttribute("enctype"))||Df,l=new FormData(f,n),!GD()){let{name:p,type:y,value:_}=n;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,_)}}else{if(Cd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=xf,s=null,a=Df,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:e.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ky(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function $D(n,t,e,s){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&Cs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function QD(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function WD(n,t,e){let s=await Promise.all(n.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await QD(l,e);return c.links?c.links():[]}return[]}));return eN(s.flat(1).filter(XD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ub(n,t,e,s,a,l){let c=(m,p)=>e[p]?m.route.id!==e[p].route.id:!0,f=(m,p)=>{var y;return e[p].pathname!==m.pathname||((y=e[p].route.path)==null?void 0:y.endsWith("*"))&&e[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{var _;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=e[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ZD(n,t,{includeHydrateFallback:e}={}){return JD(n.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function JD(n){return[...new Set(n)]}function tN(n){let t={},e=Object.keys(n).sort();for(let s of e)t[s]=n[s];return t}function eN(n,t){let e=new Set;return new Set(t),n.reduce((s,a)=>{let l=JSON.stringify(tN(a));return e.has(l)||(e.add(l),s.push({key:l,link:a})),s},[])}function ww(){let n=V.useContext(cl);return Ky(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nN(){let n=V.useContext(Rd);return Ky(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yy=V.createContext(void 0);Yy.displayName="FrameworkContext";function Rw(){let n=V.useContext(Yy);return Ky(n,"You must render this element inside a <HydratedRouter> element"),n}function iN(n,t){let e=V.useContext(Yy),[s,a]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,T=V.useRef(null);V.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=L=>{L.forEach(G=>{c(G.isIntersecting)})},x=new IntersectionObserver(k,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[n]),V.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let w=()=>{a(!0)},D=()=>{a(!1),c(!1)};return e?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Cu(f,w),onBlur:Cu(m,D),onMouseEnter:Cu(p,w),onMouseLeave:Cu(y,D),onTouchStart:Cu(_,w)}]:[!1,T,{}]}function Cu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function sN({page:n,...t}){let{router:e}=ww(),s=V.useMemo(()=>hw(e.routes,n,e.basename),[e.routes,n,e.basename]);return s?V.createElement(aN,{page:n,matches:s,...t}):null}function rN(n){let{manifest:t,routeModules:e}=Rw(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return WD(n,t,e).then(c=>{l||a(c)}),()=>{l=!0}},[n,t,e]),s}function aN({page:n,matches:t,...e}){let s=Yr(),{future:a,manifest:l,routeModules:c}=Rw(),{basename:f}=ww(),{loaderData:m,matches:p}=nN(),y=V.useMemo(()=>ub(n,t,p,l,s,"data"),[n,t,p,l,s]),_=V.useMemo(()=>ub(n,t,p,l,s,"assets"),[n,t,p,l,s]),T=V.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let k=new Set,x=!1;if(t.forEach(G=>{var tt;let B=l.routes[G.route.id];!B||!B.hasLoader||(!y.some(st=>st.route.id===G.route.id)&&G.route.id in m&&((tt=c[G.route.id])!=null&&tt.shouldRevalidate)||B.hasClientLoader?x=!0:k.add(G.route.id))}),k.size===0)return[];let L=$D(n,f,a.unstable_trailingSlashAwareDataRequests,"data");return x&&k.size>0&&L.searchParams.set("_routes",t.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[L.pathname+L.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,t,n,c]),w=V.useMemo(()=>ZD(_,l),[_,l]),D=rN(_);return V.createElement(V.Fragment,null,T.map(k=>V.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...e})),w.map(k=>V.createElement("link",{key:k,rel:"modulepreload",href:k,...e})),D.map(({key:k,link:x})=>V.createElement("link",{key:k,nonce:e.nonce,...x,crossOrigin:x.crossOrigin??e.crossOrigin})))}function oN(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var lN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lN&&(window.__reactRouterVersion="7.13.0")}catch{}function uN({basename:n,children:t,unstable_useTransitions:e,window:s}){let a=V.useRef();a.current==null&&(a.current=z2({window:s,v5Compat:!0}));let l=a.current,[c,f]=V.useState({action:l.action,location:l.location}),m=V.useCallback(p=>{e===!1?f(p):V.startTransition(()=>f(p))},[e]);return V.useLayoutEffect(()=>l.listen(m),[l,m]),V.createElement(jD,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:e})}var Cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$y=V.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...w},D){let{basename:k,unstable_useTransitions:x}=V.useContext(Yn),L=typeof p=="string"&&Cw.test(p),G=pw(p,k);p=G.to;let B=TD(p,{relative:a}),[tt,st,ot]=iN(s,w),N=dN(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:T,unstable_useTransitions:x});function C(M){t&&t(M),M.defaultPrevented||N(M)}let I=V.createElement("a",{...w,...ot,href:G.absoluteURL||B,onClick:G.isExternal||l?t:C,ref:oN(D,st),target:m,"data-discover":!L&&e==="render"?"true":void 0});return tt&&!L?V.createElement(V.Fragment,null,I,V.createElement(sN,{page:B})):I});$y.displayName="Link";var cN=V.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=_c(c,{relative:p.relative}),T=Yr(),w=V.useContext(Rd),{navigator:D,basename:k}=V.useContext(Yn),x=w!=null&&vN(_)&&f===!0,L=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,G=T.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(G=G.toLowerCase(),B=B?B.toLowerCase():null,L=L.toLowerCase()),B&&k&&(B=Cs(B,k)||B);const tt=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let st=G===L||!a&&G.startsWith(L)&&G.charAt(tt)==="/",ot=B!=null&&(B===L||!a&&B.startsWith(L)&&B.charAt(L.length)==="/"),N={isActive:st,isPending:ot,isTransitioning:x},C=st?t:void 0,I;typeof s=="function"?I=s(N):I=[s,st?"active":null,ot?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(N):l;return V.createElement($y,{...p,"aria-current":C,className:I,ref:y,style:M,to:c,viewTransition:f},typeof m=="function"?m(N):m)});cN.displayName="NavLink";var hN=V.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:a,state:l,method:c=xf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...w},D)=>{let{unstable_useTransitions:k}=V.useContext(Yn),x=gN(),L=yN(f,{relative:p}),G=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&Cw.test(f),tt=st=>{if(m&&m(st),st.defaultPrevented)return;st.preventDefault();let ot=st.nativeEvent.submitter,N=(ot==null?void 0:ot.getAttribute("formmethod"))||c,C=()=>x(ot||st.currentTarget,{fetcherKey:t,method:N,navigate:e,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T});k&&e!==!1?V.startTransition(()=>C()):C()};return V.createElement("form",{ref:D,method:G,action:L,onSubmit:s?m:tt,...w,"data-discover":!B&&n==="render"?"true":void 0})});hN.displayName="Form";function fN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(n){let t=V.useContext(cl);return oe(t,fN(n)),t}function dN(n,{target:t,replace:e,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Ga(),y=Yr(),_=_c(n,{relative:l});return V.useCallback(T=>{if(qD(T,t)){T.preventDefault();let w=e!==void 0?e:tc(y)===tc(_),D=()=>p(n,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?V.startTransition(()=>D()):D()}},[y,p,_,e,s,t,n,a,l,c,f,m])}var mN=0,pN=()=>`__${String(++mN)}__`;function gN(){let{router:n}=Iw("useSubmit"),{basename:t}=V.useContext(Yn),e=MD(),s=n.fetch,a=n.navigate;return V.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:y,body:_}=YD(l,t);if(c.navigate===!1){let T=c.fetcherKey||pN();await s(T,e,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,e])}function yN(n,{relative:t}={}){let{basename:e}=V.useContext(Yn),s=V.useContext(wi);oe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={..._c(n||".",{relative:t})},c=Yr();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Rs([e,l.pathname])),tc(l)}function vN(n,{relative:t}={}){let e=V.useContext(yw);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Iw("useViewTransitionState"),a=_c(n,{relative:t});if(!e.isTransitioning)return!1;let l=Cs(e.currentLocation.pathname,s)||e.currentLocation.pathname,c=Cs(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Yf(a.pathname,c)!=null||Yf(a.pathname,l)!=null}const xw=V.createContext();function _N({children:n}){const[t,e]=V.useState(()=>{const a=localStorage.getItem("blindly-theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});V.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("blindly-theme",t)},[t]);const s=()=>{e(a=>a==="dark"?"light":"dark")};return S.jsx(xw.Provider,{value:{theme:t,toggleTheme:s},children:n})}function TN(){const n=V.useContext(xw);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n}const EN=()=>{};var cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},bN=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],f=n[e++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let T=(f&15)<<2|p>>6,w=p&63;m||(w=64,c||(T=64)),s.push(e[y],e[_],e[T],e[w])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Dw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):bN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],f=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new SN;const T=l<<2|f>>4;if(s.push(T),p!==64){const w=f<<4&240|p>>2;if(s.push(w),_!==64){const D=p<<6&192|_;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AN=function(n){const t=Dw(n);return Nw.encodeByteArray(t,!0)},$f=function(n){return AN(n).replace(/\./g,"")},Vw=function(n){try{return Nw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=()=>wN().__FIREBASE_DEFAULTS__,CN=()=>{if(typeof process>"u"||typeof cb>"u")return;const n=cb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},IN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Vw(n[1]);return t&&JSON.parse(t)},Id=()=>{try{return EN()||RN()||CN()||IN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Mw=n=>{var t,e;return(e=(t=Id())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},xN=n=>{const t=Mw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},Ow=()=>{var n;return(n=Id())===null||n===void 0?void 0:n.config},Pw=n=>{var t;return(t=Id())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$f(JSON.stringify(e)),$f(JSON.stringify(c)),""].join(".")}const Uu={};function VN(){const n={prod:[],emulator:[]};for(const t of Object.keys(Uu))Uu[t]?n.emulator.push(t):n.prod.push(t);return n}function MN(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let hb=!1;function Lw(n,t){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||Uu[n]===t||Uu[n]||hb)return;Uu[n]=t;function e(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=VN().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{hb=!0,c()},T}function y(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=MN(s),w=e("text"),D=document.getElementById(w)||document.createElement("span"),k=e("learnmore"),x=document.getElementById(k)||document.createElement("a"),L=e("preprendIcon"),G=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;f(B),y(x,k);const tt=p();m(G,L),B.append(G,D,x,tt),document.body.appendChild(B)}l?(D.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ON(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function PN(){var n;const t=(n=Id())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UN(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zN(){return!PN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BN(){try{return typeof indexedDB=="object"}catch{return!1}}function FN(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="FirebaseError";class Ps extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=HN,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?qN(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ps(a,f,s)}}function qN(n,t){return n.replace(GN,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const GN=/\{\$([^}]+)}/g;function KN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function La(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const l=n[a],c=t[a];if(fb(l)&&fb(c)){if(!La(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function fb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Du(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Nu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function YN(n,t){const e=new $N(n,t);return e.subscribe.bind(e)}class $N{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");QN(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=dg),a.error===void 0&&(a.error=dg),a.complete===void 0&&(a.complete=dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QN(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(n){return n&&n._delegate?n._delegate:n}class ja{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new DN;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZN(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(t,e){var s;const a=this.normalizeInstanceIdentifier(e),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WN(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WN(n){return n===Da?void 0:n}function ZN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new XN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const tV={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},eV=Lt.INFO,nV={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},iV=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=nV[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qy{constructor(t){this.name=t,this._logLevel=eV,this._logHandler=iV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const sV=(n,t)=>t.some(e=>n instanceof e);let db,mb;function rV(){return db||(db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aV(){return mb||(mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,qg=new WeakMap,Uw=new WeakMap,mg=new WeakMap,Xy=new WeakMap;function oV(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(Or(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&jw.set(e,n)}).catch(()=>{}),Xy.set(t,n),t}function lV(n){if(qg.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});qg.set(n,t)}let Gg={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return qg.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Uw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function uV(n){Gg=n(Gg)}function cV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(pg(this),t,...e);return Uw.set(s,t.sort?t.sort():[t]),Or(s)}:aV().includes(n)?function(...t){return n.apply(pg(this),t),Or(jw.get(this))}:function(...t){return Or(n.apply(pg(this),t))}}function hV(n){return typeof n=="function"?cV(n):(n instanceof IDBTransaction&&lV(n),sV(n,rV())?new Proxy(n,Gg):n)}function Or(n){if(n instanceof IDBRequest)return oV(n);if(mg.has(n))return mg.get(n);const t=hV(n);return t!==n&&(mg.set(n,t),Xy.set(t,n)),t}const pg=n=>Xy.get(n);function fV(n,t,{blocked:e,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),f=Or(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Or(c.result),m.oldVersion,m.newVersion,Or(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const dV=["get","getKey","getAll","getAllKeys","count"],mV=["put","add","delete","clear"],gg=new Map;function pb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(gg.get(t))return gg.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=mV.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||dV.includes(e)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[e](...f),a&&m.done]))[0]};return gg.set(t,l),l}uV(n=>({...n,get:(t,e,s)=>pb(t,e)||n.get(t,e,s),has:(t,e)=>!!pb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(gV(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function gV(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Kg="@firebase/app",gb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Qy("@firebase/app"),yV="@firebase/app-compat",vV="@firebase/analytics-compat",_V="@firebase/analytics",TV="@firebase/app-check-compat",EV="@firebase/app-check",bV="@firebase/auth",SV="@firebase/auth-compat",AV="@firebase/database",wV="@firebase/data-connect",RV="@firebase/database-compat",CV="@firebase/functions",IV="@firebase/functions-compat",xV="@firebase/installations",DV="@firebase/installations-compat",NV="@firebase/messaging",VV="@firebase/messaging-compat",MV="@firebase/performance",OV="@firebase/performance-compat",PV="@firebase/remote-config",kV="@firebase/remote-config-compat",LV="@firebase/storage",jV="@firebase/storage-compat",UV="@firebase/firestore",zV="@firebase/ai",BV="@firebase/firestore-compat",FV="firebase",HV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="[DEFAULT]",qV={[Kg]:"fire-core",[yV]:"fire-core-compat",[_V]:"fire-analytics",[vV]:"fire-analytics-compat",[EV]:"fire-app-check",[TV]:"fire-app-check-compat",[bV]:"fire-auth",[SV]:"fire-auth-compat",[AV]:"fire-rtdb",[wV]:"fire-data-connect",[RV]:"fire-rtdb-compat",[CV]:"fire-fn",[IV]:"fire-fn-compat",[xV]:"fire-iid",[DV]:"fire-iid-compat",[NV]:"fire-fcm",[VV]:"fire-fcm-compat",[MV]:"fire-perf",[OV]:"fire-perf-compat",[PV]:"fire-rc",[kV]:"fire-rc-compat",[LV]:"fire-gcs",[jV]:"fire-gcs-compat",[UV]:"fire-fst",[BV]:"fire-fst-compat",[zV]:"fire-vertex","fire-js":"fire-js",[FV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,GV=new Map,$g=new Map;function yb(n,t){try{n.container.addComponent(t)}catch(e){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function nl(n){const t=n.name;if($g.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;$g.set(t,n);for(const e of Qf.values())yb(e,n);for(const e of GV.values())yb(e,n);return!0}function Wy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Fn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Tc("app","Firebase",KV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=HV;function zw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Yg,automaticDataCollectionEnabled:!0},t),a=s.name;if(typeof a!="string"||!a)throw Pr.create("bad-app-name",{appName:String(a)});if(e||(e=Ow()),!e)throw Pr.create("no-options");const l=Qf.get(a);if(l){if(La(e,l.options)&&La(s,l.config))return l;throw Pr.create("duplicate-app",{appName:a})}const c=new JN(a);for(const m of $g.values())c.addComponent(m);const f=new YV(e,s,c);return Qf.set(a,f),f}function Bw(n=Yg){const t=Qf.get(n);if(!t&&n===Yg&&Ow())return zw();if(!t)throw Pr.create("no-app",{appName:n});return t}function kr(n,t,e){var s;let a=(s=qV[n])!==null&&s!==void 0?s:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(f.join(" "));return}nl(new ja(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="firebase-heartbeat-database",QV=1,ec="firebase-heartbeat-store";let yg=null;function Fw(){return yg||(yg=fV($V,QV,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ec)}catch(e){console.warn(e)}}}}).catch(n=>{throw Pr.create("idb-open",{originalErrorMessage:n.message})})),yg}async function XV(n){try{const e=(await Fw()).transaction(ec),s=await e.objectStore(ec).get(Hw(n));return await e.done,s}catch(t){if(t instanceof Ps)Is.warn(t.message);else{const e=Pr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Is.warn(e.message)}}}async function vb(n,t){try{const s=(await Fw()).transaction(ec,"readwrite");await s.objectStore(ec).put(t,Hw(n)),await s.done}catch(e){if(e instanceof Ps)Is.warn(e.message);else{const s=Pr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Is.warn(s.message)}}}function Hw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=1024,ZV=30;class JV{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new eM(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=_b();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>ZV){const c=nM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Is.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_b(),{heartbeatsToSend:s,unsentEntries:a}=tM(this._heartbeatsCache.heartbeats),l=$f(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Is.warn(e),""}}}function _b(){return new Date().toISOString().substring(0,10)}function tM(n,t=WV){const e=[];let s=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Tb(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Tb(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class eM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BN()?FN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await XV(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return vb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return vb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Tb(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function nM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n){nl(new ja("platform-logger",t=>new pV(t),"PRIVATE")),nl(new ja("heartbeat",t=>new JV(t),"PRIVATE")),kr(Kg,gb,n),kr(Kg,gb,"esm2017"),kr("fire-js","")}iM("");function Zy(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sM=qw,Gw=new Tc("auth","Firebase",qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new Qy("@firebase/auth");function rM(n,...t){Xf.logLevel<=Lt.WARN&&Xf.warn(`Auth (${ml}): ${n}`,...t)}function Nf(n,...t){Xf.logLevel<=Lt.ERROR&&Xf.error(`Auth (${ml}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(n,...t){throw Jy(n,...t)}function Gn(n,...t){return Jy(n,...t)}function Kw(n,t,e){const s=Object.assign(Object.assign({},sM()),{[t]:e});return new Tc("auth","Firebase",s).create(t,{appName:n.name})}function Fi(n){return Kw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jy(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return Gw.create(n,...t)}function ft(n,t,...e){if(!n)throw Jy(t,...e)}function As(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Nf(t),new Error(t)}function xs(n,t){n||As(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Yw(){return Eb()==="http:"||Eb()==="https:"}function Eb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yw()||LN()||"connection"in navigator)?navigator.onLine:!0}function oM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,e){this.shortDelay=t,this.longDelay=e,xs(e>t,"Short delay should be less than long delay!"),this.isMobile=ON()||jN()}get(){return aM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n,t){xs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cM=new Ec(3e4,6e4);function Vn(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function ui(n,t,e,s,a={}){return Qw(n,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const f=dl(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:t,headers:m},l);return kN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&fl(n.emulatorConfig.host)&&(p.credentials="include"),$w.fetch()(await Xw(n,n.config.apiHost,e,f),p)})}async function Qw(n,t,e){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},lM),t);try{const a=new fM(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Vu(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Vu(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Vu(n,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Kw(n,y,p);Si(n,y)}}catch(a){if(a instanceof Ps)throw a;Si(n,"network-request-failed",{message:String(a)})}}async function $r(n,t,e,s,a={}){const l=await ui(n,t,e,s,a);return"mfaPendingCredential"in l&&Si(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Xw(n,t,e,s){const a=`${t}${e}?${s}`,l=n,c=l.config.emulator?tv(n.config,a):`${n.config.apiScheme}://${a}`;return uM.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function hM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Gn(this.auth,"network-request-failed")),cM.get())})}}function Vu(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=Gn(n,t,s);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n){return n!==void 0&&n.getResponse!==void 0}function Sb(n){return n!==void 0&&n.enterprise!==void 0}class Ww{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return hM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(n){return(await ui(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Zw(n,t){return ui(n,"GET","/v2/recaptchaConfig",Vn(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(n,t){return ui(n,"POST","/v1/accounts:delete",t)}async function Wf(n,t){return ui(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pM(n,t=!1){const e=_e(n),s=await e.getIdToken(t),a=ev(s);ft(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:zu(vg(a.auth_time)),issuedAtTime:zu(vg(a.iat)),expirationTime:zu(vg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function vg(n){return Number(n)*1e3}function ev(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return Nf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Vw(e);return a?JSON.parse(a):(Nf("Failed to decode base64 JWT payload"),null)}catch(a){return Nf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ab(n){const t=ev(n);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Ps&&gM(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function gM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(n){var t;const e=n.auth,s=await n.getIdToken(),a=await nc(n,Wf(e,{idToken:s}));ft(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Jw(l.providerUserInfo):[],f=_M(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Xg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function vM(n){const t=_e(n);await Zf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _M(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Jw(n){return n.map(t=>{var{providerId:e}=t,s=Zy(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n,t){const e=await Qw(n,{},async()=>{const s=dl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Xw(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return n.emulatorConfig&&fl(n.emulatorConfig.host)&&(m.credentials="include"),$w.fetch()(c,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function EM(n,t){return ui(n,"POST","/v2/accounts:revokeToken",Vn(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ab(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ft(t.length!==0,"internal-error");const e=Ab(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:l}=await TM(t,e);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:l}=e,c=new Xo;return s&&(ft(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(ft(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(ft(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,t){ft(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class _i{constructor(t){var{uid:e,auth:s,stsTokenManager:a}=t,l=Zy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await nc(this,this.stsTokenManager.getToken(this.auth,t));return ft(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return pM(this,t)}reload(){return vM(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new _i(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Zf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Fi(this.auth));const t=await this.getIdToken();return await nc(this,mM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,a,l,c,f,m,p,y;const _=(s=e.displayName)!==null&&s!==void 0?s:void 0,T=(a=e.email)!==null&&a!==void 0?a:void 0,w=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,D=(c=e.photoURL)!==null&&c!==void 0?c:void 0,k=(f=e.tenantId)!==null&&f!==void 0?f:void 0,x=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,L=(p=e.createdAt)!==null&&p!==void 0?p:void 0,G=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:tt,isAnonymous:st,providerData:ot,stsTokenManager:N}=e;ft(B&&N,t,"internal-error");const C=Xo.fromJSON(this.name,N);ft(typeof B=="string",t,"internal-error"),wr(_,t.name),wr(T,t.name),ft(typeof tt=="boolean",t,"internal-error"),ft(typeof st=="boolean",t,"internal-error"),wr(w,t.name),wr(D,t.name),wr(k,t.name),wr(x,t.name),wr(L,t.name),wr(G,t.name);const I=new _i({uid:B,auth:t,email:T,emailVerified:tt,displayName:_,isAnonymous:st,photoURL:D,phoneNumber:w,tenantId:k,stsTokenManager:C,createdAt:L,lastLoginAt:G});return ot&&Array.isArray(ot)&&(I.providerData=ot.map(M=>Object.assign({},M))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(t,e,s=!1){const a=new Xo;a.updateFromServerResponse(e);const l=new _i({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Zf(l),l}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];ft(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Jw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Xo;f.updateFromIdToken(s);const m=new _i({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Map;function ws(n){xs(n instanceof Function,"Expected a class definition");let t=wb.get(n);return t?(xs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,wb.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}t1.type="NONE";const Rb=t1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n,t,e){return`firebase:${n}:${t}:${e}`}class Wo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Vf("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Wf(this.auth,{idToken:t}).catch(()=>{});return e?_i._fromGetAccountInfoResponse(this.auth,e,t):null}return _i._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Wo(ws(Rb),t,s);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ws(Rb);const c=Vf(s,t.config.apiKey,t.name);let f=null;for(const p of e)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const T=await Wf(t,{idToken:y}).catch(()=>{});if(!T)break;_=await _i._fromGetAccountInfoResponse(t,T,y)}else _=_i._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Wo(l,t,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Wo(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(s1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(e1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(a1(t))return"Blackberry";if(o1(t))return"Webos";if(n1(t))return"Safari";if((t.includes("chrome/")||i1(t))&&!t.includes("edge/"))return"Chrome";if(r1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function e1(n=fn()){return/firefox\//i.test(n)}function n1(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function i1(n=fn()){return/crios\//i.test(n)}function s1(n=fn()){return/iemobile/i.test(n)}function r1(n=fn()){return/android/i.test(n)}function a1(n=fn()){return/blackberry/i.test(n)}function o1(n=fn()){return/webos/i.test(n)}function nv(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bM(n=fn()){var t;return nv(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function SM(){return UN()&&document.documentMode===10}function l1(n=fn()){return nv(n)||r1(n)||o1(n)||a1(n)||/windows phone/i.test(n)||s1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n,t=[]){let e;switch(n){case"Browser":e=Cb(fn());break;case"Worker":e=`${Cb(fn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ml}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(n,t={}){return ui(n,"GET","/v2/passwordPolicy",Vn(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=6;class CM{constructor(t){var e,s,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:RM,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ib(this),this.idTokenSubscription=new Ib(this),this.beforeStateQueue=new AM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ws(e)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Wf(this,{idToken:t}),s=await _i._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Zf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(Fi(this));const e=t?_e(t):null;return e&&ft(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wM(this),e=new CM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Tc("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await EM(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ws(t)||this._popupRedirectResolver;ft(e,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[ws(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(e);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&rM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xi(n){return _e(n)}class Ib{constructor(t){this.auth=t,this.observer=null,this.addObserver=YN(e=>this.observer=e)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xM(n){bc=n}function iv(n){return bc.loadJS(n)}function DM(){return bc.recaptchaV2Script}function NM(){return bc.recaptchaEnterpriseScript}function VM(){return bc.gapiScript}function c1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=500,OM=6e4,_f=1e12;class PM{constructor(t){this.auth=t,this.counter=_f,this._widgets=new Map}render(t,e){const s=this.counter;return this._widgets.set(s,new jM(t,this.auth.name,e||{})),this.counter++,s}reset(t){var e;const s=t||_f;(e=this._widgets.get(s))===null||e===void 0||e.delete(),this._widgets.delete(s)}getResponse(t){var e;const s=t||_f;return((e=this._widgets.get(s))===null||e===void 0?void 0:e.getResponse())||""}async execute(t){var e;const s=t||_f;return(e=this._widgets.get(s))===null||e===void 0||e.execute(),""}}class kM{constructor(){this.enterprise=new LM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class LM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class jM{constructor(t,e,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof t=="string"?document.getElementById(t):t;ft(a,"argument-error",{appName:e}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=UM(50);const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch{}this.isVisible&&this.execute()},OM)},MM))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function UM(n){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<n;s++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}const zM="recaptcha-enterprise",Bu="NO_RECAPTCHA";class h1{constructor(t){this.type=zM,this.auth=Xi(t)}async verify(t="verify",e=!1){async function s(l){if(!e){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{Zw(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ww(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;Sb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(Bu)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kM().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!e&&Sb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=NM();m.length!==0&&(m+=f),iv(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function Iu(n,t,e,s=!1,a=!1){const l=new h1(n);let c;if(a)c=Bu;else try{c=await l.verify(e)}catch{c=await l.verify(e,!0)}const f=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Zo(n,t,e,s,a){var l,c;if(a==="EMAIL_PASSWORD_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Iu(n,t,e,e==="getOobCode");return s(n,f)}else return s(n,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Iu(n,t,e,e==="getOobCode");return s(n,m)}else return Promise.reject(f)});else if(a==="PHONE_PROVIDER")if(!((c=n._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("PHONE_PROVIDER")){const f=await Iu(n,t,e);return s(n,f).catch(async m=>{var p;if(((p=n._getRecaptchaConfig())===null||p===void 0?void 0:p.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(m.code==="auth/missing-recaptcha-token"||m.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);const y=await Iu(n,t,e,!1,!0);return s(n,y)}return Promise.reject(m)})}else{const f=await Iu(n,t,e,!1,!0);return s(n,f)}else return Promise.reject(a+" provider is not supported.")}async function BM(n){const t=Xi(n),e=await Zw(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new Ww(e);t.tenantId==null?t._agentRecaptchaConfig=s:t._tenantRecaptchaConfigs[t.tenantId]=s,s.isAnyProviderEnabled()&&new h1(t).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(n,t){const e=Wy(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(La(l,t??{}))return a;Si(a,"already-initialized")}return e.initialize({options:t})}function HM(n,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(ws);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function qM(n,t,e){const s=Xi(n);ft(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=f1(t),{host:c,port:f}=GM(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ft(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ft(La(p,s.config.emulator)&&La(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,fl(c)?(kw(`${l}//${c}${m}`),Lw("Auth",!0)):KM()}function f1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function GM(n){const t=f1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:xb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:xb(c)}}}function xb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function KM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return As("not implemented")}_getIdTokenResponse(t){return As("not implemented")}_linkToIdToken(t,e){return As("not implemented")}_getReauthenticationResolver(t){return As("not implemented")}}async function YM(n,t){return ui(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(n,t){return $r(n,"POST","/v1/accounts:signInWithPassword",Vn(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(n,t){return $r(n,"POST","/v1/accounts:signInWithEmailLink",Vn(n,t))}async function XM(n,t){return $r(n,"POST","/v1/accounts:signInWithEmailLink",Vn(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends xd{constructor(t,e,s,a=null){super("password",s),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new ic(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new ic(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zo(t,e,"signInWithPassword",$M,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return QM(t,{email:this._email,oobCode:this._password});default:Si(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zo(t,s,"signUpPassword",YM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XM(t,{idToken:e,email:this._email,oobCode:this._password});default:Si(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,t){return $r(n,"POST","/v1/accounts:signInWithIdp",Vn(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="http://localhost";class Ua extends xd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Si("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=e,l=Zy(e,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Ua(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Jo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Jo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Jo(t,e)}buildRequest(){const t={requestUri:WM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=dl(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(n,t){return ui(n,"POST","/v1/accounts:sendVerificationCode",Vn(n,t))}async function ZM(n,t){return $r(n,"POST","/v1/accounts:signInWithPhoneNumber",Vn(n,t))}async function JM(n,t){const e=await $r(n,"POST","/v1/accounts:signInWithPhoneNumber",Vn(n,t));if(e.temporaryProof)throw Vu(n,"account-exists-with-different-credential",e);return e}const tO={USER_NOT_FOUND:"user-not-found"};async function eO(n,t){const e=Object.assign(Object.assign({},t),{operation:"REAUTH"});return $r(n,"POST","/v1/accounts:signInWithPhoneNumber",Vn(n,e),tO)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends xd{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Fu({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Fu({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return ZM(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return JM(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return eO(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:s,verificationCode:a}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:s,code:a}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:e,verificationCode:s,phoneNumber:a,temporaryProof:l}=t;return!s&&!e&&!a&&!l?null:new Fu({verificationId:e,verificationCode:s,phoneNumber:a,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iO(n){const t=Du(Nu(n)).link,e=t?Du(Nu(t)).deep_link_id:null,s=Du(Nu(n)).deep_link_id;return(s?Du(Nu(s)).link:null)||s||e||t||n}class sv{constructor(t){var e,s,a,l,c,f;const m=Du(Nu(t)),p=(e=m.apiKey)!==null&&e!==void 0?e:null,y=(s=m.oobCode)!==null&&s!==void 0?s:null,_=nO((a=m.mode)!==null&&a!==void 0?a:null);ft(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const e=iO(t);try{return new sv(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(t,e){return ic._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=sv.parseLink(e);return ft(s,"argument-error"),ic._fromEmailAndCode(t,s.code,s.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends d1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Sc{constructor(){super("facebook.com")}static credential(t){return Ua._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ua._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return xr.credential(e,s)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Sc{constructor(){super("github.com")}static credential(t){return Ua._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Sc{constructor(){super("twitter.com")}static credential(t,e){return Ua._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Nr.credential(e,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,t){return $r(n,"POST","/v1/accounts:signUp",Vn(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const l=await _i._fromIdTokenResponse(t,s,a),c=Nb(s);return new za({user:l,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=Nb(s);return new za({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function Nb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends Ps{constructor(t,e,s,a){var l;super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Jf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new Jf(t,e,s,a)}}function m1(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Jf._fromErrorAndOperation(n,l,t,s):l})}async function rO(n,t,e=!1){const s=await nc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return za._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(n,t,e=!1){const{auth:s}=n;if(Fn(s.app))return Promise.reject(Fi(s));const a="reauthenticate";try{const l=await nc(n,m1(s,a,t,n),e);ft(l.idToken,s,"internal-error");const c=ev(l.idToken);ft(c,s,"internal-error");const{sub:f}=c;return ft(n.uid===f,s,"user-mismatch"),za._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Si(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(n,t,e=!1){if(Fn(n.app))return Promise.reject(Fi(n));const s="signIn",a=await m1(n,s,t),l=await za._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(l.user),l}async function g1(n,t){return p1(Xi(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(n){const t=Xi(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function oO(n,t,e){if(Fn(n.app))return Promise.reject(Fi(n));const s=Xi(n),c=await Zo(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sO,"EMAIL_PASSWORD_PROVIDER").catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&y1(n),m}),f=await za._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function lO(n,t,e){return Fn(n.app)?Promise.reject(Fi(n)):g1(_e(n),pl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&y1(n),s})}function uO(n,t,e,s){return _e(n).onIdTokenChanged(t,e,s)}function cO(n,t,e){return _e(n).beforeAuthStateChanged(t,e)}function hO(n,t,e,s){return _e(n).onAuthStateChanged(t,e,s)}function fO(n){return _e(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,t){return ui(n,"POST","/v2/accounts/mfaEnrollment:start",Vn(n,t))}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=1e3,mO=10;class _1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);SM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,mO):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},dO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}_1.type="LOCAL";const pO=_1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}T1.type="SESSION";const E1=T1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new Dd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(e.origin,l)),m=await gO(f);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=rv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(){return window}function vO(n){Ve().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(){return typeof Ve().WorkerGlobalScope<"u"&&typeof Ve().importScripts=="function"}async function _O(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function EO(){return av()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebaseLocalStorageDb",bO=1,ed="firebaseLocalStorage",S1="fbase_key";class Ac{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Nd(n,t){return n.transaction([ed],t?"readwrite":"readonly").objectStore(ed)}function SO(){const n=indexedDB.deleteDatabase(b1);return new Ac(n).toPromise()}function Wg(){const n=indexedDB.open(b1,bO);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(ed,{keyPath:S1})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(ed)?t(s):(s.close(),await SO(),t(await Wg()))})})}async function Mb(n,t,e){const s=Nd(n,!0).put({[S1]:t,value:e});return new Ac(s).toPromise()}async function AO(n,t){const e=Nd(n,!1).get(t),s=await new Ac(e).toPromise();return s===void 0?null:s.value}function Ob(n,t){const e=Nd(n,!0).delete(t);return new Ac(e).toPromise()}const wO=800,RO=3;class A1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>RO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return av()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(EO()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await _O(),!this.activeServiceWorker)return;this.sender=new yO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||TO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wg();return await Mb(t,td,"1"),await Ob(t,td),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>Mb(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>AO(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ob(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Nd(a,!1).getAll();return new Ac(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}A1.type="LOCAL";const CO=A1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n,t){return ui(n,"POST","/v2/accounts/mfaSignIn:start",Vn(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=c1("rcb"),IO=new Ec(3e4,6e4);class xO{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=Ve().grecaptcha)===null||t===void 0)&&t.render)}load(t,e=""){return ft(DO(e),t,"argument-error"),this.shouldResolveImmediately(e)&&bb(Ve().grecaptcha)?Promise.resolve(Ve().grecaptcha):new Promise((s,a)=>{const l=Ve().setTimeout(()=>{a(Gn(t,"network-request-failed"))},IO.get());Ve()[_g]=()=>{Ve().clearTimeout(l),delete Ve()[_g];const f=Ve().grecaptcha;if(!f||!bb(f)){a(Gn(t,"internal-error"));return}const m=f.render;f.render=(p,y)=>{const _=m(p,y);return this.counter++,_},this.hostLanguage=e,s(f)};const c=`${DM()}?${dl({onload:_g,render:"explicit",hl:e})}`;iv(c).catch(()=>{clearTimeout(l),a(Gn(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!!(!((e=Ve().grecaptcha)===null||e===void 0)&&e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function DO(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class NO{async load(t){return new PM(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="recaptcha",VO={theme:"light",type:"image"};class MO{constructor(t,e,s=Object.assign({},VO)){this.parameters=s,this.type=Hu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xi(t),this.isInvisible=this.parameters.size==="invisible",ft(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof e=="string"?document.getElementById(e):e;ft(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new NO:new xO,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),e=this.getAssertedRecaptcha(),s=e.getResponse(t);return s||new Promise(a=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),a(c))};this.tokenChangeListeners.add(l),this.isInvisible&&e.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){ft(!this.parameters.sitekey,this.auth,"argument-error"),ft(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ft(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(s=>s(e)),typeof t=="function")t(e);else if(typeof t=="string"){const s=Ve()[t];typeof s=="function"&&s(e)}}}assertNotDestroyed(){ft(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){ft(Yw()&&!av(),this.auth,"internal-error"),await OO(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await dM(this.auth);ft(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return ft(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function OO(){let n=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}n=()=>t(),window.addEventListener("load",n)}).catch(t=>{throw n&&window.removeEventListener("load",n),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=Fu._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}async function kO(n,t,e){if(Fn(n.app))return Promise.reject(Fi(n));const s=Xi(n),a=await LO(s,t,_e(e));return new PO(a,l=>g1(s,l))}async function LO(n,t,e){var s;if(!n._getRecaptchaConfig())try{await BM(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(typeof t=="string"?a={phoneNumber:t}:a=t,"session"in a){const l=a.session;if("phoneNumber"in a){ft(l.type==="enroll",n,"internal-error");const c={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Zo(n,c,"mfaSmsEnrollment",async(y,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Bu){ft((e==null?void 0:e.type)===Hu,y,"argument-error");const T=await Tg(y,_,e);return Vb(y,T)}return Vb(y,_)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{ft(l.type==="signin",n,"internal-error");const c=((s=a.multiFactorHint)===null||s===void 0?void 0:s.uid)||a.multiFactorUid;ft(c,n,"missing-multi-factor-info");const f={mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Zo(n,f,"mfaSmsSignIn",async(_,T)=>{if(T.phoneSignInInfo.captchaResponse===Bu){ft((e==null?void 0:e.type)===Hu,_,"argument-error");const w=await Tg(_,T,e);return Pb(_,w)}return Pb(_,T)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Zo(n,l,"sendVerificationCode",async(p,y)=>{if(y.captchaResponse===Bu){ft((e==null?void 0:e.type)===Hu,p,"argument-error");const _=await Tg(p,y,e);return Db(p,_)}return Db(p,y)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).sessionInfo}}finally{e==null||e._reset()}}async function Tg(n,t,e){ft(e.type===Hu,n,"argument-error");const s=await e.verify();ft(typeof s=="string",n,"argument-error");const a=Object.assign({},t);if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.captchaResponse,f=a.phoneEnrollmentInfo.clientType,m=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:s,captchaResponse:c,clientType:f,recaptchaVersion:m}}),a}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.captchaResponse,c=a.phoneSignInInfo.clientType,f=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:l,clientType:c,recaptchaVersion:f}}),a}else return Object.assign(a,{recaptchaToken:s}),a}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(n,t){return t?ws(t):(ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov extends xd{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Jo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Jo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Jo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function UO(n){return p1(n.auth,new ov(n),n.bypassAuthState)}function zO(n){const{auth:t,user:e}=n;return ft(e,t,"internal-error"),aO(e,new ov(n),n.bypassAuthState)}async function BO(n){const{auth:t,user:e}=n;return ft(e,t,"internal-error"),rO(e,new ov(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,e,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:e,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UO;case"linkViaPopup":case"linkViaRedirect":return BO;case"reauthViaPopup":case"reauthViaRedirect":return zO;default:Si(this.auth,"internal-error")}}resolve(t){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new Ec(2e3,1e4);class Ho extends w1{constructor(t,e,s,a,l){super(t,e,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const t=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FO.get())};t()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="pendingRedirect",Mf=new Map;class qO extends w1{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Mf.get(this.auth._key());if(!t){try{const s=await GO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Mf.set(this.auth._key(),t)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GO(n,t){const e=$O(t),s=YO(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function KO(n,t){Mf.set(n._key(),t)}function YO(n){return ws(n._redirectPersistence)}function $O(n){return Vf(HO,n.config.apiKey,n.name)}async function QO(n,t,e=!1){if(Fn(n.app))return Promise.reject(Fi(n));const s=Xi(n),a=jO(s,t),c=await new qO(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=600*1e3;class WO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!R1(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Gn(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XO&&this.cachedEventUids.clear(),this.cachedEventUids.has(kb(t))}saveEventToCache(t){this.cachedEventUids.add(kb(t)),this.lastProcessedEventTime=Date.now()}}function kb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function R1({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ZO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(n,t={}){return ui(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eP=/^https?/;async function nP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await JO(n);for(const e of t)try{if(iP(e))return}catch{}Si(n,"unauthorized-domain")}function iP(n){const t=Qg(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!eP.test(e))return!1;if(tP.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Ec(3e4,6e4);function Lb(){const n=Ve().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function rP(n){return new Promise((t,e)=>{var s,a,l;function c(){Lb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lb(),e(Gn(n,"network-request-failed"))},timeout:sP.get()})}if(!((a=(s=Ve().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Ve().gapi)===null||l===void 0)&&l.load)c();else{const f=c1("iframefcb");return Ve()[f]=()=>{gapi.load?c():e(Gn(n,"network-request-failed"))},iv(`${VM()}?onload=${f}`).catch(m=>e(m))}}).catch(t=>{throw Of=null,t})}let Of=null;function aP(n){return Of=Of||rP(n),Of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Ec(5e3,15e3),lP="__/auth/iframe",uP="emulator/auth/iframe",cP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fP(n){const t=n.config;ft(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?tv(t,uP):`https://${n.config.authDomain}/${lP}`,s={apiKey:t.apiKey,appName:n.name,v:ml},a=hP.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${e}?${dl(s).slice(1)}`}async function dP(n){const t=await aP(n),e=Ve().gapi;return ft(e,n,"internal-error"),t.open({where:document.body,url:fP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Gn(n,"network-request-failed"),f=Ve().setTimeout(()=>{l(c)},oP.get());function m(){Ve().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pP=500,gP=600,yP="_blank",vP="http://localhost";class jb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _P(n,t,e,s=pP,a=gP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},mP),{width:s.toString(),height:a.toString(),top:l,left:c}),p=fn().toLowerCase();e&&(f=i1(p)?yP:e),e1(p)&&(t=t||vP,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[w,D])=>`${T}${w}=${D},`,"");if(bM(p)&&f!=="_self")return TP(t||"",f),new jb(null);const _=window.open(t||"",f,y);ft(_,n,"popup-blocked");try{_.focus()}catch{}return new jb(_)}function TP(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="__/auth/handler",bP="emulator/auth/handler",SP=encodeURIComponent("fac");async function Ub(n,t,e,s,a,l){ft(n.config.authDomain,n,"auth-domain-config-required"),ft(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:ml,eventId:a};if(t instanceof d1){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",KN(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Sc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await n._getAppCheckToken(),p=m?`#${SP}=${encodeURIComponent(m)}`:"";return`${AP(n)}?${dl(f).slice(1)}${p}`}function AP({config:n}){return n.emulator?tv(n,bP):`https://${n.authDomain}/${EP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="webStorageSupport";class wP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E1,this._completeRedirectFn=QO,this._overrideRedirectResult=KO}async _openPopup(t,e,s,a){var l;xs((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Ub(t,e,s,Qg(),a);return _P(t,c,rv())}async _openRedirect(t,e,s,a){await this._originValidation(t);const l=await Ub(t,e,s,Qg(),a);return vO(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(xs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await dP(t),s=new WO(t);return e.register("authEvent",a=>(ft(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Eg,{type:Eg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Eg];c!==void 0&&e(!!c),Si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=nP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return l1()||n1()||nv()}}const RP=wP;var zb="@firebase/auth",Bb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xP(n){nl(new ja("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;ft(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(n)},p=new IM(s,a,l,m);return HM(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),nl(new ja("auth-internal",t=>{const e=Xi(t.getProvider("auth").getImmediate());return(s=>new CP(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(zb,Bb,IP(n)),kr(zb,Bb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=300,NP=Pw("authIdTokenMaxAge")||DP;let Fb=null;const VP=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>NP)return;const a=e==null?void 0:e.token;Fb!==a&&(Fb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function MP(n=Bw()){const t=Wy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=FM(n,{popupRedirectResolver:RP,persistence:[CO,pO,E1]}),s=Pw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=VP(l.toString());cO(e,c,()=>c(e.currentUser)),uO(e,f=>c(f))}}const a=Mw("auth");return a&&qM(e,`http://${a}`),e}function OP(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}xM({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const l=Gn("internal-error");l.customData=a,e(l)},s.type="text/javascript",s.charset="UTF-8",OP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xP("Browser");var Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lr,C1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,C){function I(){}I.prototype=C.prototype,N.D=C.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(M,z,H){for(var P=Array(arguments.length-2),de=2;de<arguments.length;de++)P[de-2]=arguments[de];return C.prototype[z].apply(M,P)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,C,I){I||(I=0);var M=Array(16);if(typeof C=="string")for(var z=0;16>z;++z)M[z]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(z=0;16>z;++z)M[z]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=N.g[0],I=N.g[1],z=N.g[2];var H=N.g[3],P=C+(H^I&(z^H))+M[0]+3614090360&4294967295;C=I+(P<<7&4294967295|P>>>25),P=H+(z^C&(I^z))+M[1]+3905402710&4294967295,H=C+(P<<12&4294967295|P>>>20),P=z+(I^H&(C^I))+M[2]+606105819&4294967295,z=H+(P<<17&4294967295|P>>>15),P=I+(C^z&(H^C))+M[3]+3250441966&4294967295,I=z+(P<<22&4294967295|P>>>10),P=C+(H^I&(z^H))+M[4]+4118548399&4294967295,C=I+(P<<7&4294967295|P>>>25),P=H+(z^C&(I^z))+M[5]+1200080426&4294967295,H=C+(P<<12&4294967295|P>>>20),P=z+(I^H&(C^I))+M[6]+2821735955&4294967295,z=H+(P<<17&4294967295|P>>>15),P=I+(C^z&(H^C))+M[7]+4249261313&4294967295,I=z+(P<<22&4294967295|P>>>10),P=C+(H^I&(z^H))+M[8]+1770035416&4294967295,C=I+(P<<7&4294967295|P>>>25),P=H+(z^C&(I^z))+M[9]+2336552879&4294967295,H=C+(P<<12&4294967295|P>>>20),P=z+(I^H&(C^I))+M[10]+4294925233&4294967295,z=H+(P<<17&4294967295|P>>>15),P=I+(C^z&(H^C))+M[11]+2304563134&4294967295,I=z+(P<<22&4294967295|P>>>10),P=C+(H^I&(z^H))+M[12]+1804603682&4294967295,C=I+(P<<7&4294967295|P>>>25),P=H+(z^C&(I^z))+M[13]+4254626195&4294967295,H=C+(P<<12&4294967295|P>>>20),P=z+(I^H&(C^I))+M[14]+2792965006&4294967295,z=H+(P<<17&4294967295|P>>>15),P=I+(C^z&(H^C))+M[15]+1236535329&4294967295,I=z+(P<<22&4294967295|P>>>10),P=C+(z^H&(I^z))+M[1]+4129170786&4294967295,C=I+(P<<5&4294967295|P>>>27),P=H+(I^z&(C^I))+M[6]+3225465664&4294967295,H=C+(P<<9&4294967295|P>>>23),P=z+(C^I&(H^C))+M[11]+643717713&4294967295,z=H+(P<<14&4294967295|P>>>18),P=I+(H^C&(z^H))+M[0]+3921069994&4294967295,I=z+(P<<20&4294967295|P>>>12),P=C+(z^H&(I^z))+M[5]+3593408605&4294967295,C=I+(P<<5&4294967295|P>>>27),P=H+(I^z&(C^I))+M[10]+38016083&4294967295,H=C+(P<<9&4294967295|P>>>23),P=z+(C^I&(H^C))+M[15]+3634488961&4294967295,z=H+(P<<14&4294967295|P>>>18),P=I+(H^C&(z^H))+M[4]+3889429448&4294967295,I=z+(P<<20&4294967295|P>>>12),P=C+(z^H&(I^z))+M[9]+568446438&4294967295,C=I+(P<<5&4294967295|P>>>27),P=H+(I^z&(C^I))+M[14]+3275163606&4294967295,H=C+(P<<9&4294967295|P>>>23),P=z+(C^I&(H^C))+M[3]+4107603335&4294967295,z=H+(P<<14&4294967295|P>>>18),P=I+(H^C&(z^H))+M[8]+1163531501&4294967295,I=z+(P<<20&4294967295|P>>>12),P=C+(z^H&(I^z))+M[13]+2850285829&4294967295,C=I+(P<<5&4294967295|P>>>27),P=H+(I^z&(C^I))+M[2]+4243563512&4294967295,H=C+(P<<9&4294967295|P>>>23),P=z+(C^I&(H^C))+M[7]+1735328473&4294967295,z=H+(P<<14&4294967295|P>>>18),P=I+(H^C&(z^H))+M[12]+2368359562&4294967295,I=z+(P<<20&4294967295|P>>>12),P=C+(I^z^H)+M[5]+4294588738&4294967295,C=I+(P<<4&4294967295|P>>>28),P=H+(C^I^z)+M[8]+2272392833&4294967295,H=C+(P<<11&4294967295|P>>>21),P=z+(H^C^I)+M[11]+1839030562&4294967295,z=H+(P<<16&4294967295|P>>>16),P=I+(z^H^C)+M[14]+4259657740&4294967295,I=z+(P<<23&4294967295|P>>>9),P=C+(I^z^H)+M[1]+2763975236&4294967295,C=I+(P<<4&4294967295|P>>>28),P=H+(C^I^z)+M[4]+1272893353&4294967295,H=C+(P<<11&4294967295|P>>>21),P=z+(H^C^I)+M[7]+4139469664&4294967295,z=H+(P<<16&4294967295|P>>>16),P=I+(z^H^C)+M[10]+3200236656&4294967295,I=z+(P<<23&4294967295|P>>>9),P=C+(I^z^H)+M[13]+681279174&4294967295,C=I+(P<<4&4294967295|P>>>28),P=H+(C^I^z)+M[0]+3936430074&4294967295,H=C+(P<<11&4294967295|P>>>21),P=z+(H^C^I)+M[3]+3572445317&4294967295,z=H+(P<<16&4294967295|P>>>16),P=I+(z^H^C)+M[6]+76029189&4294967295,I=z+(P<<23&4294967295|P>>>9),P=C+(I^z^H)+M[9]+3654602809&4294967295,C=I+(P<<4&4294967295|P>>>28),P=H+(C^I^z)+M[12]+3873151461&4294967295,H=C+(P<<11&4294967295|P>>>21),P=z+(H^C^I)+M[15]+530742520&4294967295,z=H+(P<<16&4294967295|P>>>16),P=I+(z^H^C)+M[2]+3299628645&4294967295,I=z+(P<<23&4294967295|P>>>9),P=C+(z^(I|~H))+M[0]+4096336452&4294967295,C=I+(P<<6&4294967295|P>>>26),P=H+(I^(C|~z))+M[7]+1126891415&4294967295,H=C+(P<<10&4294967295|P>>>22),P=z+(C^(H|~I))+M[14]+2878612391&4294967295,z=H+(P<<15&4294967295|P>>>17),P=I+(H^(z|~C))+M[5]+4237533241&4294967295,I=z+(P<<21&4294967295|P>>>11),P=C+(z^(I|~H))+M[12]+1700485571&4294967295,C=I+(P<<6&4294967295|P>>>26),P=H+(I^(C|~z))+M[3]+2399980690&4294967295,H=C+(P<<10&4294967295|P>>>22),P=z+(C^(H|~I))+M[10]+4293915773&4294967295,z=H+(P<<15&4294967295|P>>>17),P=I+(H^(z|~C))+M[1]+2240044497&4294967295,I=z+(P<<21&4294967295|P>>>11),P=C+(z^(I|~H))+M[8]+1873313359&4294967295,C=I+(P<<6&4294967295|P>>>26),P=H+(I^(C|~z))+M[15]+4264355552&4294967295,H=C+(P<<10&4294967295|P>>>22),P=z+(C^(H|~I))+M[6]+2734768916&4294967295,z=H+(P<<15&4294967295|P>>>17),P=I+(H^(z|~C))+M[13]+1309151649&4294967295,I=z+(P<<21&4294967295|P>>>11),P=C+(z^(I|~H))+M[4]+4149444226&4294967295,C=I+(P<<6&4294967295|P>>>26),P=H+(I^(C|~z))+M[11]+3174756917&4294967295,H=C+(P<<10&4294967295|P>>>22),P=z+(C^(H|~I))+M[2]+718787259&4294967295,z=H+(P<<15&4294967295|P>>>17),P=I+(H^(z|~C))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(z+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+z&4294967295,N.g[3]=N.g[3]+H&4294967295}s.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var I=C-this.blockSize,M=this.B,z=this.h,H=0;H<C;){if(z==0)for(;H<=I;)a(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<C;)if(M[z++]=N.charCodeAt(H++),z==this.blockSize){a(this,M),z=0;break}}else for(;H<C;)if(M[z++]=N[H++],z==this.blockSize){a(this,M),z=0;break}}this.h=z,this.o+=C},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var I=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=I&255,I/=256;for(this.u(N),N=Array(16),C=I=0;4>C;++C)for(var M=0;32>M;M+=8)N[I++]=this.g[C]>>>M&255;return N};function l(N,C){var I=f;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=C(N)}function c(N,C){this.h=C;for(var I=[],M=!0,z=N.length-1;0<=z;z--){var H=N[z]|0;M&&H==C||(I[z]=H,M=!1)}this.g=I}var f={};function m(N){return-128<=N&&128>N?l(N,function(C){return new c([C|0],0>C?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return x(p(-N));for(var C=[],I=1,M=0;N>=I;M++)C[M]=N/I|0,I*=4294967296;return new c(C,0)}function y(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return x(y(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(C,8)),M=_,z=0;z<N.length;z+=8){var H=Math.min(8,N.length-z),P=parseInt(N.substring(z,z+H),C);8>H?(H=p(Math.pow(C,H)),M=M.j(H).add(p(P))):(M=M.j(I),M=M.add(p(P)))}return M}var _=m(0),T=m(1),w=m(16777216);n=c.prototype,n.m=function(){if(k(this))return-x(this).m();for(var N=0,C=1,I=0;I<this.g.length;I++){var M=this.i(I);N+=(0<=M?M:4294967296+M)*C,C*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(k(this))return"-"+x(this).toString(N);for(var C=p(Math.pow(N,6)),I=this,M="";;){var z=tt(I,C).g;I=L(I,z.j(C));var H=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=z,D(I))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function k(N){return N.h==-1}n.l=function(N){return N=L(this,N),k(N)?-1:D(N)?0:1};function x(N){for(var C=N.g.length,I=[],M=0;M<C;M++)I[M]=~N.g[M];return new c(I,~N.h).add(T)}n.abs=function(){return k(this)?x(this):this},n.add=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],M=0,z=0;z<=C;z++){var H=M+(this.i(z)&65535)+(N.i(z)&65535),P=(H>>>16)+(this.i(z)>>>16)+(N.i(z)>>>16);M=P>>>16,H&=65535,P&=65535,I[z]=P<<16|H}return new c(I,I[I.length-1]&-2147483648?-1:0)};function L(N,C){return N.add(x(C))}n.j=function(N){if(D(this)||D(N))return _;if(k(this))return k(N)?x(this).j(x(N)):x(x(this).j(N));if(k(N))return x(this.j(x(N)));if(0>this.l(w)&&0>N.l(w))return p(this.m()*N.m());for(var C=this.g.length+N.g.length,I=[],M=0;M<2*C;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var z=0;z<N.g.length;z++){var H=this.i(M)>>>16,P=this.i(M)&65535,de=N.i(z)>>>16,Ae=N.i(z)&65535;I[2*M+2*z]+=P*Ae,G(I,2*M+2*z),I[2*M+2*z+1]+=H*Ae,G(I,2*M+2*z+1),I[2*M+2*z+1]+=P*de,G(I,2*M+2*z+1),I[2*M+2*z+2]+=H*de,G(I,2*M+2*z+2)}for(M=0;M<C;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=C;M<2*C;M++)I[M]=0;return new c(I,0)};function G(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function B(N,C){this.g=N,this.h=C}function tt(N,C){if(D(C))throw Error("division by zero");if(D(N))return new B(_,_);if(k(N))return C=tt(x(N),C),new B(x(C.g),x(C.h));if(k(C))return C=tt(N,x(C)),new B(x(C.g),C.h);if(30<N.g.length){if(k(N)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var I=T,M=C;0>=M.l(N);)I=st(I),M=st(M);var z=ot(I,1),H=ot(M,1);for(M=ot(M,2),I=ot(I,2);!D(M);){var P=H.add(M);0>=P.l(N)&&(z=z.add(I),H=P),M=ot(M,1),I=ot(I,1)}return C=L(N,z.j(C)),new B(z,C)}for(z=_;0<=N.l(C);){for(I=Math.max(1,Math.floor(N.m()/C.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=p(I),P=H.j(C);k(P)||0<P.l(N);)I-=M,H=p(I),P=H.j(C);D(H)&&(H=T),z=z.add(H),N=L(N,P)}return new B(z,N)}n.A=function(N){return tt(this,N).h},n.and=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)&N.i(M);return new c(I,this.h&N.h)},n.or=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)|N.i(M);return new c(I,this.h|N.h)},n.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),I=[],M=0;M<C;M++)I[M]=this.i(M)^N.i(M);return new c(I,this.h^N.h)};function st(N){for(var C=N.g.length+1,I=[],M=0;M<C;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new c(I,N.h)}function ot(N,C){var I=C>>5;C%=32;for(var M=N.g.length-I,z=[],H=0;H<M;H++)z[H]=0<C?N.i(H+I)>>>C|N.i(H+I+1)<<32-C:N.i(H+I);return new c(z,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,C1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Lr=c}).apply(typeof Hb<"u"?Hb:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,Mu,x1,Pf,Zg,D1,N1,V1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=e(this);function a(h,v){if(v)t:{var b=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in b))break t;b=b[q]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&t(b,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var b=0,R=!1,q={next:function(){if(!R&&b<h.length){var X=b++;return{value:v(X,h[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function T(h,v,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,T.apply(null,arguments)}function w(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function D(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,q,X){for(var ut=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ut[Yt-2]=arguments[Yt];return v.prototype[q].apply(R,ut)}}function k(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function x(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(m(R)){const q=h.length||0,X=R.length||0;h.length=q+X;for(let ut=0;ut<X;ut++)h[q+ut]=R[ut]}else h.push(R)}}class L{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(h){return/^[\s\xa0]*$/.test(h)}function B(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function tt(h){return tt[" "](h),h}tt[" "]=function(){};var st=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ot(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function N(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function C(h){const v={};for(const b in h)v[b]=h[b];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,v){let b,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(b in R)h[b]=R[b];for(let X=0;X<I.length;X++)b=I[X],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function z(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function H(h){f.setTimeout(()=>{throw h},0)}function P(){var h=It;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class de{constructor(){this.h=this.g=null}add(v,b){const R=Ae.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var Ae=new L(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,It=new de,Vt=()=>{const h=f.Promise.resolve(void 0);at=()=>{h.then(U)}};var U=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(b){H(b)}var v=Ae;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}dt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var pt=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return h})();function St(h,v){if(lt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(st){t:{try{tt(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&St.aa.h.call(this)}}D(St,lt);var xt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function ue(h,v,b,R,q){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=q,this.key=++Ke,this.da=this.fa=!1}function Ri(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Wi(h){this.src=h,this.g={},this.h=0}Wi.prototype.add=function(h,v,b,R,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ut=$a(h,v,R,q);return-1<ut?(v=h[ut],b||(v.fa=!1)):(v=new ue(v,this.src,X,!!R,q),v.fa=b,h.push(v)),v};function Zr(h,v){var b=v.type;if(b in h.g){var R=h.g[b],q=Array.prototype.indexOf.call(R,v,void 0),X;(X=0<=q)&&Array.prototype.splice.call(R,q,1),X&&(Ri(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function $a(h,v,b,R){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==R)return q}return-1}var ci="closure_lm_"+(1e6*Math.random()|0),Jr={};function Qa(h,v,b,R,q){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Qa(h,v[X],b,R,q);return null}return b=qc(b),h&&h[Ut]?h.K(v,b,p(R)?!!R.capture:!1,q):em(h,v,b,!1,R,q)}function em(h,v,b,R,q,X){if(!v)throw Error("Invalid event type");var ut=p(q)?!!q.capture:!!q,Yt=Al(h);if(Yt||(h[ci]=Yt=new Wi(h)),b=Yt.add(v,b,R,ut,X),b.proxy)return b;if(R=Hc(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)pt||(q=ut),q===void 0&&(q=!1),h.addEventListener(v.toString(),R,q);else if(h.attachEvent)h.attachEvent(Wa(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Hc(){function h(b){return v.call(h.src,h.listener,b)}const v=nm;return h}function Xa(h,v,b,R,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)Xa(h,v[X],b,R,q);else R=p(R)?!!R.capture:!!R,b=qc(b),h&&h[Ut]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],b=$a(X,b,R,q),-1<b&&(Ri(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=Al(h))&&(v=h.g[v.toString()],h=-1,v&&(h=$a(v,b,R,q)),(b=-1<h?v[h]:null)&&ta(b))}function ta(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ut])Zr(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(Wa(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=Al(v))?(Zr(b,h),b.h==0&&(b.src=null,v[ci]=null)):Ri(h)}}}function Wa(h){return h in Jr?Jr[h]:Jr[h]="on"+h}function nm(h,v){if(h.da)h=!0;else{v=new St(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&ta(h),h=b.call(R,v)}return h}function Al(h){return h=h[ci],h instanceof Wi?h:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function qc(h){return typeof h=="function"?h:(h[Ye]||(h[Ye]=function(v){return h.handleEvent(v)}),h[Ye])}function Pe(){et.call(this),this.i=new Wi(this),this.M=this,this.F=null}D(Pe,et),Pe.prototype[Ut]=!0,Pe.prototype.removeEventListener=function(h,v,b,R){Xa(this,h,v,b,R)};function Ue(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new lt(v,h);else if(v instanceof lt)v.target=v.target||h;else{var q=v;v=new lt(R,h),M(v,q)}if(q=!0,b)for(var X=b.length-1;0<=X;X--){var ut=v.g=b[X];q=Zi(ut,R,!0,v)&&q}if(ut=v.g=h,q=Zi(ut,R,!0,v)&&q,q=Zi(ut,R,!1,v)&&q,b)for(X=0;X<b.length;X++)ut=v.g=b[X],q=Zi(ut,R,!1,v)&&q}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)Ri(b[R]);delete h.g[v],h.h--}}this.F=null},Pe.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},Pe.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function Zi(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,X=0;X<v.length;++X){var ut=v[X];if(ut&&!ut.da&&ut.capture==b){var Yt=ut.listener,we=ut.ha||ut.src;ut.fa&&Zr(h.i,ut),q=Yt.call(we,R)!==!1&&q}}return q&&!R.defaultPrevented}function Gc(h,v,b){if(typeof h=="function")b&&(h=T(h,b));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function wl(h){h.g=Gc(()=>{h.g=null,h.i&&(h.i=!1,wl(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class im extends et{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:wl(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(h){et.call(this),this.h=h,this.g={}}D(ea,et);var Ls=[];function rn(h){ot(h.g,function(v,b){this.g.hasOwnProperty(b)&&ta(v)},h),h.g={}}ea.prototype.N=function(){ea.aa.N.call(this),rn(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=f.JSON.stringify,dn=f.JSON.parse,sm=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Rl(){}Rl.prototype.h=null;function Kc(h){return h.h||(h.h=h.i())}function na(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function js(){lt.call(this,"d")}D(js,lt);function hi(){lt.call(this,"c")}D(hi,lt);var Qn={},Us=null;function Za(){return Us=Us||new Pe}Qn.La="serverreachability";function Cl(h){lt.call(this,Qn.La,h)}D(Cl,lt);function Ji(h){const v=Za();Ue(v,new Cl(v))}Qn.STAT_EVENT="statevent";function zs(h,v){lt.call(this,Qn.STAT_EVENT,h),this.stat=v}D(zs,lt);function $e(h){const v=Za();Ue(v,new zs(v,h))}Qn.Ma="timingevent";function Il(h,v){lt.call(this,Qn.Ma,h),this.size=v}D(Il,lt);function Bs(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Fs(){this.g=!0}Fs.prototype.xa=function(){this.g=!1};function xl(h,v,b,R,q,X){h.info(function(){if(h.g)if(X)for(var ut="",Yt=X.split("&"),we=0;we<Yt.length;we++){var Dt=Yt[we].split("=");if(1<Dt.length){var Be=Dt[0];Dt=Dt[1];var Fe=Be.split("_");ut=2<=Fe.length&&Fe[1]=="type"?ut+(Be+"="+Dt+"&"):ut+(Be+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+v+`
`+b+`
`+ut})}function Dl(h,v,b,R,q,X,ut){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+v+`
`+b+`
`+X+" "+ut})}function ts(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ii(h,b)+(R?" "+R:"")})}function Yc(h,v){h.info(function(){return"TIMEOUT: "+v})}Fs.prototype.info=function(){};function Ii(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<q.length;ut++)q[ut]=""}}}}return $n(b)}catch{return v}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function Hs(){}D(Hs,Rl),Hs.prototype.g=function(){return new XMLHttpRequest},Hs.prototype.i=function(){return{}},xi=new Hs;function Di(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $c}function $c(){this.i=null,this.g="",this.h=!1}var Nl={},es={};function ia(h,v,b){h.L=1,h.v=aa(pe(v)),h.m=b,h.P=!0,ns(h,null)}function ns(h,v){h.F=Date.now(),fi(h),h.A=pe(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),rs(b.i,"t",R),h.C=0,b=h.j.J,h.h=new $c,h.g=ch(h.j,b?v:null,!h.m),0<h.O&&(h.M=new im(T(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ls[0]=q.toString()),q=Ls);for(var X=0;X<q.length;X++){var ut=Qa(b,q[X],R||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ji(),xl(h.i,h.u,h.A,h.l,h.R,h.m)}Di.prototype.ca=function(h){h=h.target;const v=this.M;v&&gn(h)==3?v.j():this.Y(h)},Di.prototype.Y=function(h){try{if(h==this.g)t:{const Fe=gn(this.g);var v=this.g.Ba();const nr=this.g.Z();if(!(3>Fe)&&(Fe!=3||this.g&&(this.h.h||this.g.oa()||ua(this.g)))){this.J||Fe!=4||v==7||(v==8||0>=nr?Ji(3):Ji(2)),Ja(this);var b=this.g.Z();this.X=b;e:if(is(this)){var R=ua(this.g);h="";var q=R.length,X=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),qs(this);var ut="";break e}this.h.i=new f.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(X&&v==q-1)});R.length=0,this.h.g+=h,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=b==200,Dl(this.i,this.u,this.A,this.l,this.R,Fe,b),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,we=this.g;if((Yt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Yt)){var Dt=Yt;break e}}Dt=null}if(b=Dt)ts(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ni(this,b);else{this.o=!1,this.s=3,$e(12),mn(this),qs(this);break t}}if(this.P){b=!0;let Sn;for(;!this.J&&this.C<ut.length;)if(Sn=sa(this,ut),Sn==es){Fe==4&&(this.s=4,$e(14),b=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Nl){this.s=4,$e(15),ts(this.i,this.l,ut,"[Invalid Chunk]"),b=!1;break}else ts(this.i,this.l,Sn,null),Ni(this,Sn);if(is(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||ut.length!=0||this.h.h||(this.s=1,$e(16),b=!1),this.o=this.o&&b,!b)ts(this.i,this.l,ut,"[Invalid Chunked Response]"),mn(this),qs(this);else if(0<ut.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Fl(Be),Be.M=!0,$e(11))}}else ts(this.i,this.l,ut,null),Ni(this,ut);Fe==4&&mn(this),this.o&&!this.J&&(Fe==4?oh(this.j,this):(this.o=!1,fi(this)))}else eh(this.g),b==400&&0<ut.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),mn(this),qs(this)}}}catch{}finally{}};function is(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function sa(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?es:(b=Number(v.substring(b,R)),isNaN(b)?Nl:(R+=1,R+b>v.length?es:(v=v.slice(R,R+b),h.C=R+b,v)))}Di.prototype.cancel=function(){this.J=!0,mn(this)};function fi(h){h.S=Date.now()+h.I,Te(h,h.I)}function Te(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Bs(T(h.ba,h),v)}function Ja(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Di.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Yc(this.i,this.A),this.L!=2&&(Ji(),$e(17)),mn(this),this.s=2,qs(this)):Te(this,this.S-h)};function qs(h){h.j.G==0||h.J||oh(h.j,h)}function mn(h){Ja(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,rn(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ni(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||Gs(b.h,h))){if(!h.K&&Gs(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)tr(b),Js(b);else break t;Bl(b),$e(18)}}else b.za=q[1],0<b.za-b.T&&37500>q[2]&&b.F&&b.v==0&&!b.C&&(b.C=Bs(T(b.Za,b),6e3));if(1>=Qc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else os(b,11)}else if((h.K||b.g==h)&&tr(b),!G(v))for(q=b.Da.g.parse(v),v=0;v<q.length;v++){let Dt=q[v];if(b.T=Dt[0],Dt=Dt[1],b.G==2)if(Dt[0]=="c"){b.K=Dt[1],b.ia=Dt[2];const Be=Dt[3];Be!=null&&(b.la=Be,b.j.info("VER="+b.la));const Fe=Dt[4];Fe!=null&&(b.Aa=Fe,b.j.info("SVER="+b.Aa));const nr=Dt[5];nr!=null&&typeof nr=="number"&&0<nr&&(R=1.5*nr,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Sn=h.g;if(Sn){const fa=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var X=R.h;X.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ks(X,X.h),X.h=null))}if(R.D){const ls=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;ls&&(R.ya=ls,Ht(R.I,R.D,ls))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ut=h;if(R.qa=uh(R,R.J?R.ia:null,R.W),ut.K){Xn(R.h,ut);var Yt=ut,we=R.L;we&&(Yt.I=we),Yt.B&&(Ja(Yt),fi(Yt)),R.g=ut}else rh(R);0<b.i.length&&oo(b)}else Dt[0]!="stop"&&Dt[0]!="close"||os(b,7);else b.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?os(b,7):Ul(b):Dt[0]!="noop"&&b.l&&b.l.ta(Dt),b.v=0)}}Ji(4)}catch{}}var rm=class{constructor(h,v){this.g=h,this.map=v}};function Vl(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qc(h){return h.h?1:h.g?h.g.size:0}function Gs(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ks(h,v){h.g?h.g.add(v):h.h=v}function Xn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Vl.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return k(h.i)}function Xc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function am(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function to(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=am(h),R=Xc(h),q=R.length,X=0;X<q;X++)v.call(void 0,R[X],b&&b[X],h)}var Ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),q=null;if(0<=R){var X=h[b].substring(0,R);q=h[b].substring(R+1)}else X=h[b];v(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function ss(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ss){this.h=h.h,Ys(this,h.j),this.o=h.o,this.g=h.g,ra(this,h.s),this.l=h.l;var v=h.i,b=new Vi;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),no(this,b),this.m=h.m}else h&&(v=String(h).match(Ol))?(this.h=!1,Ys(this,v[1]||"",!0),this.o=$s(v[2]||""),this.g=$s(v[3]||"",!0),ra(this,v[4]),this.l=$s(v[5]||"",!0),no(this,v[6]||"",!0),this.m=$s(v[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}ss.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Wn(v,Pl,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Wn(v,Pl,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Wn(b,b.charAt(0)=="/"?kl:Wc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Wn(b,um)),h.join("")};function pe(h){return new ss(h)}function Ys(h,v,b){h.j=b?$s(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ra(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function no(h,v,b){v instanceof Vi?(h.i=v,Zc(h.i,h.h)):(b||(v=Wn(v,lm)),h.i=new Vi(v,h.h))}function Ht(h,v,b){h.i.set(v,b)}function aa(h){return Ht(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $s(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wn(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,om),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function om(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Pl=/[#\/\?@]/g,Wc=/[#\?:]/g,kl=/[#\?]/g,lm=/[#\?@]/g,um=/#/g;function Vi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ze(h){h.g||(h.g=new Map,h.h=0,h.i&&eo(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Vi.prototype,n.add=function(h,v){ze(this),this.i=null,h=Mn(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function io(h,v){ze(h),v=Mn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function so(h,v){return ze(h),v=Mn(h,v),h.g.has(v)}n.forEach=function(h,v){ze(this),this.g.forEach(function(b,R){b.forEach(function(q){h.call(v,q,R,this)},this)},this)},n.na=function(){ze(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const q=h[R];for(let X=0;X<q.length;X++)b.push(v[R])}return b},n.V=function(h){ze(this);let v=[];if(typeof h=="string")so(this,h)&&(v=v.concat(this.g.get(Mn(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},n.set=function(h,v){return ze(this),this.i=null,h=Mn(this,h),so(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function rs(h,v,b){io(h,v),0<b.length&&(h.i=null,h.g.set(Mn(h,v),k(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const X=encodeURIComponent(String(R)),ut=this.V(R);for(R=0;R<ut.length;R++){var q=X;ut[R]!==""&&(q+="="+encodeURIComponent(String(ut[R]))),h.push(q)}}return this.i=h.join("&")};function Mn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Zc(h,v){v&&!h.j&&(ze(h),h.i=null,h.g.forEach(function(b,R){var q=R.toLowerCase();R!=q&&(io(this,R),rs(this,q,b))},h)),h.j=v}function Ll(h,v){const b=new Fs;if(f.Image){const R=new Image;R.onload=w(bn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=w(bn,b,"TestLoadImage: error",!1,v,R),R.onabort=w(bn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=w(bn,b,"TestLoadImage: timeout",!1,v,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function Jc(h,v){const b=new Fs,R=new AbortController,q=setTimeout(()=>{R.abort(),bn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?bn(b,"TestPingServer: ok",!0,v):bn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),bn(b,"TestPingServer: error",!1,v)})}function bn(h,v,b,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(b)}catch{}}function di(){this.g=new sm}function jl(h,v,b){const R=b||"";try{to(h,function(q,X){let ut=q;p(q)&&(ut=$n(q)),v.push(R+X+"="+encodeURIComponent(ut))})}catch(q){throw v.push(R+"type="+encodeURIComponent("_badmap")),q}}function Mi(h){this.l=h.Ub||null,this.j=h.eb||!1}D(Mi,Rl),Mi.prototype.g=function(){return new On(this.l,this.j)},Mi.prototype.i=(function(h){return function(){return h}})({});function On(h,v){Pe.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(On,Pe),n=On.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Qs(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ro(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ro(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Oi(this):Qs(this),this.readyState==3&&ro(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Oi(this))},n.Qa=function(h){this.g&&(this.response=h,Oi(this))},n.ga=function(){this.g&&Oi(this)};function Oi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Qs(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function Qs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(On.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function oa(h){let v="";return ot(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function Xs(h,v,b){t:{for(R in b){var R=!1;break t}R=!0}R||(b=oa(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):Ht(h,v,b))}function ne(h){Pe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ne,Pe);var an=/^https?$/i,as=["POST","PUT"];n=ne.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?Kc(this.o):Kc(xi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){la(this,X);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)b.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())b.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(as,v,void 0))||R||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of b)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){la(this,X)}};function la(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ws(h),Zs(h)}function Ws(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ue(this,"complete"),Ue(this,"abort"),Zs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?th(this):this.bb())},n.bb=function(){th(this)};function th(h){if(h.h&&typeof c<"u"&&(!h.v[1]||gn(h)!=4||h.Z()!=2)){if(h.u&&gn(h)==4)Gc(h.Ea,0,h);else if(Ue(h,"readystatechange"),gn(h)==4){h.h=!1;try{const ut=h.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var R;if(R=ut===0){var q=String(h.D).match(Ol)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),R=!an.test(q?q.toLowerCase():"")}b=R}if(b)Ue(h,"complete"),Ue(h,"success");else{h.m=6;try{var X=2<gn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Ws(h)}}finally{Zs(h)}}}}function Zs(h,v){if(h.g){ao(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ue(h,"ready");try{b.onreadystatechange=R}catch{}}}function ao(h){h.I&&(f.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function gn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),dn(v)}};function ua(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function eh(h){const v={};h=(h.g&&2<=gn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(G(h[R]))continue;var b=z(h[R]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[q]||[];v[q]=X,X.push(b)}N(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function nh(h){this.Aa=0,this.i=[],this.j=new Fs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,h),this.cb=ca("retryDelaySeedMs",1e4,h),this.Wa=ca("forwardChannelMaxRetries",2,h),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Vl(h&&h.concurrentRequestLimit),this.Da=new di,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nh.prototype,n.la=8,n.G=1,n.connect=function(h,v,b,R){$e(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=uh(this,null,this.W),oo(this)};function Ul(h){if(ih(h),h.G==3){var v=h.U++,b=pe(h.I);if(Ht(b,"SID",h.K),Ht(b,"RID",v),Ht(b,"TYPE","terminate"),ha(h,b),v=new Di(h,h.j,v),v.L=2,v.v=aa(pe(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=ch(v.j,null),v.g.ea(v.v)),v.F=Date.now(),fi(v)}Hl(h)}function Js(h){h.g&&(Fl(h),h.g.cancel(),h.g=null)}function ih(h){Js(h),h.u&&(f.clearTimeout(h.u),h.u=null),tr(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function oo(h){if(!Ml(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||Vt(),dt||(at(),dt=!0),It.add(v,h),h.B=0}}function cm(h,v){return Qc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Bs(T(h.Ga,h,v),lh(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new Di(this,this.j,h);let X=this.o;if(this.S&&(X?(X=C(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=zl(this,q,v),b=pe(this.I),Ht(b,"RID",h),Ht(b,"CVER",22),this.D&&Ht(b,"X-HTTP-Session-Id",this.D),ha(this,b),X&&(this.O?v="headers="+encodeURIComponent(String(oa(X)))+"&"+v:this.m&&Xs(b,this.m,X)),Ks(this.h,q),this.Ua&&Ht(b,"TYPE","init"),this.P?(Ht(b,"$req",v),Ht(b,"SID","null"),q.T=!0,ia(q,b,null)):ia(q,b,v),this.G=2}}else this.G==3&&(h?sh(this,h):this.i.length==0||Ml(this.h)||sh(this))};function sh(h,v){var b;v?b=v.l:b=h.U++;const R=pe(h.I);Ht(R,"SID",h.K),Ht(R,"RID",b),Ht(R,"AID",h.T),ha(h,R),h.m&&h.o&&Xs(R,h.m,h.o),b=new Di(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=zl(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ks(h.h,b),ia(b,R,v)}function ha(h,v){h.H&&ot(h.H,function(b,R){Ht(v,R,b)}),h.l&&to({},function(b,R){Ht(v,R,b)})}function zl(h,v,b){b=Math.min(h.i.length,b);var R=h.l?T(h.l.Na,h.l,h):null;t:{var q=h.i;let X=-1;for(;;){const ut=["count="+b];X==-1?0<b?(X=q[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let Yt=!0;for(let we=0;we<b;we++){let Dt=q[we].g;const Be=q[we].map;if(Dt-=X,0>Dt)X=Math.max(0,q[we].g-100),Yt=!1;else try{jl(Be,ut,"req"+Dt+"_")}catch{R&&R(Be)}}if(Yt){R=ut.join("&");break t}}}return h=h.i.splice(0,b),v.D=h,R}function rh(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||Vt(),dt||(at(),dt=!0),It.add(v,h),h.v=0}}function Bl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Bs(T(h.Fa,h),lh(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,ah(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Bs(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),Js(this),ah(this))};function Fl(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function ah(h){h.g=new Di(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=pe(h.qa);Ht(v,"RID","rpc"),Ht(v,"SID",h.K),Ht(v,"AID",h.T),Ht(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ht(v,"TO",h.ja),Ht(v,"TYPE","xmlhttp"),ha(h,v),h.m&&h.o&&Xs(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=aa(pe(v)),b.m=null,b.P=!0,ns(b,h)}n.Za=function(){this.C!=null&&(this.C=null,Js(this),Bl(this),$e(19))};function tr(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function oh(h,v){var b=null;if(h.g==v){tr(h),Fl(h),h.g=null;var R=2}else if(Gs(h.h,v))b=v.D,Xn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;R=Za(),Ue(R,new Il(R,b)),oo(h)}else rh(h);else if(q=v.s,q==3||q==0&&0<v.X||!(R==1&&cm(h,v)||R==2&&Bl(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),q){case 1:os(h,5);break;case 4:os(h,10);break;case 3:os(h,6);break;default:os(h,2)}}}function lh(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function os(h,v){if(h.j.info("Error code "+v),v==2){var b=T(h.fb,h),R=h.Xa;const q=!R;R=new ss(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ys(R,"https"),aa(R),q?Ll(R.toString(),b):Jc(R.toString(),b)}else $e(2);h.G=0,h.l&&h.l.sa(v),Hl(h),ih(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function Hl(h){if(h.G=0,h.ka=[],h.l){const v=pn(h.h);(v.length!=0||h.i.length!=0)&&(x(h.ka,v),x(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function uh(h,v,b){var R=b instanceof ss?pe(b):new ss(b);if(R.g!="")v&&(R.g=v+"."+R.g),ra(R,R.s);else{var q=f.location;R=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var X=new ss(null);R&&Ys(X,R),v&&(X.g=v),q&&ra(X,q),b&&(X.l=b),R=X}return b=h.D,v=h.ya,b&&v&&Ht(R,b,v),Ht(R,"VER",h.la),ha(h,R),R}function ch(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ne(new Mi({eb:b})):new ne(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}n=hh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(h,v){return new yn(h,v)};function yn(h,v){Pe.call(this),this.g=new nh(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!G(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new er(this)}D(yn,Pe),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ul(this.g)},yn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=$n(h),h=b);v.i.push(new rm(v.Ya++,h)),v.G==3&&oo(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,yn.aa.N.call(this)};function fh(h){js.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const b in v){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}D(fh,js);function dh(){hi.call(this),this.status=1}D(dh,hi);function er(h){this.g=h}D(er,hh),er.prototype.ua=function(){Ue(this.g,"a")},er.prototype.ta=function(h){Ue(this.g,new fh(h))},er.prototype.sa=function(h){Ue(this.g,new dh)},er.prototype.ra=function(){Ue(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,V1=function(){return new lo},N1=function(){return Za()},D1=Qn,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Pf=me,Qe.COMPLETE="complete",x1=Qe,na.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,Mu=na,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,I1=ne}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const qb="@firebase/firestore",Gb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Qy("@firebase/firestore");function jo(){return Ba.logLevel}function ht(n,...t){if(Ba.logLevel<=Lt.DEBUG){const e=t.map(lv);Ba.debug(`Firestore (${gl}): ${n}`,...e)}}function Ds(n,...t){if(Ba.logLevel<=Lt.ERROR){const e=t.map(lv);Ba.error(`Firestore (${gl}): ${n}`,...e)}}function zr(n,...t){if(Ba.logLevel<=Lt.WARN){const e=t.map(lv);Ba.warn(`Firestore (${gl}): ${n}`,...e)}}function lv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,M1(n,s,e)}function M1(n,t,e){let s=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Ds(s),new Error(s)}function Ft(n,t,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,n||M1(t,a,s)}function At(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ps{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(un.UNAUTHENTICATED)))}shutdown(){}}class kP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class LP{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ft(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,e(m)):Promise.resolve();let l=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hi,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hi)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new O1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class jP{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UP{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new jP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Kb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ft(this.o===void 0,3512);const s=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Kb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Ft(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Kb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=BP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<e&&(s+=t.charAt(a[l]%62))}return s}}function Nt(n,t){return n<t?-1:n>t?1:0}function Jg(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=n.codePointAt(e),a=t.codePointAt(e);if(s!==a){if(s<128&&a<128)return Nt(s,a);{const l=P1(),c=FP(l.encode(Yb(n,e)),l.encode(Yb(t,e)));return c!==0?c:Nt(s,a)}}e+=s>65535?2:1}return Nt(n.length,t.length)}function Yb(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function FP(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Nt(n[e],t[e]);return Nt(n.length,t.length)}function il(n,t,e){return n.length===t.length&&n.every(((s,a)=>e(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="__name__";class zi{constructor(t,e,s){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Tt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return zi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zi?t.forEach((s=>{e.push(s)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const l=zi.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Nt(t.length,e.length)}static compareSegments(t,e){const s=zi.isNumericId(t),a=zi.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?zi.extractNumericId(t).compare(zi.extractNumericId(e)):Jg(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lr.fromString(t.substring(4,t.length-2))}}class Jt extends zi{construct(t,e,s){return new Jt(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter((a=>a.length>0)))}return new Jt(e)}static emptyPath(){return new Jt([])}}const HP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends zi{construct(t,e,s){return new nn(t,e,s)}static isValidIdentifier(t){return HP.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$b}static keyField(){return new nn([$b])}static fromServerFormat(t){const e=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(e)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(Jt.fromString(t))}static fromName(t){return new vt(Jt.fromString(t).popFirst(5))}static empty(){return new vt(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Jt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n,t,e){if(!e)throw new ct(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function qP(n,t,e,s){if(t===!0&&s===!0)throw new ct(J.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Qb(n){if(!vt.isDocumentKey(n))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Xb(n){if(vt.isDocumentKey(n))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function L1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function Nn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Vd(n);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,t){const e={typeString:n};return t&&(e.value=t),e}function wc(n,t){if(!L1(n))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){e=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${s}' field to equal '${l.value}'`;break}}if(e)throw new ct(J.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=-62135596800,Zb=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*Zb);return new re(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Wb)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zb}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wc(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Wb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Oe("string",re._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new re(0,0))}static max(){return new bt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=-1;function GP(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=bt.fromTimestamp(s===1e9?new re(e+1,0):new re(e,s));return new Br(a,vt.empty(),t)}function KP(n){return new Br(n.readTime,n.key,sc)}class Br{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Br(bt.min(),vt.empty(),sc)}static max(){return new Br(bt.max(),vt.empty(),sc)}}function YP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:Nt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==$P)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(s,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,s)=>{e(t)}))}static reject(t){return new rt(((e,s)=>{s(t)}))}static waitFor(t){return new rt(((e,s)=>{let a=0,l=0,c=!1;t.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&e()}),(m=>s(m)))})),c=!0,l===a&&e()}))}static or(t){let e=rt.resolve(!1);for(const s of t)e=e.next((a=>a?rt.resolve(a):s()));return e}static forEach(t,e){const s=[];return t.forEach(((a,l)=>{s.push(e.call(this,a,l))})),this.waitFor(s)}static mapArray(t,e){return new rt(((s,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next((y=>{c[p]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new rt(((s,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):s()};l()}))}}function XP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function vl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this._e(s),this.ae=s=>e.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Md.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-1;function Rc(n){return n==null}function nd(n){return n===0&&1/n==-1/0}function WP(n){return typeof n=="number"&&Number.isInteger(n)&&!nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="";function ZP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Jb(t)),t=JP(n.get(e),t);return Jb(t)}function JP(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case j1:e+="";break;default:e+=l}}return e}function Jb(n){return n+j1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Qr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function U1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,e){this.comparator=t,this.root=e||en.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,s)=>(t(e,s),!1)))}toString(){const t=[];return this.inorderTraversal(((e,s)=>(t.push(`${e}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ef(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ef(this.root,t,this.comparator,!0)}}class Ef{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?s(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,e,s,a,l){this.key=t,this.value=e,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,l){return new en(t??this.key,e??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,s),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,s,a,l){return this}insert(t,e,s){return new en(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,s)=>(t(e),!1)))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new eS(this.data.getIterator())}getIteratorFrom(t){return new eS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((s=>{e=e.add(s)})),e}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new je(this.comparator);return e.data=t,e}}class eS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new qn([])}unionWith(t){let e=new je(nn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new qn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return il(this.fields,t.fields,((e,s)=>e.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new z1("Invalid base64 string: "+l):l}})(t);return new sn(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new sn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(n){if(Ft(!!n,39018),typeof n=="string"){let t=0;const e=tk.exec(n);if(Ft(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hr(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="server_timestamp",F1="__type__",H1="__previous_value__",q1="__local_write_time__";function hv(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[F1])===null||e===void 0?void 0:e.stringValue)===B1}function Od(n){const t=n.mapValue.fields[H1];return hv(t)?Od(t):t}function rc(n){const t=Fr(n.mapValue.fields[q1].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,e,s,a,l,c,f,m,p,y){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const id="(default)";class ac{constructor(t,e){this.projectId=t,this.database=e||id}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===id}isEqual(t){return t instanceof ac&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="__type__",nk="__max__",bf={mapValue:{}},K1="__vector__",sd="value";function qr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hv(n)?4:sk(n)?9007199254740991:ik(n)?10:11:Tt(28295,{value:n})}function $i(n,t){if(n===t)return!0;const e=qr(n);if(e!==qr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return rc(n).isEqual(rc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Fr(a.timestampValue),f=Fr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Hr(a.bytesValue).isEqual(Hr(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return Se(a.geoPointValue.latitude)===Se(l.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Se(a.integerValue)===Se(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Se(a.doubleValue),f=Se(l.doubleValue);return c===f?nd(c)===nd(f):isNaN(c)&&isNaN(f)}return!1})(n,t);case 9:return il(n.arrayValue.values||[],t.arrayValue.values||[],$i);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(tS(c)!==tS(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!$i(c[m],f[m])))return!1;return!0})(n,t);default:return Tt(52216,{left:n})}}function oc(n,t){return(n.values||[]).find((e=>$i(e,t)))!==void 0}function sl(n,t){if(n===t)return 0;const e=qr(n),s=qr(t);if(e!==s)return Nt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,t.booleanValue);case 2:return(function(l,c){const f=Se(l.integerValue||l.doubleValue),m=Se(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,t);case 3:return nS(n.timestampValue,t.timestampValue);case 4:return nS(rc(n),rc(t));case 5:return Jg(n.stringValue,t.stringValue);case 6:return(function(l,c){const f=Hr(l),m=Hr(c);return f.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Nt(f[p],m[p]);if(y!==0)return y}return Nt(f.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,c){const f=Nt(Se(l.latitude),Se(c.latitude));return f!==0?f:Nt(Se(l.longitude),Se(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return iS(n.arrayValue,t.arrayValue);case 10:return(function(l,c){var f,m,p,y;const _=l.fields||{},T=c.fields||{},w=(f=_[sd])===null||f===void 0?void 0:f.arrayValue,D=(m=T[sd])===null||m===void 0?void 0:m.arrayValue,k=Nt(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:iS(w,D)})(n.mapValue,t.mapValue);case 11:return(function(l,c){if(l===bf.mapValue&&c===bf.mapValue)return 0;if(l===bf.mapValue)return 1;if(c===bf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const T=Jg(m[_],y[_]);if(T!==0)return T;const w=sl(f[m[_]],p[y[_]]);if(w!==0)return w}return Nt(m.length,y.length)})(n.mapValue,t.mapValue);default:throw Tt(23264,{le:e})}}function nS(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Nt(n,t);const e=Fr(n),s=Fr(t),a=Nt(e.seconds,s.seconds);return a!==0?a:Nt(e.nanos,s.nanos)}function iS(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const l=sl(e[a],s[a]);if(l)return l}return Nt(e.length,s.length)}function rl(n){return ty(n)}function ty(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const s=Fr(e);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Hr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let s="[",a=!0;for(const l of e.values||[])a?a=!1:s+=",",s+=ty(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(e){const s=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${ty(e.fields[c])}`;return a+"}"})(n.mapValue):Tt(61005,{value:n})}function kf(n){switch(qr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Od(n);return t?16+kf(t):16;case 5:return 2*n.stringValue.length;case 6:return Hr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+kf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Qr(s.fields,((l,c)=>{a+=l.length+kf(c)})),a})(n.mapValue);default:throw Tt(13486,{value:n})}}function sS(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ey(n){return!!n&&"integerValue"in n}function fv(n){return!!n&&"arrayValue"in n}function rS(n){return!!n&&"nullValue"in n}function aS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lf(n){return!!n&&"mapValue"in n}function ik(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[G1])===null||e===void 0?void 0:e.stringValue)===K1}function qu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Qr(n.mapValue.fields,((e,s)=>t.mapValue.fields[e]=qu(s))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=qu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function sk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Lf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=qu(e)}setAll(t){let e=nn.emptyPath(),s={},a=[];t.forEach(((c,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,s,a),s={},a=[],e=f.popLast()}c?s[f.lastSegment()]=qu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,s,a)}delete(t){const e=this.field(t.popLast());Lf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $i(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];Lf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){Qr(e,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new _n(qu(this.value))}}function Y1(n){const t=[];return Qr(n.fields,((e,s)=>{const a=new nn([e]);if(Lf(s)){const l=Y1(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,e,s,a,l,c,f){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new Ge(t,0,bt.min(),bt.min(),bt.min(),_n.empty(),0)}static newFoundDocument(t,e,s,a){return new Ge(t,1,e,bt.min(),s,a,0)}static newNoDocument(t,e){return new Ge(t,2,e,bt.min(),bt.min(),_n.empty(),0)}static newUnknownDocument(t,e){return new Ge(t,3,e,bt.min(),bt.min(),_n.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,e){this.position=t,this.inclusive=e}}function oS(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),e.key):s=sl(c,e.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function lS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!$i(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,e="asc"){this.field=t,this.dir=e}}function rk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{}class Me extends $1{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new ok(t,e,s):e==="array-contains"?new ck(t,s):e==="in"?new hk(t,s):e==="not-in"?new fk(t,s):e==="array-contains-any"?new dk(t,s):new Me(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new lk(t,s):new uk(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(sl(e,this.value)):e!==null&&qr(this.value)===qr(e)&&this.matchesComparison(sl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends $1{constructor(t,e){super(),this.filters=t,this.op=e,this.he=null}static create(t,e){return new Ai(t,e)}matches(t){return Q1(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Q1(n){return n.op==="and"}function X1(n){return ak(n)&&Q1(n)}function ak(n){for(const t of n.filters)if(t instanceof Ai)return!1;return!0}function ny(n){if(n instanceof Me)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(X1(n))return n.filters.map((t=>ny(t))).join(",");{const t=n.filters.map((e=>ny(e))).join(",");return`${n.op}(${t})`}}function W1(n,t){return n instanceof Me?(function(s,a){return a instanceof Me&&s.op===a.op&&s.field.isEqual(a.field)&&$i(s.value,a.value)})(n,t):n instanceof Ai?(function(s,a){return a instanceof Ai&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&W1(c,a.filters[f])),!0):!1})(n,t):void Tt(19439)}function Z1(n){return n instanceof Me?(function(e){return`${e.field.canonicalString()} ${e.op} ${rl(e.value)}`})(n):n instanceof Ai?(function(e){return e.op.toString()+" {"+e.getFilters().map(Z1).join(" ,")+"}"})(n):"Filter"}class ok extends Me{constructor(t,e,s){super(t,e,s),this.key=vt.fromName(s.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class lk extends Me{constructor(t,e){super(t,"in",e),this.keys=J1("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class uk extends Me{constructor(t,e){super(t,"not-in",e),this.keys=J1("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function J1(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map((s=>vt.fromName(s.referenceValue)))}class ck extends Me{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return fv(e)&&oc(e.arrayValue,this.value)}}class hk extends Me{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&oc(this.value.arrayValue,e)}}class fk extends Me{constructor(t,e){super(t,"not-in",e)}matches(t){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!oc(this.value.arrayValue,e)}}class dk extends Me{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!fv(e)||!e.arrayValue.values)&&e.arrayValue.values.some((s=>oc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t,e=null,s=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Pe=null}}function uS(n,t=null,e=[],s=[],a=null,l=null,c=null){return new mk(n,t,e,s,a,l,c)}function dv(n){const t=At(n);if(t.Pe===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((s=>ny(s))).join(","),e+="|ob:",e+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Rc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((s=>rl(s))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((s=>rl(s))).join(",")),t.Pe=e}return t.Pe}function mv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!rk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!W1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!lS(n.startAt,t.startAt)&&lS(n.endAt,t.endAt)}function iy(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,e=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function pk(n,t,e,s,a,l,c,f){return new _l(n,t,e,s,a,l,c,f)}function Pd(n){return new _l(n)}function cS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tR(n){return n.collectionGroup!==null}function Gu(n){const t=At(n);if(t.Te===null){t.Te=[];const e=new Set;for(const l of t.explicitOrderBy)t.Te.push(l),e.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new je(nn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Te.push(new lc(l,s))})),e.has(nn.keyField().canonicalString())||t.Te.push(new lc(nn.keyField(),s))}return t.Te}function qi(n){const t=At(n);return t.Ie||(t.Ie=gk(t,Gu(n))),t.Ie}function gk(n,t){if(n.limitType==="F")return uS(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new lc(a.field,l)}));const e=n.endAt?new rd(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new rd(n.startAt.position,n.startAt.inclusive):null;return uS(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function sy(n,t){const e=n.filters.concat([t]);return new _l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ad(n,t,e){return new _l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function kd(n,t){return mv(qi(n),qi(t))&&n.limitType===t.limitType}function eR(n){return`${dv(qi(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${(function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map((a=>Z1(a))).join(", ")}]`),Rc(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((a=>rl(a))).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((a=>rl(a))).join(",")),`Target(${s})`})(qi(n))}; limitType=${n.limitType})`}function Ld(n,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):vt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,t)&&(function(s,a){for(const l of Gu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=oS(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,Gu(s),a)||s.endAt&&!(function(c,f,m){const p=oS(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,Gu(s),a))})(n,t)}function yk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nR(n){return(t,e)=>{let s=!1;for(const a of Gu(n)){const l=vk(a,t,e);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function vk(n,t,e){const s=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?sl(m,p):Tt(42886)})(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Qr(this.inner,((e,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return U1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new fe(vt.comparator);function Ns(){return _k}const iR=new fe(vt.comparator);function Ou(...n){let t=iR;for(const e of n)t=t.insert(e.key,e);return t}function sR(n){let t=iR;return n.forEach(((e,s)=>t=t.insert(e,s.overlayedDocument))),t}function Va(){return Ku()}function rR(){return Ku()}function Ku(){return new Ka((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Tk=new fe(vt.comparator),Ek=new je(vt.comparator);function jt(...n){let t=Ek;for(const e of n)t=t.add(e);return t}const bk=new je(Nt);function Sk(){return bk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(t)?"-0":t}}function aR(n){return{integerValue:""+n}}function Ak(n,t){return WP(t)?aR(t):pv(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function wk(n,t,e){return n instanceof uc?(function(a,l){const c={fields:{[F1]:{stringValue:B1},[q1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&hv(l)&&(l=Od(l)),l&&(c.fields[H1]=l),{mapValue:c}})(e,t):n instanceof cc?lR(n,t):n instanceof hc?uR(n,t):(function(a,l){const c=oR(a,l),f=hS(c)+hS(a.Ee);return ey(c)&&ey(a.Ee)?aR(f):pv(a.serializer,f)})(n,t)}function Rk(n,t,e){return n instanceof cc?lR(n,t):n instanceof hc?uR(n,t):e}function oR(n,t){return n instanceof od?(function(s){return ey(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class uc extends jd{}class cc extends jd{constructor(t){super(),this.elements=t}}function lR(n,t){const e=cR(t);for(const s of n.elements)e.some((a=>$i(a,s)))||e.push(s);return{arrayValue:{values:e}}}class hc extends jd{constructor(t){super(),this.elements=t}}function uR(n,t){let e=cR(t);for(const s of n.elements)e=e.filter((a=>!$i(a,s)));return{arrayValue:{values:e}}}class od extends jd{constructor(t,e){super(),this.serializer=t,this.Ee=e}}function hS(n){return Se(n.integerValue||n.doubleValue)}function cR(n){return fv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t,e){this.field=t,this.transform=e}}function Ik(n,t){return n.field.isEqual(t.field)&&(function(s,a){return s instanceof cc&&a instanceof cc||s instanceof hc&&a instanceof hc?il(s.elements,a.elements,$i):s instanceof od&&a instanceof od?$i(s.Ee,a.Ee):s instanceof uc&&a instanceof uc})(n.transform,t.transform)}class xk{constructor(t,e){this.version=t,this.transformResults=e}}class cn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new cn}static exists(t){return new cn(void 0,t)}static updateTime(t){return new cn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Ud{}function hR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new gv(n.key,cn.none()):new Cc(n.key,n.data,cn.none());{const e=n.data,s=_n.empty();let a=new je(nn.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Xr(n.key,s,new qn(a.toArray()),cn.none())}}function Dk(n,t,e){n instanceof Cc?(function(a,l,c){const f=a.value.clone(),m=dS(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):n instanceof Xr?(function(a,l,c){if(!jf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=dS(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(fR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,e):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Yu(n,t,e,s){return n instanceof Cc?(function(l,c,f,m){if(!jf(l.precondition,c))return f;const p=l.value.clone(),y=mS(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,t,e,s):n instanceof Xr?(function(l,c,f,m){if(!jf(l.precondition,c))return f;const p=mS(l.fieldTransforms,m,c),y=c.data;return y.setAll(fR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,t,e,s):(function(l,c,f){return jf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,t,e)}function Nk(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),l=oR(s.transform,a||null);l!=null&&(e===null&&(e=_n.empty()),e.set(s.field,l))}return e||null}function fS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&il(s,a,((l,c)=>Ik(l,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Cc extends Ud{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xr extends Ud{constructor(t,e,s,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function fR(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}})),t}function dS(n,t,e){const s=new Map;Ft(n.length===e.length,32656,{Ae:e.length,Re:n.length});for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,f=t.data.field(l.field);s.set(l.field,Rk(c,f,e[a]))}return s}function mS(n,t,e){const s=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);s.set(a.field,wk(l,c,t))}return s}class gv extends Ud{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dR extends Ud{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&Dk(l,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Yu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Yu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=rR();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=e.has(a.key)?null:f;const m=hR(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(bt.min())})),s}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),jt())}isEqual(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,((e,s)=>fS(e,s)))&&il(this.baseMutations,t.baseMutations,((e,s)=>fS(e,s)))}}class yv{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Ft(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let a=(function(){return Tk})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new yv(t,e,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,Bt;function mR(n){switch(n){case J.OK:return Tt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function pR(n){if(n===void 0)return Ds("GRPC error has no .code"),J.UNKNOWN;switch(n){case De.OK:return J.OK;case De.CANCELLED:return J.CANCELLED;case De.UNKNOWN:return J.UNKNOWN;case De.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case De.INTERNAL:return J.INTERNAL;case De.UNAVAILABLE:return J.UNAVAILABLE;case De.UNAUTHENTICATED:return J.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case De.NOT_FOUND:return J.NOT_FOUND;case De.ALREADY_EXISTS:return J.ALREADY_EXISTS;case De.PERMISSION_DENIED:return J.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case De.ABORTED:return J.ABORTED;case De.OUT_OF_RANGE:return J.OUT_OF_RANGE;case De.UNIMPLEMENTED:return J.UNIMPLEMENTED;case De.DATA_LOSS:return J.DATA_LOSS;default:return Tt(39323,{code:n})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Lr([4294967295,4294967295],0);function pS(n){const t=P1().encode(n),e=new C1;return e.update(t),new Uint8Array(e.digest())}function gS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Lr([e,s],0),new Lr([a,l],0)]}class vv{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Pu(`Invalid padding: ${e}`);if(s<0)throw new Pu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Pu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Pu(`Invalid padding when bitmap length is 0: ${e}`);this.fe=8*t.length-e,this.ge=Lr.fromNumber(this.fe)}pe(t,e,s){let a=t.add(e.multiply(Lr.fromNumber(s)));return a.compare(Pk)===1&&(a=new Lr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const e=pS(t),[s,a]=gS(e);for(let l=0;l<this.hashCount;l++){const c=this.pe(s,a,l);if(!this.ye(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new vv(l,a,e);return s.forEach((f=>c.insert(f))),c}insert(t){if(this.fe===0)return;const e=pS(t),[s,a]=gS(e);for(let l=0;l<this.hashCount;l++){const c=this.pe(s,a,l);this.we(c)}}we(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,e,s,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,Ic.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new zd(bt.min(),a,new fe(Nt),Ns(),jt())}}class Ic{constructor(t,e,s,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Ic(s,e,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,e,s,a){this.Se=t,this.removedTargetIds=e,this.key=s,this.be=a}}class gR{constructor(t,e){this.targetId=t,this.De=e}}class yR{constructor(t,e,s=sn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class yS{constructor(){this.ve=0,this.Ce=vS(),this.Fe=sn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=jt(),e=jt(),s=jt();return this.Ce.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new Ic(this.Fe,this.Me,t,e,s)}ke(){this.xe=!1,this.Ce=vS()}qe(t,e){this.xe=!0,this.Ce=this.Ce.insert(t,e)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class kk{constructor(t){this.We=t,this.Ge=new Map,this.ze=Ns(),this.je=Sf(),this.Je=Sf(),this.He=new fe(Nt)}Ye(t){for(const e of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(e,t.be):this.Xe(e,t.key,t.be);for(const e of t.removedTargetIds)this.Xe(e,t.key,t.be)}et(t){this.forEachTarget(t,(e=>{const s=this.tt(e);switch(t.state){case 0:this.nt(e)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(e);break;case 3:this.nt(e)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(e)&&(this.rt(e),s.Be(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ge.forEach(((s,a)=>{this.nt(a)&&e(a)}))}it(t){const e=t.targetId,s=t.De.count,a=this.st(e);if(a){const l=a.target;if(iy(l))if(s===0){const c=new vt(l.path);this.Xe(e,c,Ge.newNoDocument(c,bt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const c=this.ot(e);if(c!==s){const f=this._t(t),m=f?this.ut(f,t,c):1;if(m!==0){this.rt(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(e,p)}}}}}_t(t){const e=t.De.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=e;let c,f;try{c=Hr(s).toUint8Array()}catch(m){if(m instanceof z1)return zr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new vv(c,a,l)}catch(m){return zr(m instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.fe===0?null:f}ut(t,e,s){return e.De.count===s-this.ht(t,e.targetId)?0:2}ht(t,e){const s=this.We.getRemoteKeysForTarget(e);let a=0;return s.forEach((l=>{const c=this.We.lt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.Xe(e,l,null),a++)})),a}Pt(t){const e=new Map;this.Ge.forEach(((l,c)=>{const f=this.st(c);if(f){if(l.current&&iy(f.target)){const m=new vt(f.target.path);this.Tt(m).has(c)||this.It(c,m)||this.Xe(c,m,Ge.newNoDocument(m,t))}l.Ne&&(e.set(c,l.Le()),l.ke())}}));let s=jt();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.st(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.ze.forEach(((l,c)=>c.setReadTime(t)));const a=new zd(t,e,this.He,this.ze,s);return this.ze=Ns(),this.je=Sf(),this.Je=Sf(),this.He=new fe(Nt),a}Ze(t,e){if(!this.nt(t))return;const s=this.It(t,e.key)?2:0;this.tt(t).qe(e.key,s),this.ze=this.ze.insert(e.key,e),this.je=this.je.insert(e.key,this.Tt(e.key).add(t)),this.Je=this.Je.insert(e.key,this.dt(e.key).add(t))}Xe(t,e,s){if(!this.nt(t))return;const a=this.tt(t);this.It(t,e)?a.qe(e,1):a.Qe(e),this.Je=this.Je.insert(e,this.dt(e).delete(t)),this.Je=this.Je.insert(e,this.dt(e).add(t)),s&&(this.ze=this.ze.insert(e,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const e=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let e=this.Ge.get(t);return e||(e=new yS,this.Ge.set(t,e)),e}dt(t){let e=this.Je.get(t);return e||(e=new je(Nt),this.Je=this.Je.insert(t,e)),e}Tt(t){let e=this.je.get(t);return e||(e=new je(Nt),this.je=this.je.insert(t,e)),e}nt(t){const e=this.st(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}st(t){const e=this.Ge.get(t);return e&&e.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new yS),this.We.getRemoteKeysForTarget(t).forEach((e=>{this.Xe(t,e,null)}))}It(t,e){return this.We.getRemoteKeysForTarget(t).has(e)}}function Sf(){return new fe(vt.comparator)}function vS(){return new fe(vt.comparator)}const Lk={asc:"ASCENDING",desc:"DESCENDING"},jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uk={and:"AND",or:"OR"};class zk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ry(n,t){return n.useProto3Json||Rc(t)?t:{value:t}}function ld(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Bk(n,t){return ld(n,t.toTimestamp())}function Kn(n){return Ft(!!n,49232),bt.fromTimestamp((function(e){const s=Fr(e);return new re(s.seconds,s.nanos)})(n))}function _v(n,t){return ay(n,t).canonicalString()}function ay(n,t){const e=(function(a){return new Jt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function _R(n){const t=Jt.fromString(n);return Ft(wR(t),10190,{key:t.toString()}),t}function ud(n,t){return _v(n.databaseId,t.path)}function $u(n,t){const e=_R(t);if(e.get(1)!==n.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(ER(e))}function TR(n,t){return _v(n.databaseId,t)}function Fk(n){const t=_R(n);return t.length===4?Jt.emptyPath():ER(t)}function oy(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ER(n){return Ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _S(n,t,e){return{name:ud(n,t),fields:e.value.mapValue.fields}}function Hk(n,t){return"found"in t?(function(s,a){Ft(!!a.found,43571),a.found.name,a.found.updateTime;const l=$u(s,a.found.name),c=Kn(a.found.updateTime),f=a.found.createTime?Kn(a.found.createTime):bt.min(),m=new _n({mapValue:{fields:a.found.fields}});return Ge.newFoundDocument(l,c,f,m)})(n,t):"missing"in t?(function(s,a){Ft(!!a.missing,3894),Ft(!!a.readTime,22933);const l=$u(s,a.missing),c=Kn(a.readTime);return Ge.newNoDocument(l,c)})(n,t):Tt(7234,{result:t})}function qk(n,t){let e;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ft(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?J.UNKNOWN:pR(p.code);return new ct(y,p.message||"")})(c);e=new yR(s,a,l,f||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=$u(n,s.document.name),l=Kn(s.document.updateTime),c=s.document.createTime?Kn(s.document.createTime):bt.min(),f=new _n({mapValue:{fields:s.document.fields}}),m=Ge.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];e=new Uf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=$u(n,s.document),l=s.readTime?Kn(s.readTime):bt.min(),c=Ge.newNoDocument(a,l),f=s.removedTargetIds||[];e=new Uf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=$u(n,s.document),l=s.removedTargetIds||[];e=new Uf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new Ok(a,l),f=s.targetId;e=new gR(f,c)}}return e}function bR(n,t){let e;if(t instanceof Cc)e={update:_S(n,t.key,t.value)};else if(t instanceof gv)e={delete:ud(n,t.key)};else if(t instanceof Xr)e={update:_S(n,t.key,t.data),updateMask:Jk(t.fieldMask)};else{if(!(t instanceof dR))return Tt(16599,{Rt:t.type});e={verify:ud(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof uc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof cc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof hc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof od)return{fieldPath:c.field.canonicalString(),increment:f.Ee};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Bk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(n,t.precondition)),e}function Gk(n,t){return n&&n.length>0?(Ft(t!==void 0,14353),n.map((e=>(function(a,l){let c=a.updateTime?Kn(a.updateTime):Kn(l);return c.isEqual(bt.min())&&(c=Kn(l)),new xk(c,a.transformResults||[])})(e,t)))):[]}function Kk(n,t){return{documents:[TR(n,t.path)]}}function Yk(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=TR(n,a);const l=(function(p){if(p.length!==0)return AR(Ai.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:zo(T.field),direction:Xk(T.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const f=ry(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{Vt:e,parent:a}}function $k(n){let t=Fk(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Ft(s===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(_){const T=SR(_);return T instanceof Ai&&X1(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((T=>(function(D){return new lc(Bo(D.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(e.orderBy));let f=null;e.limit&&(f=(function(_){let T;return T=typeof _=="object"?_.value:_,Rc(T)?null:T})(e.limit));let m=null;e.startAt&&(m=(function(_){const T=!!_.before,w=_.values||[];return new rd(w,T)})(e.startAt));let p=null;return e.endAt&&(p=(function(_){const T=!_.before,w=_.values||[];return new rd(w,T)})(e.endAt)),pk(t,a,c,l,f,"F",m,p)}function Qk(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function SR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Bo(e.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bo(e.unaryFilter.field);return Me.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(e.unaryFilter.field);return Me.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(e.unaryFilter.field);return Me.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Me.create(Bo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Ai.create(e.compositeFilter.filters.map((s=>SR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(e.compositeFilter.op))})(n):Tt(30097,{filter:n})}function Xk(n){return Lk[n]}function Wk(n){return jk[n]}function Zk(n){return Uk[n]}function zo(n){return{fieldPath:n.canonicalString()}}function Bo(n){return nn.fromServerFormat(n.fieldPath)}function AR(n){return n instanceof Me?(function(e){if(e.op==="=="){if(aS(e.value))return{unaryFilter:{field:zo(e.field),op:"IS_NAN"}};if(rS(e.value))return{unaryFilter:{field:zo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(aS(e.value))return{unaryFilter:{field:zo(e.field),op:"IS_NOT_NAN"}};if(rS(e.value))return{unaryFilter:{field:zo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(e.field),op:Wk(e.op),value:e.value}}})(n):n instanceof Ai?(function(e){const s=e.getFilters().map((a=>AR(a)));return s.length===1?s[0]:{compositeFilter:{op:Zk(e.op),filters:s}}})(n):Tt(54877,{filter:n})}function Jk(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function wR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,e,s,a,l=bt.min(),c=bt.min(),f=sn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t){this.gt=t}}function e4(n){const t=$k({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ad(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Dn=new i4}addToCollectionParentIndex(t,e){return this.Dn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Dn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(Br.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(Br.min())}updateCollectionGroup(t,e,s){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class i4{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new je(Jt.comparator),l=!a.has(s);return this.index[e]=a.add(s),l}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new je(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RR=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(RR,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new al(0)}static ur(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="LruGarbageCollector",s4=1048576;function bS([n,t],[e,s]){const a=Nt(n,e);return a===0?Nt(t,s):a}class r4{constructor(t){this.Tr=t,this.buffer=new je(bS),this.Ir=0}dr(){return++this.Ir}Er(t){const e=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();bS(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class a4{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ht(ES,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vl(e)?ht(ES,"Ignoring IndexedDB error during garbage collection: ",e):await yl(e)}await this.Rr(3e5)}))}}class o4{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.mr(t).next((s=>Math.floor(e/100*s)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Md.ue);const s=new r4(e);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.gr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,e,s){return this.Vr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(TS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TS):this.pr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,e){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(t,s,e)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),jo()<=Lt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function l4(n,t){return new o4(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.changes=new Ka((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?rt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(s!==null&&Yu(s.mutation,a,qn.empty(),re.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,e,s=jt()){const a=Va();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,s).next((l=>{let c=Ou();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const s=Va();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,jt())))}populateOverlays(t,e,s){const a=[];return s.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,f)=>{e.set(c,f)}))}))}computeViews(t,e,s,a){let l=Ns();const c=Ku(),f=(function(){return Ku()})();return e.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Xr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Yu(y.mutation,p,y.mutation.getFieldMask(),re.now())):c.set(p.key,qn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),e.forEach(((p,y)=>{var _;return f.set(p,new c4(y,(_=c.get(p))!==null&&_!==void 0?_:null))})),f)))}recalculateAndSaveOverlays(t,e){const s=Ku();let a=new fe(((c,f)=>c-f)),l=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=e.get(m);if(p===null)return;let y=s.get(m)||qn.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||jt()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=rR();y.forEach((T=>{if(!l.has(T)){const w=hR(e.get(T),s.get(T));w!==null&&_.set(T,w),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return rt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,e,s,a){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):tR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-l.size):rt.resolve(Va());let f=sc,m=l;return c.next((p=>rt.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,jt()))).next((y=>({batchId:f,changes:sR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((s=>{let a=Ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const l=e.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(t,l).next((f=>rt.forEach(f,(m=>{const p=(function(_,T){return new _l(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,T)=>{c=c.insert(_,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,Ge.newInvalidDocument(y)))}));let f=Ou();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Yu(y.mutation,p,qn.empty(),re.now()),Ld(e,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,e){return rt.resolve(this.Br.get(e))}saveBundleMetadata(t,e){return this.Br.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.Lr.get(e))}saveNamedQuery(t,e){return this.Lr.set(e.name,(function(a){return{name:a.name,query:e4(a.bundledQuery),readTime:Kn(a.readTime)}})(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.overlays=new fe(vt.comparator),this.kr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=Va();return rt.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,e,s){return s.forEach(((a,l)=>{this.wt(t,e,l)})),rt.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(s)),rt.resolve()}getOverlaysForCollection(t,e,s){const a=Va(),l=e.length+1,c=new vt(e.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let l=new fe(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Va(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return rt.resolve(f)}wt(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Mk(e,s));let l=this.kr.get(e);l===void 0&&(l=jt(),this.kr.set(e,l)),this.kr.set(e,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.qr=new je(qe.Qr),this.$r=new je(qe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,e){const s=new qe(t,e);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,e){t.forEach((s=>this.addReference(s,e)))}removeReference(t,e){this.Wr(new qe(t,e))}Gr(t,e){t.forEach((s=>this.removeReference(s,e)))}zr(t){const e=new vt(new Jt([])),s=new qe(e,t),a=new qe(e,t+1),l=[];return this.$r.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const e=new vt(new Jt([])),s=new qe(e,t),a=new qe(e,t+1);let l=jt();return this.$r.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const e=new qe(t,0),s=this.qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,e){this.key=t,this.Hr=e}static Qr(t,e){return vt.comparator(t.key,e.key)||Nt(t.Hr,e.Hr)}static Ur(t,e){return Nt(t.Hr,e.Hr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.er=1,this.Yr=new je(qe.Qr)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Vk(l,e,s,a);this.mutationQueue.push(c);for(const f of a)this.Yr=this.Yr.add(new qe(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,e){return rt.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Xr(s),l=a<0?0:a;return rt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?cv:this.er-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new qe(e,0),a=new qe(e,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([s,a],(c=>{const f=this.Zr(c.Hr);l.push(f)})),rt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new je(Nt);return e.forEach((a=>{const l=new qe(a,0),c=new qe(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],(f=>{s=s.add(f.Hr)}))})),rt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let l=s;vt.isDocumentKey(l)||(l=l.child(""));const c=new qe(new vt(l),0);let f=new je(Nt);return this.Yr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),c),rt.resolve(this.ei(f))}ei(t){const e=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Ft(this.ti(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return rt.forEach(e.mutations,(a=>{const l=new qe(a.key,e.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Yr=s}))}rr(t){}containsKey(t,e){const s=new qe(e,0),a=this.Yr.firstAfterOrEqual(s);return rt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ti(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.ni=t,this.docs=(function(){return new fe(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),l=a?a.size:0,c=this.ni(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return rt.resolve(s?s.document.mutableCopy():Ge.newInvalidDocument(e))}getEntries(t,e){let s=Ns();return e.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Ge.newInvalidDocument(a))})),rt.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let l=Ns();const c=e.path,f=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||YP(KP(y),s)<=0||(a.has(y.key)||Ld(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(t,e,s,a){Tt(9500)}ri(t,e){return rt.forEach(this.docs,(s=>e(s)))}newChangeBuffer(t){return new y4(this)}getSize(t){return rt.resolve(this.size)}}class y4 extends u4{constructor(t){super(),this.Or=t}applyChanges(t){const e=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?e.push(this.Or.addEntry(t,a)):this.Or.removeEntry(s)})),rt.waitFor(e)}getFromCache(t,e){return this.Or.getEntry(t,e)}getAllFromCache(t,e){return this.Or.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t){this.persistence=t,this.ii=new Ka((e=>dv(e)),mv),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.si=0,this.oi=new Tv,this.targetCount=0,this._i=al.ar()}forEachTarget(t,e){return this.ii.forEach(((s,a)=>e(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.si&&(this.si=e),rt.resolve()}hr(t){this.ii.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this._i=new al(e),this.highestTargetId=e),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,e){return this.hr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.hr(e),rt.resolve()}removeTargetData(t,e){return this.ii.delete(e.target),this.oi.zr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,s){let a=0;const l=[];return this.ii.forEach(((c,f)=>{f.sequenceNumber<=e&&s.get(f.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),rt.waitFor(l).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const s=this.ii.get(e)||null;return rt.resolve(s)}addMatchingKeys(t,e,s){return this.oi.Kr(e,s),rt.resolve()}removeMatchingKeys(t,e,s){this.oi.Gr(e,s);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.oi.zr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const s=this.oi.Jr(e);return rt.resolve(s)}containsKey(t,e){return rt.resolve(this.oi.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t,e){this.ai={},this.overlays={},this.ui=new Md(0),this.ci=!1,this.ci=!0,this.li=new m4,this.referenceDelegate=t(this),this.hi=new v4(this),this.indexManager=new n4,this.remoteDocumentCache=(function(a){return new g4(a)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new t4(e),this.Ti=new f4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new d4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ai[t.toKey()];return s||(s=new p4(e,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,e,s){ht("MemoryPersistence","Starting transaction:",t);const a=new _4(this.ui.next());return this.referenceDelegate.Ii(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return rt.or(Object.values(this.ai).map((s=>()=>s.containsKey(t,e))))}}class _4 extends QP{constructor(t){super(),this.currentSequenceNumber=t}}class Ev{constructor(t){this.persistence=t,this.Ai=new Tv,this.Ri=null}static Vi(t){return new Ev(t)}get mi(){if(this.Ri)return this.Ri;throw Tt(60996)}addReference(t,e,s){return this.Ai.addReference(s,e),this.mi.delete(s.toString()),rt.resolve()}removeReference(t,e,s){return this.Ai.removeReference(s,e),this.mi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.mi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ai.zr(e.targetId).forEach((a=>this.mi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.mi.add(l.toString())))})).next((()=>s.removeTargetData(t,e)))}Ii(){this.Ri=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.mi,(s=>{const a=vt.fromPath(s);return this.fi(t,a).next((l=>{l||e.removeEntry(a,bt.min())}))})).next((()=>(this.Ri=null,e.apply(t))))}updateLimboDocument(t,e){return this.fi(t,e).next((s=>{s?this.mi.delete(e.toString()):this.mi.add(e.toString())}))}Pi(t){return 0}fi(t,e){return rt.or([()=>rt.resolve(this.Ai.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class cd{constructor(t,e){this.persistence=t,this.gi=new Ka((s=>ZP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=l4(this,e)}static Vi(t,e){return new cd(t,e)}Ii(){}di(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}mr(t){const e=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>e.next((a=>s+a))))}yr(t){let e=0;return this.gr(t,(s=>{e++})).next((()=>e))}gr(t,e){return rt.forEach(this.gi,((s,a)=>this.Sr(t,s,a).next((l=>l?rt.resolve():e(a)))))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(t,(c=>this.Sr(t,c,e).next((f=>{f||(s++,l.removeEntry(c,bt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,e){return this.gi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.gi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,s){return this.gi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.gi.set(e,t.currentSequenceNumber),rt.resolve()}Pi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=kf(t.data.value)),e}Sr(t,e,s){return rt.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.gi.get(e);return rt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Is=s,this.ds=a}static Es(t,e){let s=jt(),a=jt();for(const l of e.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new bv(t,e.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return zN()?8:XP(fn())>0?6:4})()}initialize(t,e){this.gs=t,this.indexManager=e,this.As=!0}getDocumentsMatchingQuery(t,e,s,a){const l={result:null};return this.ps(t,e).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ys(t,e,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new T4;return this.ws(t,e,c).next((f=>{if(l.result=f,this.Rs)return this.Ss(t,e,c,f.size)}))})).next((()=>l.result))}Ss(t,e,s,a){return s.documentReadCount<this.Vs?(jo()<=Lt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Uo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(jo()<=Lt.DEBUG&&ht("QueryEngine","Query:",Uo(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(jo()<=Lt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Uo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qi(e))):rt.resolve())}ps(t,e){if(cS(e))return rt.resolve(null);let s=qi(e);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=ad(e,null,"F"),s=qi(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=jt(...l);return this.gs.getDocuments(t,c).next((f=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.bs(e,f);return this.Ds(e,p,c,m.readTime)?this.ps(t,ad(e,null,"F")):this.vs(t,p,e,m)}))))})))))}ys(t,e,s,a){return cS(e)||a.isEqual(bt.min())?rt.resolve(null):this.gs.getDocuments(t,s).next((l=>{const c=this.bs(e,l);return this.Ds(e,c,s,a)?rt.resolve(null):(jo()<=Lt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(e)),this.vs(t,c,e,GP(a,sc)).next((f=>f)))}))}bs(t,e){let s=new je(nR(t));return e.forEach(((a,l)=>{Ld(t,l)&&(s=s.add(l))})),s}Ds(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(t,e,s){return jo()<=Lt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Uo(e)),this.gs.getDocumentsMatchingQuery(t,e,Br.min(),s)}vs(t,e,s,a){return this.gs.getDocumentsMatchingQuery(t,s,a).next((l=>(e.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LocalStore",b4=3e8;class S4{constructor(t,e,s,a){this.persistence=t,this.Cs=e,this.serializer=a,this.Fs=new fe(Nt),this.Ms=new Ka((l=>dv(l)),mv),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new h4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Fs)))}}function A4(n,t,e,s){return new S4(n,t,e,s)}async function IR(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,e.Ns(t),e.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=jt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(s,m).next((p=>({Bs:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function w4(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=e.Os.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,T=_.keys();let w=rt.resolve();return T.forEach((D=>{w=w.next((()=>y.getEntry(m,D))).next((k=>{const x=p.docVersions.get(D);Ft(x!==null,48541),k.version.compareTo(x)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(e,s,t,l).next((()=>l.apply(s))).next((()=>e.mutationQueue.performConsistencyCheck(s))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=jt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(s,a)))}))}function xR(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.hi.getLastRemoteSnapshotVersion(e)))}function R4(n,t){const e=At(n),s=t.snapshotVersion;let a=e.Fs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=e.Os.newChangeBuffer({trackRemovals:!0});a=e.Fs;const f=[];t.targetChanges.forEach(((y,_)=>{const T=a.get(_);if(!T)return;f.push(e.hi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>e.hi.addMatchingKeys(l,y.addedDocuments,_))));let w=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(sn.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,s)),a=a.insert(_,w),(function(k,x,L){return k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=b4?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,w,y)&&f.push(e.hi.updateTargetData(l,w))}));let m=Ns(),p=jt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(C4(l,c,t.documentUpdates).next((y=>{m=y.Ls,p=y.ks}))),!s.isEqual(bt.min())){const y=e.hi.getLastRemoteSnapshotVersion(l).next((_=>e.hi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return rt.waitFor(f).next((()=>c.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(e.Fs=a,l)))}function C4(n,t,e){let s=jt(),a=jt();return e.forEach((l=>s=s.add(l))),t.getEntries(n,s).next((l=>{let c=Ns();return e.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(bt.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ht(Sv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Ls:c,ks:a}}))}function I4(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=cv),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function x4(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return e.hi.getTargetData(s,t).next((l=>l?(a=l,rt.resolve(a)):e.hi.allocateTargetId(s).next((c=>(a=new Vr(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.hi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=e.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Fs=e.Fs.insert(s.targetId,s),e.Ms.set(t,s.targetId)),s}))}async function ly(n,t,e){const s=At(n),a=s.Fs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!vl(c))throw c;ht(Sv,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(a.target)}function SS(n,t,e){const s=At(n);let a=bt.min(),l=jt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=At(m),T=_.Ms.get(y);return T!==void 0?rt.resolve(_.Fs.get(T)):_.hi.getTargetData(p,y)})(s,c,qi(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,e?a:bt.min(),e?l:jt()))).next((f=>(D4(s,yk(t),f),{documents:f,qs:l})))))}function D4(n,t,e){let s=n.xs.get(t)||bt.min();e.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.xs.set(t,s)}class AS{constructor(){this.activeTargetIds=Sk()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class N4{constructor(){this.Fo=new AS,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,e,s){this.Mo[t]=e}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new AS,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="ConnectivityMonitor";class RS{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ht(wS,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ht(wS,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function uy(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="RestConnection",M4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O4{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=e+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===id?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,e,s,a,l){const c=uy(),f=this.Go(t,e.toUriEncodedString());ht(bg,`Sending RPC '${t}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,a,l);const{host:p}=new URL(f),y=fl(p);return this.jo(t,f,m,s,y).then((_=>(ht(bg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw zr(bg,`RPC '${t}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}Jo(t,e,s,a,l,c){return this.Wo(t,e,s,a,l)}zo(t,e,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Go(t,e){const s=M4[t];return`${this.$o}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class k4 extends O4{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,e,s,a,l){const c=uy();return new Promise(((f,m)=>{const p=new I1;p.setWithCredentials(!0),p.listenOnce(x1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Pf.NO_ERROR:const _=p.getResponseJson();ht(ln,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),f(_);break;case Pf.TIMEOUT:ht(ln,`RPC '${t}' ${c} timed out`),m(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const T=p.getStatus();if(ht(ln,`RPC '${t}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w==null?void 0:w.error;if(D&&D.status&&D.message){const k=(function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN})(D.status);m(new ct(k,D.message))}else m(new ct(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(J.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{c_:t,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ht(ln,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(ln,`RPC '${t}' ${c} sending request:`,a),p.send(e,"POST",y,s,15)}))}P_(t,e,s){const a=uy(),l=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=V1(),f=N1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,e,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ht(ln,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.T_(_);let T=!1,w=!1;const D=new P4({Ho:x=>{w?ht(ln,`Not sending because RPC '${t}' stream ${a} is closed:`,x):(T||(ht(ln,`Opening RPC '${t}' stream ${a} transport.`),_.open(),T=!0),ht(ln,`RPC '${t}' stream ${a} sending:`,x),_.send(x))},Yo:()=>_.close()}),k=(x,L,G)=>{x.listen(L,(B=>{try{G(B)}catch(tt){setTimeout((()=>{throw tt}),0)}}))};return k(_,Mu.EventType.OPEN,(()=>{w||(ht(ln,`RPC '${t}' stream ${a} transport opened.`),D.s_())})),k(_,Mu.EventType.CLOSE,(()=>{w||(w=!0,ht(ln,`RPC '${t}' stream ${a} transport closed`),D.__(),this.I_(_))})),k(_,Mu.EventType.ERROR,(x=>{w||(w=!0,zr(ln,`RPC '${t}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),D.__(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),k(_,Mu.EventType.MESSAGE,(x=>{var L;if(!w){const G=x.data[0];Ft(!!G,16349);const B=G,tt=(B==null?void 0:B.error)||((L=B[0])===null||L===void 0?void 0:L.error);if(tt){ht(ln,`RPC '${t}' stream ${a} received error:`,tt);const st=tt.status;let ot=(function(I){const M=De[I];if(M!==void 0)return pR(M)})(st),N=tt.message;ot===void 0&&(ot=J.INTERNAL,N="Unknown error status: "+st+" with message "+tt.message),w=!0,D.__(new ct(ot,N)),_.close()}else ht(ln,`RPC '${t}' stream ${a} received:`,G),D.a_(G)}})),k(f,D1.STAT_EVENT,(x=>{x.stat===Zg.PROXY?ht(ln,`RPC '${t}' stream ${a} detected buffering proxy`):x.stat===Zg.NOPROXY&&ht(ln,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.o_()}),0),D}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((e=>e===t))}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(n){return new zk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,e,s=1e3,a=1.5,l=6e4){this.Fi=t,this.timerId=e,this.d_=s,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const e=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,e-s);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="PersistentStream";class DR{constructor(t,e,s,a,l,c,f,m){this.Fi=t,this.w_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Av(t,e)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():e&&e.code===J.RESOURCE_EXHAUSTED?(Ds(e.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):e&&e.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(e)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),e=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.b_===e&&this.W_(s,a)}),(s=>{t((()=>{const a=new ct(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)}))}))}W_(t,e){const s=this.K_(this.b_);this.stream=this.z_(t,e),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{s((()=>this.G_(a)))})),this.stream.onMessage((a=>{s((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return ht(CS,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return e=>{this.Fi.enqueueAndForget((()=>this.b_===t?e():(ht(CS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L4 extends DR{constructor(t,e,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}z_(t,e){return this.connection.P_("Listen",t,e)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const e=qk(this.serializer,t),s=(function(l){if(!("targetChange"in l))return bt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?Kn(c.readTime):bt.min()})(t);return this.listener.J_(e,s)}H_(t){const e={};e.database=oy(this.serializer),e.addTarget=(function(l,c){let f;const m=c.target;if(f=iy(m)?{documents:Kk(l,m)}:{query:Yk(l,m).Vt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=vR(l,c.resumeToken);const p=ry(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(bt.min())>0){f.readTime=ld(l,c.snapshotVersion.toTimestamp());const p=ry(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const s=Qk(this.serializer,t);s&&(e.labels=s),this.k_(e)}Y_(t){const e={};e.database=oy(this.serializer),e.removeTarget=t,this.k_(e)}}class j4 extends DR{constructor(t,e,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,e){return this.connection.P_("Write",t,e)}j_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const e=Gk(t.writeResults,t.commitTime),s=Kn(t.commitTime);return this.listener.ta(s,e)}na(){const t={};t.database=oy(this.serializer),this.k_(t)}X_(t){const e={streamToken:this.lastStreamToken,writes:t.map((s=>bR(this.serializer,s)))};this.k_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{}class z4 extends U4{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,ay(e,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(J.UNKNOWN,l.toString())}))}Jo(t,e,s,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Jo(t,ay(e,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class B4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ds(e),this._a=!1):ht("OnlineStateTracker",e)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class F4{constructor(t,e,s,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((c=>{s.enqueueAndForget((async()=>{Ya(this)&&(ht(Fa,"Restarting streams for network reachability change."),await(async function(m){const p=At(m);p.Ia.add(4),await xc(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Fd(p)})(this))}))})),this.Aa=new B4(s,a)}}async function Fd(n){if(Ya(n))for(const t of n.da)await t(!0)}async function xc(n){for(const t of n.da)await t(!1)}function NR(n,t){const e=At(n);e.Ta.has(t.targetId)||(e.Ta.set(t.targetId,t),Iv(e)?Cv(e):Tl(e).x_()&&Rv(e,t))}function wv(n,t){const e=At(n),s=Tl(e);e.Ta.delete(t),s.x_()&&VR(e,t),e.Ta.size===0&&(s.x_()?s.B_():Ya(e)&&e.Aa.set("Unknown"))}function Rv(n,t){if(n.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Tl(n).H_(t)}function VR(n,t){n.Ra.$e(t),Tl(n).Y_(t)}function Cv(n){n.Ra=new kk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Ta.get(t)||null,lt:()=>n.datastore.serializer.databaseId}),Tl(n).start(),n.Aa.aa()}function Iv(n){return Ya(n)&&!Tl(n).M_()&&n.Ta.size>0}function Ya(n){return At(n).Ia.size===0}function MR(n){n.Ra=void 0}async function H4(n){n.Aa.set("Online")}async function q4(n){n.Ta.forEach(((t,e)=>{Rv(n,t)}))}async function G4(n,t){MR(n),Iv(n)?(n.Aa.la(t),Cv(n)):n.Aa.set("Unknown")}async function K4(n,t,e){if(n.Aa.set("Online"),t instanceof yR&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ta.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ta.delete(f),a.Ra.removeTarget(f))})(n,t)}catch(s){ht(Fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await hd(n,s)}else if(t instanceof Uf?n.Ra.Ye(t):t instanceof gR?n.Ra.it(t):n.Ra.et(t),!e.isEqual(bt.min()))try{const s=await xR(n.localStore);e.compareTo(s)>=0&&await(function(l,c){const f=l.Ra.Pt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ta.get(p);y&&l.Ta.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ta.get(m);if(!y)return;l.Ta.set(m,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),VR(l,m);const _=new Vr(y.target,m,p,y.sequenceNumber);Rv(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(n,e)}catch(s){ht(Fa,"Failed to raise snapshot:",s),await hd(n,s)}}async function hd(n,t,e){if(!vl(t))throw t;n.Ia.add(1),await xc(n),n.Aa.set("Offline"),e||(e=()=>xR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ht(Fa,"Retrying IndexedDB access"),await e(),n.Ia.delete(1),await Fd(n)}))}function OR(n,t){return t().catch((e=>hd(n,e,t)))}async function Hd(n){const t=At(n),e=Gr(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:cv;for(;Y4(t);)try{const a=await I4(t.localStore,s);if(a===null){t.Pa.length===0&&e.B_();break}s=a.batchId,$4(t,a)}catch(a){await hd(t,a)}PR(t)&&kR(t)}function Y4(n){return Ya(n)&&n.Pa.length<10}function $4(n,t){n.Pa.push(t);const e=Gr(n);e.x_()&&e.Z_&&e.X_(t.mutations)}function PR(n){return Ya(n)&&!Gr(n).M_()&&n.Pa.length>0}function kR(n){Gr(n).start()}async function Q4(n){Gr(n).na()}async function X4(n){const t=Gr(n);for(const e of n.Pa)t.X_(e.mutations)}async function W4(n,t,e){const s=n.Pa.shift(),a=yv.from(s,t,e);await OR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Hd(n)}async function Z4(n,t){t&&Gr(n).Z_&&await(async function(s,a){if((function(c){return mR(c)&&c!==J.ABORTED})(a.code)){const l=s.Pa.shift();Gr(s).N_(),await OR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Hd(s)}})(n,t),PR(n)&&kR(n)}async function IS(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),ht(Fa,"RemoteStore received new credentials");const s=Ya(e);e.Ia.add(3),await xc(e),s&&e.Aa.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ia.delete(3),await Fd(e)}async function J4(n,t){const e=At(n);t?(e.Ia.delete(2),await Fd(e)):t||(e.Ia.add(2),await xc(e),e.Aa.set("Unknown"))}function Tl(n){return n.Va||(n.Va=(function(e,s,a){const l=At(e);return l.ia(),new L4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:H4.bind(null,n),e_:q4.bind(null,n),n_:G4.bind(null,n),J_:K4.bind(null,n)}),n.da.push((async t=>{t?(n.Va.N_(),Iv(n)?Cv(n):n.Aa.set("Unknown")):(await n.Va.stop(),MR(n))}))),n.Va}function Gr(n){return n.ma||(n.ma=(function(e,s,a){const l=At(e);return l.ia(),new j4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:Q4.bind(null,n),n_:Z4.bind(null,n),ea:X4.bind(null,n),ta:W4.bind(null,n)}),n.da.push((async t=>{t?(n.ma.N_(),await Hd(n)):(await n.ma.stop(),n.Pa.length>0&&(ht(Fa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,e,s,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,l){const c=Date.now()+s,f=new xv(t,e,c,a,l);return f.start(s),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(n,t){if(Ds("AsyncQueue",`${t}: ${n}`),vl(n))return new ct(J.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(t){return new tl(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||vt.comparator(e.key,s.key):(e,s)=>vt.comparator(e.key,s.key),this.keyedMap=Ou(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,s)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof tl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new tl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.fa=new fe(vt.comparator)}track(t){const e=t.doc.key,s=this.fa.get(e);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(e,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(e):t.type===1&&s.type===2?this.fa=this.fa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(e,{type:2,doc:t.doc}):Tt(63341,{At:t,ga:s}):this.fa=this.fa.insert(e,t)}pa(){const t=[];return this.fa.inorderTraversal(((e,s)=>{t.push(s)})),t}}class ol{constructor(t,e,s,a,l,c,f,m,p){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,s,a,l){const c=[];return e.forEach((f=>{c.push({type:0,doc:f})})),new ol(t,e,tl.emptySet(e),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class eL{constructor(){this.queries=DS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(e,s){const a=At(e),l=a.queries;a.queries=DS(),l.forEach(((c,f)=>{for(const m of f.wa)m.onError(s)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function DS(){return new Ka((n=>eR(n)),kd)}async function Nv(n,t){const e=At(n);let s=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.ba()&&(s=2):(l=new tL,s=t.ba()?0:1);try{switch(s){case 0:l.ya=await e.onListen(a,!0);break;case 1:l.ya=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const f=Dv(c,`Initialization of query '${Uo(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.wa.push(t),t.va(e.onlineState),l.ya&&t.Ca(l.ya)&&Mv(e)}async function Vv(n,t){const e=At(n),s=t.query;let a=3;const l=e.queries.get(s);if(l){const c=l.wa.indexOf(t);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=t.ba()?0:1:!l.Sa()&&t.ba()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function nL(n,t){const e=At(n);let s=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const f of c.wa)f.Ca(a)&&(s=!0);c.ya=a}}s&&Mv(e)}function iL(n,t,e){const s=At(n),a=s.queries.get(t);if(a)for(const l of a.wa)l.onError(e);s.queries.delete(t)}function Mv(n){n.Da.forEach((t=>{t.next()}))}var cy,NS;(NS=cy||(cy={})).Fa="default",NS.Cache="cache";class Ov{constructor(t,e,s){this.query=t,this.Ma=e,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new ol(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),e=!0):this.Ba(t,this.onlineState)&&(this.La(t),e=!0),this.Oa=t,e}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let e=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),e=!0),e}Ba(t,e){if(!t.fromCache||!this.ba())return!0;const s=e!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const e=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}La(t){t=ol.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.key=t}}class jR{constructor(t){this.key=t}}class sL{constructor(t,e){this.query=t,this.Ha=e,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=jt(),this.mutatedKeys=jt(),this.Xa=nR(t),this.eu=new tl(this.Xa)}get tu(){return this.Ha}nu(t,e){const s=e?e.ru:new xS,a=e?e.eu:this.eu;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const T=a.get(y),w=Ld(this.query,_)?_:null,D=!!T&&this.mutatedKeys.has(T.key),k=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;T&&w?T.data.isEqual(w.data)?D!==k&&(s.track({type:3,doc:w}),x=!0):this.iu(T,w)||(s.track({type:2,doc:w}),x=!0,(m&&this.Xa(w,m)>0||p&&this.Xa(w,p)<0)&&(f=!0)):!T&&w?(s.track({type:0,doc:w}),x=!0):T&&!w&&(s.track({type:1,doc:T}),x=!0,(m||p)&&(f=!0)),x&&(w?(c=c.add(w),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{eu:c,ru:s,Ds:f,mutatedKeys:l}}iu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const l=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort(((y,_)=>(function(w,D){const k=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{At:x})}};return k(w)-k(D)})(y.type,_.type)||this.Xa(y.doc,_.doc))),this.su(s),a=a!=null&&a;const f=e&&!a?this.ou():[],m=this.Za.size===0&&this.current&&!a?1:0,p=m!==this.Ya;return this.Ya=m,c.length!==0||p?{snapshot:new ol(this.query,t.eu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new xS,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((e=>this.Ha=this.Ha.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ha=this.Ha.delete(e))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=jt(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const e=[];return t.forEach((s=>{this.Za.has(s)||e.push(new jR(s))})),this.Za.forEach((s=>{t.has(s)||e.push(new LR(s))})),e}uu(t){this.Ha=t.qs,this.Za=jt();const e=this.nu(t.documents);return this.applyChanges(e,!0)}cu(){return ol.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Pv="SyncEngine";class rL{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class aL{constructor(t){this.key=t,this.lu=!1}}class oL{constructor(t,e,s,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Ka((f=>eR(f)),kd),this.Tu=new Map,this.Iu=new Set,this.du=new fe(vt.comparator),this.Eu=new Map,this.Au=new Tv,this.Ru={},this.Vu=new Map,this.mu=al.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function lL(n,t,e=!0){const s=qR(n);let a;const l=s.Pu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await UR(s,t,e,!0),a}async function uL(n,t){const e=qR(n);await UR(e,t,!0,!1)}async function UR(n,t,e,s){const a=await x4(n.localStore,qi(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let f;return s&&(f=await cL(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&NR(n.remoteStore,a),f}async function cL(n,t,e,s,a){n.gu=(_,T,w)=>(async function(k,x,L,G){let B=x.view.nu(L);B.Ds&&(B=await SS(k.localStore,x.query,!1).then((({documents:N})=>x.view.nu(N,B))));const tt=G&&G.targetChanges.get(x.targetId),st=G&&G.targetMismatches.get(x.targetId)!=null,ot=x.view.applyChanges(B,k.isPrimaryClient,tt,st);return MS(k,x.targetId,ot._u),ot.snapshot})(n,_,T,w);const l=await SS(n.localStore,t,!0),c=new sL(t,l.qs),f=c.nu(l.documents),m=Ic.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,m);MS(n,e,p._u);const y=new rL(t,e,c);return n.Pu.set(t,y),n.Tu.has(e)?n.Tu.get(e).push(t):n.Tu.set(e,[t]),p.snapshot}async function hL(n,t,e){const s=At(n),a=s.Pu.get(t),l=s.Tu.get(a.targetId);if(l.length>1)return s.Tu.set(a.targetId,l.filter((c=>!kd(c,t)))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ly(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),e&&wv(s.remoteStore,a.targetId),hy(s,a.targetId)})).catch(yl)):(hy(s,a.targetId),await ly(s.localStore,a.targetId,!0))}async function fL(n,t){const e=At(n),s=e.Pu.get(t),a=e.Tu.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),wv(e.remoteStore,s.targetId))}async function dL(n,t,e){const s=TL(n);try{const a=await(function(c,f){const m=At(c),p=re.now(),y=f.reduce(((w,D)=>w.add(D.key)),jt());let _,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let D=Ns(),k=jt();return m.Os.getEntries(w,y).next((x=>{D=x,D.forEach(((L,G)=>{G.isValidDocument()||(k=k.add(L))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,D))).next((x=>{_=x;const L=[];for(const G of f){const B=Nk(G,_.get(G.key).overlayedDocument);B!=null&&L.push(new Xr(G.key,B,Y1(B.value.mapValue),cn.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,L,f)})).next((x=>{T=x;const L=x.applyToLocalDocumentSet(_,k);return m.documentOverlayCache.saveOverlays(w,x.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:sR(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Ru[c.currentUser.toKey()];p||(p=new fe(Nt)),p=p.insert(f,m),c.Ru[c.currentUser.toKey()]=p})(s,a.batchId,e),await Dc(s,a.changes),await Hd(s.remoteStore)}catch(a){const l=Dv(a,"Failed to persist write");e.reject(l)}}async function zR(n,t){const e=At(n);try{const s=await R4(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=e.Eu.get(l);c&&(Ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?Ft(c.lu,14607):a.removedDocuments.size>0&&(Ft(c.lu,42227),c.lu=!1))})),await Dc(e,s,t)}catch(s){await yl(s)}}function VS(n,t,e){const s=At(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.Pu.forEach(((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=At(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const T of _.wa)T.va(f)&&(p=!0)})),p&&Mv(m)})(s.eventManager,t),a.length&&s.hu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function mL(n,t,e){const s=At(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Eu.get(t),l=a&&a.key;if(l){let c=new fe(vt.comparator);c=c.insert(l,Ge.newNoDocument(l,bt.min()));const f=jt().add(l),m=new zd(bt.min(),new Map,new fe(Nt),c,f);await zR(s,m),s.du=s.du.remove(l),s.Eu.delete(t),kv(s)}else await ly(s.localStore,t,!1).then((()=>hy(s,t,e))).catch(yl)}async function pL(n,t){const e=At(n),s=t.batch.batchId;try{const a=await w4(e.localStore,t);FR(e,s,null),BR(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Dc(e,a)}catch(a){await yl(a)}}async function gL(n,t,e){const s=At(n);try{const a=await(function(c,f){const m=At(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Ft(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);FR(s,t,e),BR(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Dc(s,a)}catch(a){await yl(a)}}function BR(n,t){(n.Vu.get(t)||[]).forEach((e=>{e.resolve()})),n.Vu.delete(t)}function FR(n,t,e){const s=At(n);let a=s.Ru[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),s.Ru[s.currentUser.toKey()]=a}}function hy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Tu.get(t))n.Pu.delete(s),e&&n.hu.pu(s,e);n.Tu.delete(t),n.isPrimaryClient&&n.Au.zr(t).forEach((s=>{n.Au.containsKey(s)||HR(n,s)}))}function HR(n,t){n.Iu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(wv(n.remoteStore,e),n.du=n.du.remove(t),n.Eu.delete(e),kv(n))}function MS(n,t,e){for(const s of e)s instanceof LR?(n.Au.addReference(s.key,t),yL(n,s)):s instanceof jR?(ht(Pv,"Document no longer in limbo: "+s.key),n.Au.removeReference(s.key,t),n.Au.containsKey(s.key)||HR(n,s.key)):Tt(19791,{yu:s})}function yL(n,t){const e=t.key,s=e.path.canonicalString();n.du.get(e)||n.Iu.has(s)||(ht(Pv,"New document in limbo: "+e),n.Iu.add(s),kv(n))}function kv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Iu.values().next().value;n.Iu.delete(t);const e=new vt(Jt.fromString(t)),s=n.mu.next();n.Eu.set(s,new aL(e)),n.du=n.du.insert(e,s),NR(n.remoteStore,new Vr(qi(Pd(e.path)),s,"TargetPurposeLimboResolution",Md.ue))}}async function Dc(n,t,e){const s=At(n),a=[],l=[],c=[];s.Pu.isEmpty()||(s.Pu.forEach(((f,m)=>{c.push(s.gu(m,t,e).then((p=>{var y;if((p||e)&&s.isPrimaryClient){const _=p?!p.fromCache:(y=e==null?void 0:e.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=bv.Es(m.targetId,p);l.push(_)}})))})),await Promise.all(c),s.hu.J_(a),await(async function(m,p){const y=At(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>rt.forEach(p,(T=>rt.forEach(T.Is,(w=>y.persistence.referenceDelegate.addReference(_,T.targetId,w))).next((()=>rt.forEach(T.ds,(w=>y.persistence.referenceDelegate.removeReference(_,T.targetId,w)))))))))}catch(_){if(!vl(_))throw _;ht(Sv,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const w=y.Fs.get(T),D=w.snapshotVersion,k=w.withLastLimboFreeSnapshotVersion(D);y.Fs=y.Fs.insert(T,k)}}})(s.localStore,l))}async function vL(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){ht(Pv,"User change. New user:",t.toKey());const s=await IR(e.localStore,t);e.currentUser=t,(function(l,c){l.Vu.forEach((f=>{f.forEach((m=>{m.reject(new ct(J.CANCELLED,c))}))})),l.Vu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Dc(e,s.Bs)}}function _L(n,t){const e=At(n),s=e.Eu.get(t);if(s&&s.lu)return jt().add(s.key);{let a=jt();const l=e.Tu.get(t);if(!l)return a;for(const c of l){const f=e.Pu.get(c);a=a.unionWith(f.view.tu)}return a}}function qR(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=zR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_L.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mL.bind(null,t),t.hu.J_=nL.bind(null,t.eventManager),t.hu.pu=iL.bind(null,t.eventManager),t}function TL(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gL.bind(null,t),t}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,e){return null}Fu(t,e){return null}vu(t){return A4(this.persistence,new E4,t.initialUser,this.serializer)}Du(t){return new CR(Ev.Vi,this.serializer)}bu(t){return new N4}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class EL extends fd{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,e){Ft(this.persistence.referenceDelegate instanceof cd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new a4(s,t.asyncQueue,e)}Du(t){const e=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new CR((s=>cd.Vi(s,e)),this.serializer)}}class fy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>VS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vL.bind(null,this.syncEngine),await J4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eL})()}createDatastore(t){const e=Bd(t.databaseInfo.databaseId),s=(function(l){return new k4(l)})(t.databaseInfo);return(function(l,c,f,m){return new z4(l,c,f,m)})(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return(function(s,a,l,c,f){return new F4(s,a,l,c,f)})(this.localStore,this.datastore,t.asyncQueue,(e=>VS(this.syncEngine,e,0)),(function(){return RS.C()?new RS:new V4})())}createSyncEngine(t,e){return(function(a,l,c,f,m,p,y){const _=new oL(a,l,c,f,m,p);return y&&(_.fu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(a){const l=At(a);ht(Fa,"RemoteStore shutting down."),l.Ia.add(5),await xc(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Ds("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ct(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const c=At(a),f={documents:l.map((_=>ud(c.serializer,_)))},m=await c.Jo("BatchGetDocuments",c.serializer.databaseId,Jt.emptyPath(),f,l.length),p=new Map;m.forEach((_=>{const T=Hk(c.serializer,_);p.set(T.key.toString(),T)}));const y=[];return l.forEach((_=>{const T=p.get(_.toString());Ft(!!T,55234,{key:_}),y.push(T)})),y})(this.datastore,t);return e.forEach((s=>this.recordVersion(s))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new gv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,s)=>{const a=vt.fromPath(s);this.mutations.push(new dR(a,this.precondition(a)))})),await(async function(s,a){const l=At(s),c={writes:a.map((f=>bR(l.serializer,f)))};await l.Wo("Commit",l.serializer.databaseId,Jt.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Tt(50498,{Wu:t.constructor.name});e=bt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new ct(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(bt.min())?cn.exists(!1):cn.updateTime(e):cn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(bt.min()))throw new ct(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(e)}return cn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(t,e,s,a,l){this.asyncQueue=t,this.datastore=e,this.options=s,this.updateFunction=a,this.deferred=l,this.Gu=s.maxAttempts,this.F_=new Av(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_((async()=>{const t=new bL(this.datastore),e=this.Ju(t);e&&e.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Hu(a)}))))})).catch((s=>{this.Hu(s)}))}))}Ju(t){try{const e=this.updateFunction(t);return!Rc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Hu(t){this.Gu>0&&this.Yu(t)?(this.Gu-=1,this.asyncQueue.enqueueAndForget((()=>(this.ju(),Promise.resolve())))):this.deferred.reject(t)}Yu(t){if(t.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!mR(e)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="FirestoreClient";class AL{constructor(t,e,s,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ht(Kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(Kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Dv(e,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ag(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Kr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await IR(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>{zr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{ht("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{zr("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),n._offlineComponents=t}async function OS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await wL(n);ht(Kr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((s=>IS(t.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>IS(t.remoteStore,a))),n._onlineComponents=t}async function wL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Kr,"Using user provided OfflineComponentProvider");try{await Ag(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===J.FAILED_PRECONDITION||a.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;zr("Error using user provided cache. Falling back to memory cache: "+e),await Ag(n,new fd)}}else ht(Kr,"Using default OfflineComponentProvider"),await Ag(n,new EL(void 0));return n._offlineComponents}async function jv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Kr,"Using user provided OnlineComponentProvider"),await OS(n,n._uninitializedComponentsProvider._online)):(ht(Kr,"Using default OnlineComponentProvider"),await OS(n,new fy))),n._onlineComponents}function RL(n){return jv(n).then((t=>t.syncEngine))}function CL(n){return jv(n).then((t=>t.datastore))}async function dd(n){const t=await jv(n),e=t.eventManager;return e.onListen=lL.bind(null,t.syncEngine),e.onUnlisten=hL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=uL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=fL.bind(null,t.syncEngine),e}function IL(n,t,e={}){const s=new Hi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Lv({next:T=>{y.Ou(),c.enqueueAndForget((()=>Vv(l,_)));const w=T.docs.has(f);!w&&T.fromCache?p.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&m&&m.source==="server"?p.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Ov(Pd(f.path),y,{includeMetadataChanges:!0,ka:!0});return Nv(l,_)})(await dd(n),n.asyncQueue,t,e,s))),s.promise}function xL(n,t,e={}){const s=new Hi;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Lv({next:T=>{y.Ou(),c.enqueueAndForget((()=>Vv(l,_))),T.fromCache&&m.source==="server"?p.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new Ov(f,y,{includeMetadataChanges:!0,ka:!0});return Nv(l,_)})(await dd(n),n.asyncQueue,t,e,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firestore.googleapis.com",kS=!0;class LS{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KR,this.ssl=kS}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:kS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=RR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<s4)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qd{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PP;switch(s.type){case"firstParty":return new UP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const s=PS.get(e);s&&(ht("ComponentProvider","Removing Datastore"),PS.delete(e),s.terminate())})(this),Promise.resolve()}}function DL(n,t,e,s={}){var a;n=Nn(n,qd);const l=fl(t),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${t}:${e}`;l&&(kw(`https://${m}`),Lw("Firestore",!0)),c.host!==KR&&c.host!==m&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:s});if(!La(p,f)&&(n._setSettings(p),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=un.MOCK_USER;else{y=NN(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(T)}n._authCredentials=new kP(new O1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ks(this.firestore,t,this._query)}}class he{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new he(this.firestore,t,this._key)}toJSON(){return{type:he._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(wc(e,he._jsonSchema))return new he(t,s||null,new vt(Jt.fromString(e.referencePath)))}}he._jsonSchemaVersion="firestore/documentReference/1.0",he._jsonSchema={type:Oe("string",he._jsonSchemaVersion),referencePath:Oe("string")};class jr extends ks{constructor(t,e,s){super(t,e,Pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new he(this.firestore,null,new vt(t))}withConverter(t){return new jr(this.firestore,t,this._path)}}function md(n,t,...e){if(n=_e(n),k1("collection","path",t),n instanceof qd){const s=Jt.fromString(t,...e);return Xb(s),new jr(n,null,s)}{if(!(n instanceof he||n instanceof jr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Jt.fromString(t,...e));return Xb(s),new jr(n.firestore,null,s)}}function Bi(n,t,...e){if(n=_e(n),arguments.length===1&&(t=uv.newId()),k1("doc","path",t),n instanceof qd){const s=Jt.fromString(t,...e);return Qb(s),new he(n,null,new vt(s))}{if(!(n instanceof he||n instanceof jr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Jt.fromString(t,...e));return Qb(s),new he(n.firestore,n instanceof jr?n.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="AsyncQueue";class US{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Av(this,"async_queue_retry"),this.oc=()=>{const s=Sg();s&&ht(jS,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const e=Sg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const e=Sg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const e=new Hi;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!vl(t))throw t;ht(jS,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const e=this._c.then((()=>(this.nc=!0,t().catch((s=>{throw this.tc=s,this.nc=!1,Ds("INTERNAL UNHANDLED ERROR: ",zS(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=e,e}enqueueAfterDelay(t,e,s){this.ac(),this.sc.indexOf(t)>-1&&(e=0);const a=xv.createAndSchedule(this,t,e,s,(l=>this.lc(l)));return this.ec.push(a),a}ac(){this.tc&&Tt(47125,{hc:zS(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((e,s)=>e.targetTimeMs-s.targetTimeMs));for(const e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const e=this.ec.indexOf(t);this.ec.splice(e,1)}}function zS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n){return(function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Vs extends qd{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new US,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new US(t),this._firestoreClient=void 0,await t}}}function NL(n,t){const e=typeof n=="object"?n:Bw(),s=typeof n=="string"?n:id,a=Wy(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=xN("firestore");l&&DL(a,...l)}return a}function Nc(n){if(n._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VL(n),n._firestoreClient}function VL(n){var t,e,s;const a=n._freezeSettings(),l=(function(f,m,p,y){return new ek(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,GR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new AL(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hn(sn.fromBase64String(t))}catch(e){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Hn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wc(t,Hn._jsonSchema))return Hn.fromBase64String(t.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Oe("string",Hn._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(t){if(wc(t,Gi._jsonSchema))return new Gi(t.latitude,t.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Oe("string",Gi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wc(t,Ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ki(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Oe("string",Ki._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=/^__.*__$/;class OL{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Xr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Cc(t,this.data,e,this.fieldTransforms)}}class YR{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Xr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function $R(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ec:n})}}class Uv{constructor(t,e,s,a,l,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Uv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Rc({path:s,mc:!1});return a.fc(t),a}gc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.Rc({path:s,mc:!1});return a.Ac(),a}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return pd(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if($R(this.Ec)&&ML.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class PL{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Bd(t)}Dc(t,e,s,a=!1){return new Uv({Ec:t,methodName:e,bc:s,path:nn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mc(n){const t=n._freezeSettings(),e=Bd(n._databaseId);return new PL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function zv(n,t,e,s,a,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,t,e,a);Fv("Data must be an object, but it was:",c,s);const f=WR(s,c);let m,p;if(l.merge)m=new qn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const T=dy(t,_,e);if(!c.contains(T))throw new ct(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);JR(y,T)||y.push(T)}m=new qn(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new OL(new _n(f),m,p)}class Kd extends Gd{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kd}}class Bv extends Gd{_toFieldTransform(t){return new Ck(t.path,new uc)}isEqual(t){return t instanceof Bv}}function QR(n,t,e,s){const a=n.Dc(1,t,e);Fv("Data must be an object, but it was:",a,s);const l=[],c=_n.empty();Qr(s,((m,p)=>{const y=Hv(t,m,e);p=_e(p);const _=a.gc(y);if(p instanceof Kd)l.push(y);else{const T=Oc(p,_);T!=null&&(l.push(y),c.set(y,T))}}));const f=new qn(l);return new YR(c,f,a.fieldTransforms)}function XR(n,t,e,s,a,l){const c=n.Dc(1,t,e),f=[dy(t,s,e)],m=[a];if(l.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(dy(t,l[T])),m.push(l[T+1]);const p=[],y=_n.empty();for(let T=f.length-1;T>=0;--T)if(!JR(p,f[T])){const w=f[T];let D=m[T];D=_e(D);const k=c.gc(w);if(D instanceof Kd)p.push(w);else{const x=Oc(D,k);x!=null&&(p.push(w),y.set(w,x))}}const _=new qn(p);return new YR(y,_,c.fieldTransforms)}function kL(n,t,e,s=!1){return Oc(e,n.Dc(s?4:3,t))}function Oc(n,t){if(ZR(n=_e(n)))return Fv("Unsupported field value:",t,n),WR(n,t);if(n instanceof Gd)return(function(s,a){if(!$R(a.Ec))throw a.wc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Oc(f,a.yc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,t)}return(function(s,a){if((s=_e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ak(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=re.fromDate(s);return{timestampValue:ld(a.serializer,l)}}if(s instanceof re){const l=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ld(a.serializer,l)}}if(s instanceof Gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:vR(a.serializer,s._byteString)};if(s instanceof he){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_v(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ki)return(function(c,f){return{mapValue:{fields:{[G1]:{stringValue:K1},[sd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.wc("VectorValues must only contain numeric values.");return pv(f.serializer,p)}))}}}}}})(s,a);throw a.wc(`Unsupported field value: ${Vd(s)}`)})(n,t)}function WR(n,t){const e={};return U1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qr(n,((s,a)=>{const l=Oc(a,t.Vc(s));l!=null&&(e[s]=l)})),{mapValue:{fields:e}}}function ZR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof re||n instanceof Gi||n instanceof Hn||n instanceof he||n instanceof Gd||n instanceof Ki)}function Fv(n,t,e){if(!ZR(e)||!L1(e)){const s=Vd(e);throw s==="an object"?t.wc(n+" a custom object"):t.wc(n+" "+s)}}function dy(n,t,e){if((t=_e(t))instanceof Vc)return t._internalPath;if(typeof t=="string")return Hv(n,t);throw pd("Field path arguments must be of type string or ",n,!1,void 0,e)}const LL=new RegExp("[~\\*/\\[\\]]");function Hv(n,t,e){if(t.search(LL)>=0)throw pd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Vc(...t.split("."))._internalPath}catch{throw pd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function pd(n,t,e,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ct(J.INVALID_ARGUMENT,f+n+m)}function JR(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e,s,a,l){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Yd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class jL extends gd{data(){return super.data()}}function Yd(n,t){return typeof t=="string"?Hv(n,t):t instanceof Vc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qv{}class Gv extends qv{}function eC(n,t,...e){let s=[];t instanceof qv&&s.push(t),s=s.concat(e),(function(l){const c=l.filter((m=>m instanceof Kv)).length,f=l.filter((m=>m instanceof $d)).length;if(c>1||c>0&&f>0)throw new ct(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class $d extends Gv{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new $d(t,e,s)}_apply(t){const e=this._parse(t);return nC(t._query,e),new ks(t.firestore,t.converter,sy(t._query,e))}_parse(t){const e=Mc(t.firestore);return(function(l,c,f,m,p,y,_){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){qS(_,y);const D=[];for(const k of _)D.push(HS(m,l,k));T={arrayValue:{values:D}}}else T=HS(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||qS(_,y),T=kL(f,c,_,y==="in"||y==="not-in");return Me.create(p,y,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function FS(n,t,e){const s=t,a=Yd("where",n);return $d._create(a,s,e)}class Kv extends qv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Kv(t,e)}_parse(t){const e=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return e.length===1?e[0]:Ai.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)nC(c,m),c=sy(c,m)})(t._query,e),new ks(t.firestore,t.converter,sy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yv extends Gv{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Yv(t,e)}_apply(t){const e=(function(a,l,c){if(a.startAt!==null)throw new ct(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(l,c)})(t._query,this._field,this._direction);return new ks(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new _l(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function UL(n,t="asc"){const e=t,s=Yd("orderBy",n);return Yv._create(s,e)}class $v extends Gv{constructor(t,e,s){super(),this.type=t,this._limit=e,this._limitType=s}static _create(t,e,s){return new $v(t,e,s)}_apply(t){return new ks(t.firestore,t.converter,ad(t._query,this._limit,this._limitType))}}function zL(n){return $v._create("limit",n,"F")}function HS(n,t,e){if(typeof(e=_e(e))=="string"){if(e==="")throw new ct(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tR(t)&&e.indexOf("/")!==-1)throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(Jt.fromString(e));if(!vt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sS(n,new vt(s))}if(e instanceof he)return sS(n,e._key);throw new ct(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vd(e)}.`)}function qS(n,t){if(!Array.isArray(n)||n.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nC(n,t){const e=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class iC{convertValue(t,e="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Qr(t,((a,l)=>{s[a]=this.convertValue(l,e)})),s}convertVectorValue(t){var e,s,a;const l=(a=(s=(e=t.fields)===null||e===void 0?void 0:e[sd].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((c=>Se(c.doubleValue)));return new Ki(l)}convertGeoPoint(t){return new Gi(Se(t.latitude),Se(t.longitude))}convertArray(t,e){return(t.values||[]).map((s=>this.convertValue(s,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Od(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(rc(t));default:return null}}convertTimestamp(t){const e=Fr(t);return new re(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Jt.fromString(t);Ft(wR(s),9688,{name:t});const a=new ac(s.get(1),s.get(3)),l=new vt(s.popFirst(5));return a.isEqual(e)||Ds(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}class BL extends iC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,e)}}class qo{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ur extends gd{constructor(t,e,s,a,l,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Yd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ur._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Oe("string",Ur._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class zf extends Ur{data(t={}){return super.data(t)}}class Pa{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new qo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((s=>{t.call(e,new zf(this._firestore,this._userDataWriter,s.key,s,new qo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new zf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new zf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new qo(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:FL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(n){n=Nn(n,he);const t=Nn(n.firestore,Vs);return IL(Nc(t),n._key).then((e=>rC(t,n,e)))}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:Oe("string",Pa._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Qd extends iC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,e)}}function GS(n){n=Nn(n,ks);const t=Nn(n.firestore,Vs),e=Nc(t),s=new Qd(t);return tC(n._query),xL(e,n._query).then((a=>new Pa(t,s,n,a)))}function Xv(n,t,e){n=Nn(n,he);const s=Nn(n.firestore,Vs),a=Qv(n.converter,t,e);return Wv(s,[zv(Mc(s),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,cn.none())])}function qL(n,t,e,...s){n=Nn(n,he);const a=Nn(n.firestore,Vs),l=Mc(a);let c;return c=typeof(t=_e(t))=="string"||t instanceof Vc?XR(l,"updateDoc",n._key,t,e,s):QR(l,"updateDoc",n._key,t),Wv(a,[c.toMutation(n._key,cn.exists(!0))])}function GL(n,t){const e=Nn(n.firestore,Vs),s=Bi(n),a=Qv(n.converter,t);return Wv(e,[zv(Mc(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,cn.exists(!1))]).then((()=>s))}function sC(n,...t){var e,s,a;n=_e(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||BS(t[c])||(l=t[c++]);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(BS(t[c])){const _=t[c];t[c]=(e=_.next)===null||e===void 0?void 0:e.bind(_),t[c+1]=(s=_.error)===null||s===void 0?void 0:s.bind(_),t[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let m,p,y;if(n instanceof he)p=Nn(n.firestore,Vs),y=Pd(n._key.path),m={next:_=>{t[c]&&t[c](rC(p,n,_))},error:t[c+1],complete:t[c+2]};else{const _=Nn(n,ks);p=Nn(_.firestore,Vs),y=_._query;const T=new Qd(p);m={next:w=>{t[c]&&t[c](new Pa(p,T,_,w))},error:t[c+1],complete:t[c+2]},tC(n._query)}return(function(T,w,D,k){const x=new Lv(k),L=new Ov(w,x,D);return T.asyncQueue.enqueueAndForget((async()=>Nv(await dd(T),L))),()=>{x.Ou(),T.asyncQueue.enqueueAndForget((async()=>Vv(await dd(T),L)))}})(Nc(p),y,f,m)}function Wv(n,t){return(function(s,a){const l=new Hi;return s.asyncQueue.enqueueAndForget((async()=>dL(await RL(s),a,l))),l.promise})(Nc(n),t)}function rC(n,t,e){const s=e.docs.get(t._key),a=new Qd(n);return new Ur(n,a,t._key,s,new qo(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={maxAttempts:5};function ku(n,t){if((n=_e(n)).firestore!==t)throw new ct(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Mc(t)}get(t){const e=ku(t,this._firestore),s=new BL(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return Tt(24041);const l=a[0];if(l.isFoundDocument())return new gd(this._firestore,s,l.key,l,e.converter);if(l.isNoDocument())return new gd(this._firestore,s,e._key,null,e.converter);throw Tt(18433,{doc:l})}))}set(t,e,s){const a=ku(t,this._firestore),l=Qv(a.converter,e,s),c=zv(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,c),this}update(t,e,s,...a){const l=ku(t,this._firestore);let c;return c=typeof(e=_e(e))=="string"||e instanceof Vc?XR(this._dataReader,"Transaction.update",l._key,e,s,a):QR(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,c),this}delete(t){const e=ku(t,this._firestore);return this._transaction.delete(e._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L extends YL{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=ku(t,this._firestore),s=new Qd(this._firestore);return super.get(t).then((a=>new Ur(this._firestore,s,e._key,a._document,new qo(!1,!1),e.converter)))}}function QL(n,t,e){n=Nn(n,Vs);const s=Object.assign(Object.assign({},KL),e);return(function(l){if(l.maxAttempts<1)throw new ct(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(l,c,f){const m=new Hi;return l.asyncQueue.enqueueAndForget((async()=>{const p=await CL(l);new SL(l.asyncQueue,p,f,c,m).zu()})),m.promise})(Nc(n),(a=>t(new $L(n,a))),s)}function fc(){return new Bv("serverTimestamp")}(function(t,e=!0){(function(a){gl=a})(ml),nl(new ja("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Vs(new LP(s.getProvider("auth-internal")),new zP(c,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(p.options.projectId,y)})(c,a),c);return l=Object.assign({useFetchStreams:e},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),kr(qb,Gb,t),kr(qb,Gb,"esm2017")})();var XL="firebase",WL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(XL,WL,"app");const ZL={apiKey:"AIzaSyBesezwyDv6aaJwfI6mma6uTHAPogQn3a8",authDomain:"blindly-dating-app-2026.firebaseapp.com",projectId:"blindly-dating-app-2026",storageBucket:"blindly-dating-app-2026.firebasestorage.app",messagingSenderId:"42076933430",appId:"1:42076933430:web:82224d6f0a457f60a3f797"},aC=zw(ZL),ai=MP(aC),Dn=NL(aC),oC=V.createContext();function Pc(){return V.useContext(oC)}function JL({children:n}){const[t,e]=V.useState(null),[s,a]=V.useState(null),[l,c]=V.useState(!0);V.useEffect(()=>{let m=()=>{};const p=hO(ai,y=>{e(y),m(),y?m=sC(Bi(Dn,"users",y.uid),_=>{_.exists()?a(_.data()):a(null),c(!1)},_=>{console.error("Firestore sync error:",_),c(!1)}):(a(null),c(!1))});return()=>{p(),m()}},[]);const f={currentUser:t,userDoc:s,loading:l,logout:()=>fO(ai)};return S.jsx(oC.Provider,{value:f,children:!l&&n})}/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lC=(...n)=>n.filter((t,e,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=V.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>V.createElement("svg",{ref:m,...e3,width:t,height:t,stroke:n,strokeWidth:s?Number(e)*24/Number(t):e,className:lC("lucide",a),...f},[...c.map(([p,y])=>V.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(n,t)=>{const e=V.forwardRef(({className:s,...a},l)=>V.createElement(n3,{ref:l,iconNode:t,className:lC(`lucide-${t3(n)}`,s),...a}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],s3=le("ArrowLeft",i3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],a3=le("ArrowRight",r3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],l3=le("AtSign",o3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],uC=le("Cake",u3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],h3=le("Check",c3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kc=le("ChevronLeft",f3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Lc=le("ChevronRight",d3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],my=le("EyeOff",m3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g3=le("Eye",p3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],yd=le("Heart",y3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ll=le("LoaderCircle",v3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],T3=le("LogOut",_3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],b3=le("Mail",E3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cC=le("MapPin",S3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],hC=le("MessageCircle",A3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],R3=le("Moon",w3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],I3=le("Phone",C3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],D3=le("Plus",x3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],V3=le("Send",N3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],jc=le("Sparkles",M3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],P3=le("Sun",O3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L3=le("TriangleAlert",k3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zv=le("User",j3);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jv=le("X",U3);function z3(){const{theme:n,toggleTheme:t}=TN();return S.jsxs("div",{className:"app-container",children:[S.jsx("div",{className:"ambient-orb orb-1"}),S.jsx("div",{className:"ambient-orb orb-2"}),S.jsx("div",{className:"ambient-orb orb-3"}),S.jsxs("nav",{className:"nav",children:[S.jsxs("div",{className:"nav-brand",children:[S.jsx(my,{size:22,strokeWidth:2.5}),S.jsx("span",{className:"nav-logo",children:"blindly"})]}),S.jsx("button",{className:"theme-toggle",onClick:t,"aria-label":"Toggle theme",title:n==="dark"?"Switch to light mode":"Switch to dark mode",children:S.jsx("div",{className:"toggle-icon-wrapper",children:n==="dark"?S.jsx(P3,{size:18}):S.jsx(R3,{size:18})})})]}),S.jsxs("main",{className:"hero",children:[S.jsxs("div",{className:"hero-badge",children:[S.jsx(jc,{size:14}),S.jsx("span",{children:"Text-only dating"})]}),S.jsxs("h1",{className:"hero-title",children:["Date with ",S.jsx("br",{}),S.jsx("span",{className:"hero-gradient",children:"words, not looks."})]}),S.jsxs("p",{className:"hero-subtitle",children:["No photos. No filters. No peacocking. ",S.jsx("br",{}),"One match at a time. Just real conversation."]}),S.jsxs("div",{className:"hero-actions",children:[S.jsxs($y,{to:"/auth",className:"btn btn-primary",children:[S.jsx(yd,{size:18}),"Get Started"]}),S.jsx("button",{className:"btn btn-ghost",children:"Learn More"})]}),S.jsxs("div",{className:"features",children:[S.jsxs("div",{className:"feature-card",children:[S.jsx("div",{className:"feature-icon",children:S.jsx(my,{size:24})}),S.jsx("h3",{children:"Blind Profiles"}),S.jsx("p",{children:"Text-only profiles with prompts, tags, and a tagline. Personality first."})]}),S.jsxs("div",{className:"feature-card",children:[S.jsx("div",{className:"feature-icon",children:S.jsx(yd,{size:24})}),S.jsx("h3",{children:"One Match"}),S.jsx("p",{children:"Exactly one active match at a time. Give 100% or move on."})]}),S.jsxs("div",{className:"feature-card",children:[S.jsx("div",{className:"feature-icon",children:S.jsx(hC,{size:24})}),S.jsx("h3",{children:"Real Talk"}),S.jsx("p",{children:"Text-only messaging. No media. Emoji OK. Just words that matter."})]})]})]}),S.jsx("footer",{className:"footer",children:S.jsx("p",{children:" 2026 Blindly. All rights reserved."})})]})}function B3(){const[n,t]=V.useState("login"),[e,s]=V.useState("email"),[a,l]=V.useState(""),[c,f]=V.useState(""),[m,p]=V.useState(""),[y,_]=V.useState(""),[T,w]=V.useState(null),[D,k]=V.useState(!1),[x,L]=V.useState(""),[G,B]=V.useState(!1),tt=Ga();V.useEffect(()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new MO(ai,"recaptcha-container",{size:"invisible"}))},[]);async function st(I){await Xv(Bi(Dn,"users",I),{createdAt:fc(),status:"active",currentMatchId:null,trustLevel:0},{merge:!0})}async function ot(I){I.preventDefault(),k(!0),L("");try{if(n==="signup"){const M=await oO(ai,a,c);await st(M.user.uid)}else await lO(ai,a,c);tt("/app")}catch(M){L(M.message.replace("Firebase: ",""))}k(!1)}async function N(I){if(I.preventDefault(),!m)return L("Please enter a valid phone number");k(!0),L("");try{const M=await kO(ai,m,window.recaptchaVerifier);w(M)}catch(M){L(M.message.replace("Firebase: ","")),window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null)}k(!1)}async function C(I){if(I.preventDefault(),!!y){k(!0),L("");try{const M=await T.confirm(y);await st(M.user.uid),tt("/app")}catch(M){L(M.message.replace("Firebase: ",""))}k(!1)}}return S.jsxs("div",{className:"auth-card",children:[S.jsxs("div",{className:"auth-header",children:[S.jsx("h1",{className:"auth-title",children:"Blindly"}),S.jsx("p",{className:"auth-subtitle",children:n==="login"?"Welcome back":"Create an account"})]}),S.jsxs("div",{className:"auth-tabs",children:[S.jsxs("button",{className:`auth-tab ${e==="email"?"active":""}`,onClick:()=>{s("email"),L("")},children:[S.jsx(b3,{size:16})," Email"]}),S.jsxs("button",{className:`auth-tab ${e==="phone"?"active":""}`,onClick:()=>{s("phone"),L("")},children:[S.jsx(I3,{size:16})," Phone"]})]}),S.jsxs("form",{className:"auth-form",onSubmit:e==="email"?ot:T?C:N,children:[e==="email"&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"email",placeholder:"Email address",value:a,onChange:I=>l(I.target.value),required:!0,className:"auth-input"})}),S.jsx("div",{className:"input-group",children:S.jsxs("div",{className:"password-wrapper",children:[S.jsx("input",{type:G?"text":"password",placeholder:"Password",value:c,onChange:I=>f(I.target.value),required:!0,className:"auth-input"}),S.jsx("button",{type:"button",className:"password-toggle",onClick:()=>B(!G),children:G?S.jsx(my,{size:18}):S.jsx(g3,{size:18})})]})})]}),e==="phone"&&S.jsx(S.Fragment,{children:T?S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"text",placeholder:"Enter 6-digit OTP",value:y,onChange:I=>_(I.target.value),className:"auth-input",maxLength:6})}):S.jsxs("div",{className:"input-group",children:[S.jsx("input",{type:"tel",placeholder:"+1 555 123 4567",value:m,onChange:I=>p(I.target.value),className:"auth-input"}),S.jsx("p",{className:"input-hint",children:"Format: +[Country Code] [Number]"})]})}),x&&S.jsx("div",{className:"auth-error",children:x}),S.jsx("button",{type:"submit",disabled:D,className:"btn btn-primary auth-submit",children:D?S.jsx(ll,{className:"animate-spin"}):S.jsxs(S.Fragment,{children:[e==="email"?n==="login"?"Sign In":"Sign Up":T?"Verify code":"Send code",S.jsx(a3,{size:16})]})})]}),S.jsx("div",{id:"recaptcha-container"}),e==="email"&&S.jsx("div",{className:"auth-footer",children:S.jsxs("p",{children:[n==="login"?"Don't have an account? ":"Already have an account? ",S.jsx("button",{className:"link-btn",onClick:()=>t(n==="login"?"signup":"login"),children:n==="login"?"Sign up":"Log in"})]})})]})}function F3(){return S.jsxs("div",{className:"app-container",children:[S.jsx("div",{className:"ambient-orb orb-1"}),S.jsx("div",{className:"ambient-orb orb-2"}),S.jsx("div",{className:"auth-page",children:S.jsx(B3,{})})]})}function H3({data:n,update:t,next:e}){function s(a){a.preventDefault(),!(n.handle.length<3)&&e()}return S.jsxs("div",{className:"step-container",children:[S.jsxs("div",{className:"step-header",children:[S.jsx("h1",{children:"Choose your handle"}),S.jsx("p",{children:"This is how you'll be known on Blindly."})]}),S.jsxs("form",{onSubmit:s,className:"ob-form",children:[S.jsxs("div",{className:"ob-input-icon-wrap",children:[S.jsx(l3,{className:"ob-input-icon",size:20}),S.jsx("input",{className:"ob-input ob-input-lg ob-input-with-icon",placeholder:"username",value:n.handle,onChange:a=>t({handle:a.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),autoFocus:!0})]}),S.jsxs("button",{type:"submit",disabled:n.handle.length<3,className:"btn btn-primary ob-btn-full",style:{justifyContent:"center",padding:"14px"},children:["Continue ",S.jsx(Lc,{size:20})]})]})]})}function q3({data:n,update:t,next:e,prev:s}){const a=new Date().getFullYear();function l(c){c.preventDefault(),!(!n.birthYear||!n.gender||!n.location.approxCity)&&e()}return S.jsxs("div",{className:"step-container",children:[S.jsxs("div",{className:"step-header",children:[S.jsx("h1",{children:"The Basics"}),S.jsx("p",{children:"Help us find your match."})]}),S.jsxs("form",{onSubmit:l,className:"ob-form",children:[S.jsxs("div",{className:"ob-field",children:[S.jsx("label",{className:"ob-label",children:"Birth Year"}),S.jsx("input",{type:"number",placeholder:"YYYY",className:"ob-input",value:n.birthYear,onChange:c=>t({birthYear:Number(c.target.value)}),min:a-100,max:a-18})]}),S.jsxs("div",{className:"ob-field",children:[S.jsx("label",{className:"ob-label",children:"City"}),S.jsx("input",{placeholder:"e.g. New York, London",className:"ob-input",value:n.location.approxCity,onChange:c=>t({location:{...n.location,approxCity:c.target.value}})})]}),S.jsxs("div",{className:"ob-field",children:[S.jsx("label",{className:"ob-label",children:"Gender"}),S.jsxs("select",{className:"ob-input ob-select",value:n.gender,onChange:c=>t({gender:c.target.value}),children:[S.jsx("option",{value:"",disabled:!0,children:"Select gender"}),S.jsx("option",{value:"male",children:"Male"}),S.jsx("option",{value:"female",children:"Female"}),S.jsx("option",{value:"non-binary",children:"Non-binary"}),S.jsx("option",{value:"other",children:"Other"})]})]}),S.jsxs("div",{className:"ob-btn-row",children:[S.jsxs("button",{type:"button",onClick:s,className:"btn btn-ghost ob-btn-back",style:{justifyContent:"center",padding:"14px"},children:[S.jsx(kc,{size:20})," Back"]}),S.jsxs("button",{type:"submit",disabled:!n.birthYear||!n.gender||!n.location.approxCity,className:"btn btn-primary ob-btn-next",style:{justifyContent:"center",padding:"14px"},children:["Continue ",S.jsx(Lc,{size:20})]})]})]})]})}function G3({data:n,update:t,next:e,prev:s}){function a(l){l.preventDefault(),n.tagline&&e()}return S.jsxs("div",{className:"step-container",children:[S.jsxs("div",{className:"step-header",children:[S.jsx("h1",{children:"Your Tagline"}),S.jsx("p",{children:"The first thing they'll read. Make it count."})]}),S.jsxs("form",{onSubmit:a,className:"ob-form",children:[S.jsxs("div",{children:[S.jsx("textarea",{maxLength:80,rows:3,className:"ob-input ob-textarea ob-input-lg",placeholder:"e.g. Aspiring chef who burns toast...",value:n.tagline,onChange:l=>t({tagline:l.target.value}),autoFocus:!0}),S.jsxs("div",{className:"ob-char-count",children:[n.tagline.length,"/80"]})]}),S.jsxs("div",{className:"ob-btn-row",children:[S.jsxs("button",{type:"button",onClick:s,className:"btn btn-ghost ob-btn-back",style:{justifyContent:"center",padding:"14px"},children:[S.jsx(kc,{size:20})," Back"]}),S.jsxs("button",{type:"submit",disabled:!n.tagline,className:"btn btn-primary ob-btn-next",style:{justifyContent:"center",padding:"14px"},children:["Continue ",S.jsx(Lc,{size:20})]})]})]})]})}const K3=["Music","Movies","Books","Gaming","Fitness","Foodie","Travel","Art","Tech","Science","Nature","Photography","Cooking","Writing","History","Philosophy","Psychology","Astrology","Spirituality","Meditation"],KS=["I believe...","My unpopular opinion...","My biggest obsession...","The truth nobody accepts...","Key to my heart...","I spend too much time...","Worst first date idea...","Best way to ask me out...","I'm looking for...","My golden rule..."];function Y3({data:n,update:t,next:e,prev:s}){const a=c=>{if(n.tags.includes(c))t({tags:n.tags.filter(f=>f!==c)});else{if(n.tags.length>=10)return;t({tags:[...n.tags,c]})}};function l(){n.tags.length<3||e()}return S.jsxs("div",{className:"step-container-full",children:[S.jsxs("div",{className:"step-header",children:[S.jsx("h1",{children:"Interests"}),S.jsx("p",{children:"Pick at least 3 things you love."})]}),S.jsx("div",{className:"tags-scroll",children:S.jsx("div",{className:"tags-grid",children:K3.map(c=>S.jsx("button",{onClick:()=>a(c),className:`tag-chip ${n.tags.includes(c)?"selected":""}`,children:c},c))})}),S.jsxs("div",{className:"tags-footer",children:[S.jsxs("div",{className:"tags-counter",children:[S.jsxs("span",{children:["Selected: ",n.tags.length]}),n.tags.length<3&&S.jsxs("span",{children:["Select ",3-n.tags.length," more"]})]}),S.jsxs("div",{className:"ob-btn-row",children:[S.jsxs("button",{type:"button",onClick:s,className:"btn btn-ghost ob-btn-back",style:{justifyContent:"center",padding:"14px"},children:[S.jsx(kc,{size:20})," Back"]}),S.jsxs("button",{type:"button",onClick:l,disabled:n.tags.length<3,className:"btn btn-primary ob-btn-next",style:{justifyContent:"center",padding:"14px"},children:["Continue ",S.jsx(Lc,{size:20})]})]})]})]})}function $3({data:n,update:t,next:e,prev:s}){const[a,l]=V.useState(null),c=()=>{if(n.prompts.length>=4)return;const y=n.prompts.map(w=>w.question),_=KS.filter(w=>!y.includes(w));if(_.length===0)return;const T={id:Date.now().toString(),question:_[0],answer:""};t({prompts:[...n.prompts,T]}),l(n.prompts.length)},f=(y,_,T)=>{const w=[...n.prompts];w[y]={...w[y],[_]:T},t({prompts:w})},m=y=>{t({prompts:n.prompts.filter((_,T)=>T!==y)}),l(null)},p=n.prompts.length>=3&&n.prompts.every(y=>y.answer.trim().length>0);return S.jsxs("div",{className:"step-container-full",children:[S.jsxs("div",{className:"step-header",children:[S.jsx("h1",{children:"Profile Prompts"}),S.jsx("p",{children:"Answer at least 3 prompts. Be specific."})]}),S.jsxs("div",{className:"prompts-scroll",children:[n.prompts.map((y,_)=>S.jsxs("div",{className:"prompt-card",children:[S.jsxs("div",{className:"prompt-card-header",children:[S.jsx("select",{className:"prompt-select",value:y.question,onChange:T=>f(_,"question",T.target.value),children:KS.map(T=>S.jsx("option",{value:T,children:T},T))}),S.jsx("button",{onClick:()=>m(_),className:"prompt-remove-btn",children:S.jsx(Jv,{size:16})})]}),S.jsx("textarea",{className:"prompt-textarea",placeholder:"Your answer...",rows:2,value:y.answer,onChange:T=>f(_,"answer",T.target.value),autoFocus:a===_})]},y.id)),n.prompts.length<4&&S.jsxs("button",{onClick:c,className:"add-prompt-btn",children:[S.jsx(D3,{size:20})," Add Prompt"]})]}),S.jsxs("div",{className:"ob-btn-row",children:[S.jsxs("button",{type:"button",onClick:s,className:"btn btn-ghost ob-btn-back",style:{justifyContent:"center",padding:"14px"},children:[S.jsx(kc,{size:20})," Back"]}),S.jsxs("button",{type:"button",onClick:()=>p&&e(),disabled:!p,className:"btn btn-primary ob-btn-next",style:{justifyContent:"center",padding:"14px"},children:["Continue ",S.jsx(Lc,{size:20})]})]})]})}function Q3({data:n,prev:t}){const[e,s]=V.useState(!1),a=Ga();async function l(){if(ai.currentUser){s(!0);try{const c=ai.currentUser.uid;await Xv(Bi(Dn,"users",c),{...n,onboardingCompleted:!0,updatedAt:fc()},{merge:!0}),a("/app",{replace:!0})}catch(c){console.error("Error saving profile:",c),alert("Save failed: "+(c.code||c.message||"Unknown error"))}finally{s(!1)}}}return S.jsxs("div",{className:"step-container-full",children:[S.jsxs("div",{className:"step-header",children:[S.jsx("h1",{children:"Ready to join?"}),S.jsx("p",{children:"Review your profile card."})]}),S.jsx("div",{className:"review-scroll",children:S.jsxs("div",{className:"review-card",children:[S.jsxs("div",{className:"review-identity",children:[S.jsxs("div",{className:"review-handle",children:["@",n.handle]}),S.jsxs("div",{className:"review-meta",children:[n.gender,"  ",2026-n.birthYear,"  ",n.location.approxCity]})]}),S.jsxs("div",{className:"review-tagline",children:['"',n.tagline,'"']}),S.jsx("div",{className:"review-tags",children:n.tags.map(c=>S.jsx("span",{className:"review-tag",children:c},c))}),S.jsx("div",{className:"review-prompts",children:n.prompts.map(c=>S.jsxs("div",{children:[S.jsx("div",{className:"review-prompt-q",children:c.question}),S.jsx("div",{className:"review-prompt-a",children:c.answer})]},c.id))})]})}),S.jsxs("div",{className:"ob-btn-row",children:[S.jsxs("button",{type:"button",onClick:t,className:"btn btn-ghost ob-btn-back",style:{justifyContent:"center",padding:"14px"},disabled:e,children:[S.jsx(kc,{size:20})," Back"]}),S.jsx("button",{type:"button",onClick:l,disabled:e,className:"btn btn-primary ob-btn-next",style:{justifyContent:"center",padding:"14px"},children:e?S.jsx(ll,{className:"animate-spin"}):S.jsxs(S.Fragment,{children:[S.jsx(h3,{size:20})," Finish"]})})]})]})}function X3(){const n=Ga(),[t,e]=V.useState(0),[s,a]=V.useState({handle:"",birthYear:"",gender:"",location:{countryCode:"IN",approxCity:""},tagline:"",tags:[],prompts:[]});function l(){e(_=>_+1)}function c(){e(_=>_-1)}function f(_){a(T=>({...T,..._}))}function m(){t===0?confirm("Cancel profile setup?")&&n("/"):c()}const p=[S.jsx(H3,{data:s,update:f,next:l},"handle"),S.jsx(q3,{data:s,update:f,next:l,prev:c},"basic"),S.jsx(G3,{data:s,update:f,next:l,prev:c},"tagline"),S.jsx(Y3,{data:s,update:f,next:l,prev:c},"tags"),S.jsx($3,{data:s,update:f,next:l,prev:c},"prompts"),S.jsx(Q3,{data:s,prev:c},"review")],y=(t+1)/p.length*100;return S.jsxs("div",{className:"onboarding-shell",children:[S.jsxs("div",{className:"onboarding-bg",children:[S.jsx("div",{className:"ambient-orb orb-1",style:{opacity:.5}}),S.jsx("div",{className:"ambient-orb orb-2",style:{opacity:.3}})]}),S.jsxs("header",{className:"onboarding-header",children:[S.jsxs("div",{className:"onboarding-header-row",children:[S.jsx("button",{onClick:m,className:"onboarding-back-btn",title:"Back",children:t===0?S.jsx(s3,{size:22}):S.jsx("div",{className:"onboarding-spacer"})}),S.jsxs("div",{className:"onboarding-step-label",children:[S.jsx(jc,{size:14}),S.jsxs("span",{children:["Step ",t+1," of ",p.length]})]}),S.jsx("div",{className:"onboarding-spacer"})]}),S.jsx("div",{className:"progress-track",children:S.jsx("div",{className:"progress-fill",style:{width:`${y}%`}})})]}),S.jsx("main",{className:"onboarding-main",children:p[t]})]})}const t_=V.createContext({});function Ha(n){const t=V.useRef(null);return t.current===null&&(t.current=n()),t.current}const fC=typeof window<"u",e_=fC?V.useLayoutEffect:V.useEffect,Xd=V.createContext(null);function n_(n,t){n.indexOf(t)===-1&&n.push(t)}function vd(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Qi=(n,t,e)=>e>t?t:e<n?n:e;let i_=()=>{};const Ms={},dC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function mC(n){return typeof n=="object"&&n!==null}const pC=n=>/^0[^.\s]+$/u.test(n);function gC(n){let t;return()=>(t===void 0&&(t=n()),t)}const li=n=>n,W3=(n,t)=>e=>t(n(e)),Uc=(...n)=>n.reduce(W3),dc=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class s_{constructor(){this.subscriptions=[]}add(t){return n_(this.subscriptions,t),()=>vd(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ti=n=>n*1e3,oi=n=>n/1e3;function yC(n,t){return t?n*(1e3/t):0}const vC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,Z3=1e-7,J3=12;function t6(n,t,e,s,a){let l,c,f=0;do c=t+(e-t)/2,l=vC(c,s,a)-n,l>0?e=c:t=c;while(Math.abs(l)>Z3&&++f<J3);return c}function zc(n,t,e,s){if(n===t&&e===s)return li;const a=l=>t6(l,0,1,n,e);return l=>l===0||l===1?l:vC(a(l),t,s)}const _C=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,TC=n=>t=>1-n(1-t),EC=zc(.33,1.53,.69,.99),r_=TC(EC),bC=_C(r_),SC=n=>(n*=2)<1?.5*r_(n):.5*(2-Math.pow(2,-10*(n-1))),a_=n=>1-Math.sin(Math.acos(n)),AC=TC(a_),wC=_C(a_),e6=zc(.42,0,1,1),n6=zc(0,0,.58,1),RC=zc(.42,0,.58,1),i6=n=>Array.isArray(n)&&typeof n[0]!="number",CC=n=>Array.isArray(n)&&typeof n[0]=="number",s6={linear:li,easeIn:e6,easeInOut:RC,easeOut:n6,circIn:a_,circInOut:wC,circOut:AC,backIn:r_,backInOut:bC,backOut:EC,anticipate:SC},r6=n=>typeof n=="string",YS=n=>{if(CC(n)){i_(n.length===4);const[t,e,s,a]=n;return zc(t,e,s,a)}else if(r6(n))return s6[n];return n},wf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function a6(n,t){let e=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),n()),y(f)}const p={schedule:(y,_=!1,T=!1)=>{const D=T&&a?e:s;return _&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[e,s]=[s,e],e.forEach(m),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const o6=40;function IC(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=wf.reduce((B,tt)=>(B[tt]=a6(l),B),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:T,render:w,postRender:D}=c,k=()=>{const B=Ms.useManualTiming?a.timestamp:performance.now();e=!1,Ms.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,o6),1)),a.timestamp=B,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),T.process(a),w.process(a),D.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(k))},x=()=>{e=!0,s=!0,a.isProcessing||n(k)};return{schedule:wf.reduce((B,tt)=>{const st=c[tt];return B[tt]=(ot,N=!1,C=!1)=>(e||x(),st.schedule(ot,N,C)),B},{}),cancel:B=>{for(let tt=0;tt<wf.length;tt++)c[wf[tt]].cancel(B)},state:a,steps:c}}const{schedule:ee,cancel:Os,state:tn,steps:wg}=IC(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0);let Bf;function l6(){Bf=void 0}const Tn={now:()=>(Bf===void 0&&Tn.set(tn.isProcessing||Ms.useManualTiming?tn.timestamp:performance.now()),Bf),set:n=>{Bf=n,queueMicrotask(l6)}},xC=n=>t=>typeof t=="string"&&t.startsWith(n),DC=xC("--"),u6=xC("var(--"),o_=n=>u6(n)?c6.test(n.split("/*")[0].trim()):!1,c6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function $S(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const El={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},mc={...El,transform:n=>Qi(0,1,n)},Rf={...El,default:1},Qu=n=>Math.round(n*1e5)/1e5,l_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function h6(n){return n==null}const f6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,u_=(n,t)=>e=>!!(typeof e=="string"&&f6.test(e)&&e.startsWith(n)||t&&!h6(e)&&Object.prototype.hasOwnProperty.call(e,t)),NC=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(l_);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},d6=n=>Qi(0,255,n),Rg={...El,transform:n=>Math.round(d6(n))},Ma={test:u_("rgb","red"),parse:NC("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+Rg.transform(n)+", "+Rg.transform(t)+", "+Rg.transform(e)+", "+Qu(mc.transform(s))+")"};function m6(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const py={test:u_("#"),parse:m6,transform:Ma.transform},Bc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Rr=Bc("deg"),Yi=Bc("%"),gt=Bc("px"),p6=Bc("vh"),g6=Bc("vw"),QS={...Yi,parse:n=>Yi.parse(n)/100,transform:n=>Yi.transform(n*100)},Go={test:u_("hsl","hue"),parse:NC("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Yi.transform(Qu(t))+", "+Yi.transform(Qu(e))+", "+Qu(mc.transform(s))+")"},Ne={test:n=>Ma.test(n)||py.test(n)||Go.test(n),parse:n=>Ma.test(n)?Ma.parse(n):Go.test(n)?Go.parse(n):py.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ma.transform(n):Go.transform(n),getAnimatableNone:n=>{const t=Ne.parse(n);return t.alpha=0,Ne.transform(t)}},y6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function v6(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(l_))==null?void 0:t.length)||0)+(((e=n.match(y6))==null?void 0:e.length)||0)>0}const VC="number",MC="color",_6="var",T6="var(",XS="${}",E6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(E6,m=>(Ne.test(m)?(s.color.push(l),a.push(MC),e.push(Ne.parse(m))):m.startsWith(T6)?(s.var.push(l),a.push(_6),e.push(m)):(s.number.push(l),a.push(VC),e.push(parseFloat(m))),++l,XS)).split(XS);return{values:e,split:f,indexes:s,types:a}}function OC(n){return pc(n).values}function PC(n){const{split:t,types:e}=pc(n),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const f=e[c];f===VC?l+=Qu(a[c]):f===MC?l+=Ne.transform(a[c]):l+=a[c]}return l}}const b6=n=>typeof n=="number"?0:Ne.test(n)?Ne.getAnimatableNone(n):n;function S6(n){const t=OC(n);return PC(n)(t.map(b6))}const Ei={test:v6,parse:OC,createTransformer:PC,getAnimatableNone:S6};function Cg(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function A6({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,l=0,c=0;if(!t)a=l=c=e;else{const f=e<.5?e*(1+t):e+t-e*t,m=2*e-f;a=Cg(m,f,n+1/3),l=Cg(m,f,n),c=Cg(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function _d(n,t){return e=>e>0?t:n}const ce=(n,t,e)=>n+(t-n)*e,Ig=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},w6=[py,Ma,Go],R6=n=>w6.find(t=>t.test(n));function WS(n){const t=R6(n);if(!t)return!1;let e=t.parse(n);return t===Go&&(e=A6(e)),e}const ZS=(n,t)=>{const e=WS(n),s=WS(t);if(!e||!s)return _d(n,t);const a={...e};return l=>(a.red=Ig(e.red,s.red,l),a.green=Ig(e.green,s.green,l),a.blue=Ig(e.blue,s.blue,l),a.alpha=ce(e.alpha,s.alpha,l),Ma.transform(a))},gy=new Set(["none","hidden"]);function C6(n,t){return gy.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function I6(n,t){return e=>ce(n,t,e)}function c_(n){return typeof n=="number"?I6:typeof n=="string"?o_(n)?_d:Ne.test(n)?ZS:N6:Array.isArray(n)?kC:typeof n=="object"?Ne.test(n)?ZS:x6:_d}function kC(n,t){const e=[...n],s=e.length,a=n.map((l,c)=>c_(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)e[c]=a[c](l);return e}}function x6(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=c_(n[a])(n[a],t[a]));return a=>{for(const l in s)e[l]=s[l](a);return e}}function D6(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=n.indexes[l][s[l]],f=n.values[c]??0;e[a]=f,s[l]++}return e}const N6=(n,t)=>{const e=Ei.createTransformer(t),s=pc(n),a=pc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?gy.has(n)&&!a.values.length||gy.has(t)&&!s.values.length?C6(n,t):Uc(kC(D6(s,a),a.values),e):_d(n,t)};function LC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ce(n,t,e):c_(n)(n,t)}const V6=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ee.update(t,e),stop:()=>Os(t),now:()=>tn.isProcessing?tn.timestamp:Tn.now()}},jC=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Td=2e4;function h_(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<Td;)t+=e,s=n.next(t);return t>=Td?1/0:t}function M6(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(h_(s),Td);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:oi(a)}}const O6=5;function UC(n,t,e){const s=Math.max(t-O6,0);return yC(e-n(s),t-s)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xg=.001;function P6({duration:n=ve.duration,bounce:t=ve.bounce,velocity:e=ve.velocity,mass:s=ve.mass}){let a,l,c=1-t;c=Qi(ve.minDamping,ve.maxDamping,c),n=Qi(ve.minDuration,ve.maxDuration,oi(n)),c<1?(a=p=>{const y=p*c,_=y*n,T=y-e,w=yy(p,c),D=Math.exp(-_);return xg-T/w*D},l=p=>{const _=p*c*n,T=_*e+e,w=Math.pow(c,2)*Math.pow(p,2)*n,D=Math.exp(-_),k=yy(Math.pow(p,2),c);return(-a(p)+xg>0?-1:1)*((T-w)*D)/k}):(a=p=>{const y=Math.exp(-p*n),_=(p-e)*n+1;return-xg+y*_},l=p=>{const y=Math.exp(-p*n),_=(e-p)*(n*n);return y*_});const f=5/n,m=L6(a,l,f);if(n=Ti(n),isNaN(m))return{stiffness:ve.stiffness,damping:ve.damping,duration:n};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:n}}}const k6=12;function L6(n,t,e){let s=e;for(let a=1;a<k6;a++)s=s-n(s)/t(s);return s}function yy(n,t){return n*Math.sqrt(1-t*t)}const j6=["duration","bounce"],U6=["stiffness","damping","mass"];function JS(n,t){return t.some(e=>n[e]!==void 0)}function z6(n){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...n};if(!JS(n,U6)&&JS(n,j6))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,l=2*Qi(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const e=P6(n);t={...t,...e,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function Ed(n=ve.visualDuration,t=ve.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:T,isResolvedFromDuration:w}=z6({...e,velocity:-oi(e.velocity||0)}),D=T||0,k=p/(2*Math.sqrt(m*y)),x=c-l,L=oi(Math.sqrt(m/y)),G=Math.abs(x)<5;s||(s=G?ve.restSpeed.granular:ve.restSpeed.default),a||(a=G?ve.restDelta.granular:ve.restDelta.default);let B;if(k<1){const st=yy(L,k);B=ot=>{const N=Math.exp(-k*L*ot);return c-N*((D+k*L*x)/st*Math.sin(st*ot)+x*Math.cos(st*ot))}}else if(k===1)B=st=>c-Math.exp(-L*st)*(x+(D+L*x)*st);else{const st=L*Math.sqrt(k*k-1);B=ot=>{const N=Math.exp(-k*L*ot),C=Math.min(st*ot,300);return c-N*((D+k*L*x)*Math.sinh(C)+st*x*Math.cosh(C))/st}}const tt={calculatedDuration:w&&_||null,next:st=>{const ot=B(st);if(w)f.done=st>=_;else{let N=st===0?D:0;k<1&&(N=st===0?Ti(D):UC(B,st,ot));const C=Math.abs(N)<=s,I=Math.abs(c-ot)<=a;f.done=C&&I}return f.value=f.done?c:ot,f},toString:()=>{const st=Math.min(h_(tt),Td),ot=jC(N=>tt.next(st*N).value,st,30);return st+"ms "+ot},toTransition:()=>{}};return tt}Ed.applyToOptions=n=>{const t=M6(n,100,Ed);return n.ease=t.ease,n.duration=Ti(t.duration),n.type="keyframes",n};function vy({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=n[0],T={done:!1,value:_},w=C=>f!==void 0&&C<f||m!==void 0&&C>m,D=C=>f===void 0?m:m===void 0||Math.abs(f-C)<Math.abs(m-C)?f:m;let k=e*t;const x=_+k,L=c===void 0?x:c(x);L!==x&&(k=L-_);const G=C=>-k*Math.exp(-C/s),B=C=>L+G(C),tt=C=>{const I=G(C),M=B(C);T.done=Math.abs(I)<=p,T.value=T.done?L:M};let st,ot;const N=C=>{w(T.value)&&(st=C,ot=Ed({keyframes:[T.value,D(T.value)],velocity:UC(B,C,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:C=>{let I=!1;return!ot&&st===void 0&&(I=!0,tt(C),N(C)),st!==void 0&&C>=st?ot.next(C-st):(!I&&tt(C),T)}}}function B6(n,t,e){const s=[],a=e||Ms.mix||LC,l=n.length-1;for(let c=0;c<l;c++){let f=a(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||li:t;f=Uc(m,f)}s.push(f)}return s}function zC(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const l=n.length;if(i_(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=B6(t,s,a),m=f.length,p=y=>{if(c&&y<n[0])return t[0];let _=0;if(m>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const T=dc(n[_],n[_+1],y);return f[_](T)};return e?y=>p(Qi(n[0],n[l-1],y)):p}function F6(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=dc(0,t,s);n.push(ce(e,1,a))}}function H6(n){const t=[0];return F6(t,n.length-1),t}function q6(n,t){return n.map(e=>e*t)}function G6(n,t){return n.map(()=>t||RC).splice(0,n.length-1)}function Xu({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=i6(s)?s.map(YS):YS(s),l={done:!1,value:t[0]},c=q6(e&&e.length===t.length?e:H6(t),n),f=zC(c,t,{ease:Array.isArray(a)?a:G6(t,a)});return{calculatedDuration:n,next:m=>(l.value=f(m),l.done=m>=n,l)}}const K6=n=>n!==null;function f_(n,{repeat:t,repeatType:e="loop"},s,a=1){const l=n.filter(K6),f=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const Y6={decay:vy,inertia:vy,tween:Xu,keyframes:Xu,spring:Ed};function BC(n){typeof n.type=="string"&&(n.type=Y6[n.type])}class d_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const $6=n=>n/100;class m_ extends d_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:e}=this.options;e&&e.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;BC(t);const{type:e=Xu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=e||Xu;m!==Xu&&typeof f[0]!="number"&&(this.mixKeyframes=Uc($6,LC(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=h_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:w,type:D,onUpdate:k,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,tt=s;if(_){const C=Math.min(this.currentTime,a)/f;let I=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(T==="reverse"?(M=1-M,w&&(M-=w/f)):T==="mirror"&&(tt=c)),B=Qi(0,1,M)*f}const st=G?{done:!1,value:y[0]}:tt.next(B);l&&(st.value=l(st.value));let{done:ot}=st;!G&&m!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return N&&D!==vy&&(st.value=f_(y,this.options,x,this.speed)),k&&k(st.value),N&&this.finish(),st}then(t,e){return this.finished.then(t,e)}get duration(){return oi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(this.currentTime)}set time(t){var e;t=Ti(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(e=this.driver)==null||e.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=oi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=V6,startTime:e}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=e??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,e;this.notifyFinished(),this.teardown(),this.state="finished",(e=(t=this.options).onComplete)==null||e.call(t)}cancel(){var t,e;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(e=(t=this.options).onCancel)==null||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var e;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(e=this.driver)==null||e.stop(),t.observe(this)}}function Q6(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Oa=n=>n*180/Math.PI,_y=n=>{const t=Oa(Math.atan2(n[1],n[0]));return Ty(t)},X6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:_y,rotateZ:_y,skewX:n=>Oa(Math.atan(n[1])),skewY:n=>Oa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ty=n=>(n=n%360,n<0&&(n+=360),n),tA=_y,eA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),nA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),W6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:eA,scaleY:nA,scale:n=>(eA(n)+nA(n))/2,rotateX:n=>Ty(Oa(Math.atan2(n[6],n[5]))),rotateY:n=>Ty(Oa(Math.atan2(-n[2],n[0]))),rotateZ:tA,rotate:tA,skewX:n=>Oa(Math.atan(n[4])),skewY:n=>Oa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Ey(n){return n.includes("scale")?1:0}function by(n,t){if(!n||n==="none")return Ey(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=W6,a=e;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=X6,a=f}if(!a)return Ey(t);const l=s[t],c=a[1].split(",").map(J6);return typeof l=="function"?l(c):c[l]}const Z6=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return by(e,t)};function J6(n){return parseFloat(n.trim())}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(bl),iA=n=>n===El||n===gt,tj=new Set(["x","y","z"]),ej=bl.filter(n=>!tj.has(n));function nj(n){const t=[];return ej.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Mr={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>by(t,"x"),y:(n,{transform:t})=>by(t,"y")};Mr.translateX=Mr.x;Mr.translateY=Mr.y;const ka=new Set;let Sy=!1,Ay=!1,wy=!1;function FC(){if(Ay){const n=Array.from(ka).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=nj(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ay=!1,Sy=!1,ka.forEach(n=>n.complete(wy)),ka.clear()}function HC(){ka.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ay=!0)})}function ij(){wy=!0,HC(),FC(),wy=!1}class p_{constructor(t,e,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ka.add(this),Sy||(Sy=!0,ee.read(HC),ee.resolveKeyframes(FC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&e){const f=s.readValue(e,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}Q6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ka.delete(this)}cancel(){this.state==="scheduled"&&(ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sj=n=>n.startsWith("--");function rj(n,t,e){sj(t)?n.style.setProperty(t,e):n.style[t]=e}const aj={};function qC(n,t){const e=gC(n);return()=>aj[t]??e()}const oj=qC(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),GC=qC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lu=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,sA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lu([0,.65,.55,1]),circOut:Lu([.55,0,1,.45]),backIn:Lu([.31,.01,.66,-.59]),backOut:Lu([.33,1.53,.69,.99])};function KC(n,t){if(n)return typeof n=="function"?GC()?jC(n,t):"ease-out":CC(n)?Lu(n):Array.isArray(n)?n.map(e=>KC(e,t)||sA.easeOut):sA[n]}function lj(n,t,e,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:e};m&&(y.offset=m);const _=KC(f,a);Array.isArray(_)&&(y.easing=_);const T={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),n.animate(y,T)}function YC(n){return typeof n=="function"&&"applyToOptions"in n}function uj({type:n,...t}){return YC(n)&&GC()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $C extends d_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,i_(typeof t.type!="string");const p=uj(t);this.animation=lj(e,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=f_(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):rj(e,s,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,e;(e=(t=this.animation).finish)==null||e.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s,a;const t=(e=this.options)==null?void 0:e.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((a=(s=this.animation).commitStyles)==null||a.call(s))}get duration(){var e,s;const t=((s=(e=this.animation.effect)==null?void 0:e.getComputedTiming)==null?void 0:s.call(e).duration)||0;return oi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+oi(t)}get time(){return oi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ti(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&oj()?(this.animation.timeline=t,li):e(this)}}const QC={anticipate:SC,backInOut:bC,circInOut:wC};function cj(n){return n in QC}function hj(n){typeof n.ease=="string"&&cj(n.ease)&&(n.ease=QC[n.ease])}const Dg=10;class fj extends $C{constructor(t){hj(t),BC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const f=new m_({...c,autoplay:!1}),m=Math.max(Dg,Tn.now()-this.startTime),p=Qi(0,Dg,m-Dg);e.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const rA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ei.test(n)||n==="0")&&!n.startsWith("url("));function dj(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function mj(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],c=rA(a,t),f=rA(l,t);return!c||!f?!1:dj(n)||(e==="spring"||YC(e))&&s}function Ry(n){n.duration=0,n.type="keyframes"}const pj=new Set(["opacity","clipPath","filter","transform"]),gj=gC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yj(n){var y;const{motionValue:t,name:e,repeatDelay:s,repeatType:a,damping:l,type:c}=n;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return gj()&&e&&pj.has(e)&&(e!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const vj=40;class _j extends d_{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var D;super(),this.stop=()=>{var k,x;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Tn.now();const T={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},w=(y==null?void 0:y.KeyframeResolver)||p_;this.keyframeResolver=new w(f,(k,x,L)=>this.onKeyframesResolved(k,x,T,!L),m,p,y),(D=this.keyframeResolver)==null||D.scheduleResolve()}onKeyframesResolved(t,e,s,a){var x,L;this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Tn.now(),mj(t,l,c,f)||((Ms.instantAnimations||!m)&&(y==null||y(f_(t,s,e))),t[0]=t[t.length-1],Ry(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>vj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...s,keyframes:t},w=!p&&yj(T),D=(L=(x=T.motionValue)==null?void 0:x.owner)==null?void 0:L.current,k=w?new fj({...T,element:D}):new m_(T);k.finished.then(()=>{this.notifyFinished()}).catch(li),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),ij()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function XC(n,t,e,s=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=n.size,f=(c-1)*s;return typeof e=="function"?e(l,c):a===1?l*s:f-l*s}const Tj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ej(n){const t=Tj.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function WC(n,t,e=1){const[s,a]=Ej(n);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return dC(c)?parseFloat(c):c}return o_(a)?WC(a,t,e+1):a}const bj={type:"spring",stiffness:500,damping:25,restSpeed:10},Sj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Aj={type:"keyframes",duration:.8},wj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rj=(n,{keyframes:t})=>t.length>2?Aj:Sl.has(n)?n.startsWith("scale")?Sj(t[1]):bj:wj,Cj=n=>n!==null;function Ij(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(Cj),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function ZC(n,t){if(n!=null&&n.inherit&&t){const{inherit:e,...s}=n;return{...t,...s}}return n}function g_(n,t){const e=(n==null?void 0:n[t])??(n==null?void 0:n.default)??n;return e!==n?ZC(e,n):e}function xj({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const y_=(n,t,e,s={},a,l)=>c=>{const f=g_(s,n)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Ti(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:T=>{t.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:l?void 0:a};xj(f)||Object.assign(y,Rj(n,y)),y.duration&&(y.duration=Ti(y.duration)),y.repeatDelay&&(y.repeatDelay=Ti(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ry(y),y.delay===0&&(_=!0)),(Ms.instantAnimations||Ms.skipAnimations||a!=null&&a.shouldSkipAnimations)&&(_=!0,Ry(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const T=Ij(y.keyframes,f);if(T!==void 0){ee.update(()=>{y.onUpdate(T),y.onComplete()});return}}return f.isSync?new m_(y):new _j(y)};function aA(n){const t=[{},{}];return n==null||n.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function v_(n,t,e,s){if(typeof t=="function"){const[a,l]=aA(s);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=aA(s);t=t(e!==void 0?e:n.custom,a,l)}return t}function el(n,t,e){const s=n.getProps();return v_(s,t,e!==void 0?e:s.custom,n)}const JC=new Set(["width","height","top","left","right","bottom",...bl]),oA=30,Dj=n=>!isNaN(parseFloat(n)),Wu={current:void 0};class Nj{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Dj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new s_);const s=this.events[t].add(e);return t==="change"?()=>{s(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Wu.current&&Wu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,oA);return yC(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,e;(t=this.dependents)==null||t.clear(),(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(n,t){return new Nj(n,t)}const Cy=n=>Array.isArray(n);function Vj(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,qa(e))}function Mj(n){return Cy(n)?n[n.length-1]||0:n}function Oj(n,t){const e=el(n,t);let{transitionEnd:s={},transition:a={},...l}=e||{};l={...l,...s};for(const c in l){const f=Mj(l[c]);Vj(n,c,f)}}const hn=n=>!!(n&&n.getVelocity);function Pj(n){return!!(hn(n)&&n.add)}function Iy(n,t){const e=n.getValue("willChange");if(Pj(e))return e.add(t);if(!e&&Ms.WillChange){const s=new Ms.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function __(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const kj="framerAppearId",tI="data-"+__(kj);function eI(n){return n.props[tI]}function Lj({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function nI(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...f}=t;const m=n.getDefaultTransition();l=l?ZC(l,m):m;const p=l==null?void 0:l.reduceMotion;s&&(l=s);const y=[],_=a&&n.animationState&&n.animationState.getState()[a];for(const T in f){const w=n.getValue(T,n.latestValues[T]??null),D=f[T];if(D===void 0||_&&Lj(_,T))continue;const k={delay:e,...g_(l||{},T)},x=w.get();if(x!==void 0&&!w.isAnimating&&!Array.isArray(D)&&D===x&&!k.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const tt=eI(n);if(tt){const st=window.MotionHandoffAnimation(tt,T,ee);st!==null&&(k.startTime=st,L=!0)}}Iy(n,T);const G=p??n.shouldReduceMotion;w.start(y_(T,w,D,G&&JC.has(T)?{type:!1}:k,n,L));const B=w.animation;B&&y.push(B)}if(c){const T=()=>ee.update(()=>{c&&Oj(n,c)});y.length?Promise.all(y).then(T):T()}return y}function xy(n,t,e={}){var m;const s=el(n,t,e.type==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const l=s?()=>Promise.all(nI(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:T}=a;return jj(n,t,p,y,_,T,e)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(e.delay)])}function jj(n,t,e=0,s=0,a=0,l=1,c){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(xy(m,t,{...c,delay:e+(typeof s=="function"?0:s)+XC(n.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function Uj(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>xy(n,l,e));s=Promise.all(a)}else if(typeof t=="string")s=xy(n,t,e);else{const a=typeof t=="function"?el(n,t,e.custom):t;s=Promise.all(nI(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}const zj={test:n=>n==="auto",parse:n=>n},iI=n=>t=>t.test(n),sI=[El,gt,Yi,Rr,g6,p6,zj],lA=n=>sI.find(iI(n));function Bj(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||pC(n):!0}const Fj=new Set(["brightness","contrast","saturate","opacity"]);function Hj(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(l_)||[];if(!s)return n;const a=e.replace(s,"");let l=Fj.has(t)?1:0;return s!==e&&(l*=100),t+"("+l+a+")"}const qj=/\b([a-z-]*)\(.*?\)/gu,Dy={...Ei,getAnimatableNone:n=>{const t=n.match(qj);return t?t.map(Hj).join(" "):n}},Ny={...Ei,getAnimatableNone:n=>{const t=Ei.parse(n);return Ei.createTransformer(n)(t.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},uA={...El,transform:Math.round},Gj={rotate:Rr,rotateX:Rr,rotateY:Rr,rotateZ:Rr,scale:Rf,scaleX:Rf,scaleY:Rf,scaleZ:Rf,skew:Rr,skewX:Rr,skewY:Rr,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:mc,originX:QS,originY:QS,originZ:gt},T_={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,inset:gt,insetBlock:gt,insetBlockStart:gt,insetBlockEnd:gt,insetInline:gt,insetInlineStart:gt,insetInlineEnd:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,paddingBlock:gt,paddingBlockStart:gt,paddingBlockEnd:gt,paddingInline:gt,paddingInlineStart:gt,paddingInlineEnd:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,marginBlock:gt,marginBlockStart:gt,marginBlockEnd:gt,marginInline:gt,marginInlineStart:gt,marginInlineEnd:gt,fontSize:gt,backgroundPositionX:gt,backgroundPositionY:gt,...Gj,zIndex:uA,fillOpacity:mc,strokeOpacity:mc,numOctaves:uA},Kj={...T_,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Dy,WebkitFilter:Dy,mask:Ny,WebkitMask:Ny},rI=n=>Kj[n],Yj=new Set([Dy,Ny]);function aI(n,t){let e=rI(n);return Yj.has(e)||(e=Ei),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const $j=new Set(["auto","none","0"]);function Qj(n,t,e){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!$j.has(l)&&pc(l).values.length&&(a=n[s]),s++}if(a&&e)for(const l of t)n[l]=aI(e,a)}class Xj extends p_{constructor(t,e,s,a,l){super(t,e,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),o_(_))){const T=WC(_,e.current);T!==void 0&&(t[y]=T),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!JC.has(s)||t.length!==2)return;const[a,l]=t,c=lA(a),f=lA(l),m=$S(a),p=$S(l);if(m!==p&&Mr[s]){this.needsMeasurement=!0;return}if(c!==f)if(iA(c)&&iA(f))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else Mr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||Bj(t[a]))&&s.push(a);s.length&&Qj(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Mr[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const Wj=new Set(["opacity","clipPath","filter","transform"]);function oI(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(e==null?void 0:e[n])??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const lI=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Vy(n){return mC(n)&&"offsetHeight"in n}const{schedule:E_}=IC(queueMicrotask,!1),vi={x:!1,y:!1};function uI(){return vi.x||vi.y}function Zj(n){return n==="x"||n==="y"?vi[n]?null:(vi[n]=!0,()=>{vi[n]=!1}):vi.x||vi.y?null:(vi.x=vi.y=!0,()=>{vi.x=vi.y=!1})}function cI(n,t){const e=oI(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function Jj(n){return!(n.pointerType==="touch"||uI())}function tU(n,t,e={}){const[s,a,l]=cI(n,e);return s.forEach(c=>{let f=!1,m=!1,p;const y=()=>{c.removeEventListener("pointerleave",D)},_=x=>{p&&(p(x),p=void 0),y()},T=x=>{f=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),m&&(m=!1,_(x))},w=()=>{f=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},D=x=>{if(x.pointerType!=="touch"){if(f){m=!0;return}_(x)}},k=x=>{if(!Jj(x))return;m=!1;const L=t(c,x);typeof L=="function"&&(p=L,c.addEventListener("pointerleave",D,a))};c.addEventListener("pointerenter",k,a),c.addEventListener("pointerdown",w,a)}),l}const hI=(n,t)=>t?n===t?!0:hI(n,t.parentElement):!1,b_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,eU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nU(n){return eU.has(n.tagName)||n.isContentEditable===!0}const iU=new Set(["INPUT","SELECT","TEXTAREA"]);function sU(n){return iU.has(n.tagName)||n.isContentEditable===!0}const Ff=new WeakSet;function cA(n){return t=>{t.key==="Enter"&&n(t)}}function Ng(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rU=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=cA(()=>{if(Ff.has(e))return;Ng(e,"down");const a=cA(()=>{Ng(e,"up")}),l=()=>Ng(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function hA(n){return b_(n)&&!uI()}const fA=new WeakSet;function aU(n,t,e={}){const[s,a,l]=cI(n,e),c=f=>{const m=f.currentTarget;if(!hA(f)||fA.has(f))return;Ff.add(m),e.stopPropagation&&fA.add(f);const p=t(m,f),y=(w,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),Ff.has(m)&&Ff.delete(m),hA(w)&&typeof p=="function"&&p(w,{success:D})},_=w=>{y(w,m===window||m===document||e.useGlobalTarget||hI(m,w.target))},T=w=>{y(w,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return s.forEach(f=>{(e.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),Vy(f)&&(f.addEventListener("focus",p=>rU(p,a)),!nU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function S_(n){return mC(n)&&"ownerSVGElement"in n}const Hf=new WeakMap;let Cr;const fI=(n,t,e)=>(s,a)=>a&&a[0]?a[0][n+"Size"]:S_(s)&&"getBBox"in s?s.getBBox()[t]:s[e],oU=fI("inline","width","offsetWidth"),lU=fI("block","height","offsetHeight");function uU({target:n,borderBoxSize:t}){var e;(e=Hf.get(n))==null||e.forEach(s=>{s(n,{get width(){return oU(n,t)},get height(){return lU(n,t)}})})}function cU(n){n.forEach(uU)}function hU(){typeof ResizeObserver>"u"||(Cr=new ResizeObserver(cU))}function fU(n,t){Cr||hU();const e=oI(n);return e.forEach(s=>{let a=Hf.get(s);a||(a=new Set,Hf.set(s,a)),a.add(t),Cr==null||Cr.observe(s)}),()=>{e.forEach(s=>{const a=Hf.get(s);a==null||a.delete(t),a!=null&&a.size||Cr==null||Cr.unobserve(s)})}}const qf=new Set;let Ko;function dU(){Ko=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};qf.forEach(t=>t(n))},window.addEventListener("resize",Ko)}function mU(n){return qf.add(n),Ko||dU(),()=>{qf.delete(n),!qf.size&&typeof Ko=="function"&&(window.removeEventListener("resize",Ko),Ko=void 0)}}function dA(n,t){return typeof n=="function"?mU(n):fU(n,t)}function pU(n){return S_(n)&&n.tagName==="svg"}function gU(...n){const t=!Array.isArray(n[0]),e=t?0:-1,s=n[0+e],a=n[1+e],l=n[2+e],c=n[3+e],f=zC(a,l,c);return t?f(s):f}const yU=[...sI,Ne,Ei],vU=n=>yU.find(iI(n)),mA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:mA(),y:mA()}),pA=()=>({min:0,max:0}),Le=()=>({x:pA(),y:pA()}),_U=new WeakMap;function Wd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function gc(n){return typeof n=="string"||Array.isArray(n)}const A_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],w_=["initial",...A_];function Zd(n){return Wd(n.animate)||w_.some(t=>gc(n[t]))}function dI(n){return!!(Zd(n)||n.variants)}function TU(n,t,e){for(const s in t){const a=t[s],l=e[s];if(hn(a))n.addValue(s,a);else if(hn(l))n.addValue(s,qa(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,qa(c!==void 0?c:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const My={current:null},mI={current:!1},EU=typeof window<"u";function bU(){if(mI.current=!0,!!EU)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>My.current=n.matches;n.addEventListener("change",t),t()}else My.current=!1}const gA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let bd={};function pI(n){bd=n}function SU(){return bd}class AU{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=p_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Tn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ee.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Zd(e),this.isVariantNode=dI(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(e,{},this);for(const w in T){const D=T[w];p[w]!==void 0&&hn(D)&&D.set(p[w])}}mount(t){var e,s;if(this.hasBeenMounted)for(const a in this.initialValues)(e=this.values.get(a))==null||e.jump(this.initialValues[a]),this.latestValues[a]=this.initialValues[a];this.current=t,_U.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,l)=>this.bindToMotionValue(l,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(mI.current||bU(),this.shouldReduceMotion=My.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Os(this.notifyUpdate),Os(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&Wj.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:f,times:m,ease:p,duration:y}=e.accelerate,_=new $C({element:this.current,name:t,keyframes:f,times:m,ease:p,duration:Ti(y)}),T=c(_);this.valueSubscriptions.set(t,()=>{T(),_.cancel()});return}const s=Sl.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ee.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bd){const e=bd[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<gA.length;s++){const a=gA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=TU(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=qa(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(dC(s)||pC(s))?s=parseFloat(s):!vU(s)&&Ei.test(e)&&(s=aI(t,e)),this.setBaseTarget(t,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var l;const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const c=v_(this.props,e,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!hn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new s_),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){E_.render(this.render)}}class gI extends AU{constructor(){super(...arguments),this.KeyframeResolver=Xj}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const s=t.style;return s?s[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function yI({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function wU({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function RU(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}function Vg(n){return n===void 0||n===1}function Oy({scale:n,scaleX:t,scaleY:e}){return!Vg(n)||!Vg(t)||!Vg(e)}function Na(n){return Oy(n)||vI(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function vI(n){return yA(n.x)||yA(n.y)}function yA(n){return n&&n!=="0%"}function Sd(n,t,e){const s=n-e,a=t*s;return e+a}function vA(n,t,e,s,a){return a!==void 0&&(n=Sd(n,a,s)),Sd(n,e,s)+t}function Py(n,t=0,e=1,s,a){n.min=vA(n.min,t,e,s,a),n.max=vA(n.max,t,e,s,a)}function _I(n,{x:t,y:e}){Py(n.x,t.translate,t.scale,t.originPoint),Py(n.y,e.translate,e.scale,e.originPoint)}const _A=.999999999999,TA=1.0000000000001;function CU(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=e[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Qo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,_I(n,c)),s&&Na(l.latestValues)&&Qo(n,l.latestValues))}t.x<TA&&t.x>_A&&(t.x=1),t.y<TA&&t.y>_A&&(t.y=1)}function $o(n,t){n.min=n.min+t,n.max=n.max+t}function EA(n,t,e,s,a=.5){const l=ce(n.min,n.max,a);Py(n,t,e,l,s)}function Qo(n,t){EA(n.x,t.x,t.scaleX,t.scale,t.originX),EA(n.y,t.y,t.scaleY,t.scale,t.originY)}function TI(n,t){return yI(RU(n.getBoundingClientRect(),t))}function IU(n,t,e){const s=TI(n,e),{scroll:a}=t;return a&&($o(s.x,a.offset.x),$o(s.y,a.offset.y)),s}const xU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DU=bl.length;function NU(n,t,e){let s="",a=!0;for(let l=0;l<DU;l++){const c=bl[l],f=n[c];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(c.startsWith("scale")?1:0);else{const p=parseFloat(f);m=c.startsWith("scale")?p===1:p===0}if(!m||e){const p=lI(f,T_[c]);if(!m){a=!1;const y=xU[c]||c;s+=`${y}(${p}) `}e&&(t[c]=p)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function R_(n,t,e){const{style:s,vars:a,transformOrigin:l}=n;let c=!1,f=!1;for(const m in t){const p=t[m];if(Sl.has(m)){c=!0;continue}else if(DC(m)){a[m]=p;continue}else{const y=lI(p,T_[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(t.transform||(c||e?s.transform=NU(t,n.transform,e):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function EI(n,{style:t,vars:e},s,a){const l=n.style;let c;for(c in t)l[c]=t[c];a==null||a.applyProjectionStyles(l,s);for(c in e)l.setProperty(c,e[c])}function bA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const xu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(gt.test(n))n=parseFloat(n);else return n;const e=bA(n,t.target.x),s=bA(n,t.target.y);return`${e}% ${s}%`}},VU={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=Ei.parse(n);if(a.length>5)return s;const l=Ei.createTransformer(n),c=typeof a[0]!="number"?1:0,f=e.x.scale*t.x,m=e.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=ce(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},ky={borderRadius:{...xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xu,borderTopRightRadius:xu,borderBottomLeftRadius:xu,borderBottomRightRadius:xu,boxShadow:VU};function bI(n,{layout:t,layoutId:e}){return Sl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!ky[n]||n==="opacity")}function C_(n,t,e){var c;const s=n.style,a=t==null?void 0:t.style,l={};if(!s)return l;for(const f in s)(hn(s[f])||a&&hn(a[f])||bI(f,n)||((c=e==null?void 0:e.getValue(f))==null?void 0:c.liveStyle)!==void 0)&&(l[f]=s[f]);return l}function MU(n){return window.getComputedStyle(n)}class OU extends gI{constructor(){super(...arguments),this.type="html",this.renderInstance=EI}readValueFromInstance(t,e){var s;if(Sl.has(e))return(s=this.projection)!=null&&s.isProjecting?Ey(e):Z6(t,e);{const a=MU(t),l=(DC(e)?a.getPropertyValue(e):a[e])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:e}){return TI(t,e)}build(t,e,s){R_(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return C_(t,e,s)}}const PU={offset:"stroke-dashoffset",array:"stroke-dasharray"},kU={offset:"strokeDashoffset",array:"strokeDasharray"};function LU(n,t,e=1,s=0,a=!0){n.pathLength=1;const l=a?PU:kU;n[l.offset]=`${-s}`,n[l.array]=`${t} ${e}`}const jU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function SI(n,{attrX:t,attrY:e,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(R_(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:T}=n;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox);for(const w of jU)_[w]!==void 0&&(T[w]=_[w],delete _[w]);t!==void 0&&(_.x=t),e!==void 0&&(_.y=e),s!==void 0&&(_.scale=s),a!==void 0&&LU(_,a,l,c,!1)}const AI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),wI=n=>typeof n=="string"&&n.toLowerCase()==="svg";function UU(n,t,e,s){EI(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(AI.has(a)?a:__(a),t.attrs[a])}function RI(n,t,e){const s=C_(n,t,e);for(const a in n)if(hn(n[a])||hn(t[a])){const l=bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}class zU extends gI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Sl.has(e)){const s=rI(e);return s&&s.default||0}return e=AI.has(e)?e:__(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return RI(t,e,s)}build(t,e,s){SI(t,e,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,e,s,a){UU(t,e,s,a)}mount(t){this.isSVGTag=wI(t.tagName),super.mount(t)}}const BU=w_.length;function CI(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?CI(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<BU;e++){const s=w_[e],a=n.props[s];(gc(a)||a===!1)&&(t[s]=a)}return t}function II(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const FU=[...A_].reverse(),HU=A_.length;function qU(n){return t=>Promise.all(t.map(({animation:e,options:s})=>Uj(n,e,s)))}function GU(n){let t=qU(n),e=SA(),s=!0;const a=m=>(p,y)=>{var T;const _=el(n,y,m==="exit"?(T=n.presenceContext)==null?void 0:T.custom:void 0);if(_){const{transition:w,transitionEnd:D,...k}=_;p={...p,...k,...D}}return p};function l(m){t=m(n)}function c(m){const{props:p}=n,y=CI(n.parent)||{},_=[],T=new Set;let w={},D=1/0;for(let x=0;x<HU;x++){const L=FU[x],G=e[L],B=p[L]!==void 0?p[L]:y[L],tt=gc(B),st=L===m?G.isActive:null;st===!1&&(D=x);let ot=B===y[L]&&B!==p[L]&&tt;if(ot&&s&&n.manuallyAnimateOnMount&&(ot=!1),G.protectedKeys={...w},!G.isActive&&st===null||!B&&!G.prevProp||Wd(B)||typeof B=="boolean")continue;if(L==="exit"&&G.isActive&&st!==!0){G.prevResolvedValues&&(w={...w,...G.prevResolvedValues});continue}const N=KU(G.prevProp,B);let C=N||L===m&&G.isActive&&!ot&&tt||x>D&&tt,I=!1;const M=Array.isArray(B)?B:[B];let z=M.reduce(a(L),{});st===!1&&(z={});const{prevResolvedValues:H={}}=G,P={...H,...z},de=at=>{C=!0,T.has(at)&&(I=!0,T.delete(at)),G.needsAnimating[at]=!0;const dt=n.getValue(at);dt&&(dt.liveStyle=!1)};for(const at in P){const dt=z[at],It=H[at];if(w.hasOwnProperty(at))continue;let Vt=!1;Cy(dt)&&Cy(It)?Vt=!II(dt,It):Vt=dt!==It,Vt?dt!=null?de(at):T.add(at):dt!==void 0&&T.has(at)?de(at):G.protectedKeys[at]=!0}G.prevProp=B,G.prevResolvedValues=z,G.isActive&&(w={...w,...z}),s&&n.blockInitialAnimation&&(C=!1);const Ae=ot&&N;C&&(!Ae||I)&&_.push(...M.map(at=>{const dt={type:L};if(typeof at=="string"&&s&&!Ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:It}=n,Vt=el(It,at);if(It.enteringChildren&&Vt){const{delayChildren:U}=Vt.transition||{};dt.delay=XC(It.enteringChildren,n,U)}}return{animation:at,options:dt}}))}if(T.size){const x={};if(typeof p.initial!="boolean"){const L=el(n,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(x.transition=L.transition)}T.forEach(L=>{const G=n.getBaseTarget(L),B=n.getValue(L);B&&(B.liveStyle=!0),x[L]=G??null}),_.push({animation:x})}let k=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(k=!1),s=!1,k?t(_):Promise.resolve()}function f(m,p){var _;if(e[m].isActive===p)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(T=>{var w;return(w=T.animationState)==null?void 0:w.setActive(m,p)}),e[m].isActive=p;const y=c(m);for(const T in e)e[T].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>e,reset:()=>{e=SA()}}}function KU(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!II(t,n):!1}function Ia(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function SA(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}function AA(n,t){n.min=t.min,n.max=t.max}function yi(n,t){AA(n.x,t.x),AA(n.y,t.y)}function wA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const xI=1e-4,YU=1-xI,$U=1+xI,DI=.01,QU=0-DI,XU=0+DI;function En(n){return n.max-n.min}function WU(n,t,e){return Math.abs(n-t)<=e}function RA(n,t,e,s=.5){n.origin=s,n.originPoint=ce(t.min,t.max,n.origin),n.scale=En(e)/En(t),n.translate=ce(e.min,e.max,n.origin)-n.originPoint,(n.scale>=YU&&n.scale<=$U||isNaN(n.scale))&&(n.scale=1),(n.translate>=QU&&n.translate<=XU||isNaN(n.translate))&&(n.translate=0)}function Zu(n,t,e,s){RA(n.x,t.x,e.x,s?s.originX:void 0),RA(n.y,t.y,e.y,s?s.originY:void 0)}function CA(n,t,e){n.min=e.min+t.min,n.max=n.min+En(t)}function ZU(n,t,e){CA(n.x,t.x,e.x),CA(n.y,t.y,e.y)}function IA(n,t,e){n.min=t.min-e.min,n.max=n.min+En(t)}function Ad(n,t,e){IA(n.x,t.x,e.x),IA(n.y,t.y,e.y)}function xA(n,t,e,s,a){return n-=t,n=Sd(n,1/e,s),a!==void 0&&(n=Sd(n,1/a,s)),n}function JU(n,t=0,e=1,s=.5,a,l=n,c=n){if(Yi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=ce(l.min,l.max,s);n===l&&(f-=t),n.min=xA(n.min,t,e,f,a),n.max=xA(n.max,t,e,f,a)}function DA(n,t,[e,s,a],l,c){JU(n,t[e],t[s],t[a],t.scale,l,c)}const t9=["x","scaleX","originX"],e9=["y","scaleY","originY"];function NA(n,t,e,s){DA(n.x,t,t9,e?e.x:void 0,s?s.x:void 0),DA(n.y,t,e9,e?e.y:void 0,s?s.y:void 0)}function VA(n){return n.translate===0&&n.scale===1}function NI(n){return VA(n.x)&&VA(n.y)}function MA(n,t){return n.min===t.min&&n.max===t.max}function n9(n,t){return MA(n.x,t.x)&&MA(n.y,t.y)}function OA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function VI(n,t){return OA(n.x,t.x)&&OA(n.y,t.y)}function PA(n){return En(n.x)/En(n.y)}function kA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Ui(n){return[n("x"),n("y")]}function i9(n,t,e){let s="";const a=n.x.translate/t.x,l=n.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:T,skewX:w,skewY:D}=e;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),T&&(s+=`rotateY(${T}deg) `),w&&(s+=`skewX(${w}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const MI=["TopLeft","TopRight","BottomLeft","BottomRight"],s9=MI.length,LA=n=>typeof n=="string"?parseFloat(n):n,jA=n=>typeof n=="number"||gt.test(n);function r9(n,t,e,s,a,l){a?(n.opacity=ce(0,e.opacity??1,a9(s)),n.opacityExit=ce(t.opacity??1,0,o9(s))):l&&(n.opacity=ce(t.opacity??1,e.opacity??1,s));for(let c=0;c<s9;c++){const f=`border${MI[c]}Radius`;let m=UA(t,f),p=UA(e,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||jA(m)===jA(p)?(n[f]=Math.max(ce(LA(m),LA(p),s),0),(Yi.test(p)||Yi.test(m))&&(n[f]+="%")):n[f]=p}(t.rotate||e.rotate)&&(n.rotate=ce(t.rotate||0,e.rotate||0,s))}function UA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const a9=OI(0,.5,AC),o9=OI(.5,.95,li);function OI(n,t,e){return s=>s<n?0:s>t?1:e(dc(n,t,s))}function l9(n,t,e){const s=hn(n)?n:qa(n);return s.start(y_("",s,t,e)),s.animation}function yc(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}const u9=(n,t)=>n.depth-t.depth;class c9{constructor(){this.children=[],this.isDirty=!1}add(t){n_(this.children,t),this.isDirty=!0}remove(t){vd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(u9),this.isDirty=!1,this.children.forEach(t)}}function h9(n,t){const e=Tn.now(),s=({timestamp:a})=>{const l=a-e;l>=t&&(Os(s),n(l-t))};return ee.setup(s,!0),()=>Os(s)}function Gf(n){return hn(n)?n.get():n}class f9{constructor(){this.members=[]}add(t){n_(this.members,t);for(let e=this.members.length-1;e>=0;e--){const s=this.members[e];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&vd(this.members,s)}t.scheduleRender()}remove(t){if(vd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:f}=t.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Mg=["","X","Y","Z"],d9=1e3;let m9=0;function Og(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function PI(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=eI(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ee,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&PI(s)}function kI({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=m9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(y9),this.nodes.forEach(E9),this.nodes.forEach(b9),this.nodes.forEach(v9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new c9)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new s_),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=S_(c)&&!pU(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let y,_=0;const T=()=>this.root.updateBlockedByResize=!1;ee.read(()=>{_=window.innerWidth}),n(c,()=>{const w=window.innerWidth;w!==_&&(_=w,this.root.updateBlockedByResize=!0,y&&y(),y=h9(T,250),Kf.hasAnimatedSinceResize&&(Kf.hasAnimatedSinceResize=!1,this.nodes.forEach(FA)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||C9,{onLayoutAnimationStart:k,onLayoutAnimationComplete:x}=p.getProps(),L=!this.targetLayout||!VI(this.targetLayout,w),G=!_&&T;if(this.options.layoutRoot||this.resumeFrom||G||_&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...g_(D,"layout"),onPlay:k,onComplete:x};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,G)}else _||FA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(S9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(BA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(T9),this.nodes.forEach(p9),this.nodes.forEach(g9)):this.nodes.forEach(BA),this.clearAllSnapshots();const f=Tn.now();tn.delta=Qi(0,1e3/60,f-tn.timestamp),tn.timestamp=f,tn.isProcessing=!0,wg.update.process(tn),wg.preRender.process(tn),wg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,E_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_9),this.sharedNodes.forEach(A9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!NI(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Na(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),I9(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Le();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(x9))){const{scroll:y}=this.root;y&&($o(f.x,y.offset.x),$o(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Le();if(yi(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:T}=y;y!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&yi(f,c),$o(f.x,_.offset.x),$o(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Le();yi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Qo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&Qo(m,y.latestValues)}return Na(this.latestValues)&&Qo(m,this.latestValues),m}removeTransform(c){const f=Le();yi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Na(p.latestValues))continue;Oy(p.latestValues)&&p.updateSnapshot();const y=Le(),_=p.measurePageBox();yi(y,_),NA(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&NA(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var w;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=tn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),_I(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Oy(this.parent.latestValues)||vI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),Ad(this.relativeTargetOrigin,f,m),yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var D;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(D=this.parent)!=null&&D.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;yi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;CU(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Le());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wA(this.prevProjectionDelta.x,this.projectionDelta.x),wA(this.prevProjectionDelta.y,this.projectionDelta.y)),Zu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!kA(this.projectionDelta.x,this.prevProjectionDelta.x)||!kA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yo(),this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=Le(),w=m?m.source:void 0,D=this.layout?this.layout.source:void 0,k=w!==D,x=this.getStack(),L=!x||x.members.length<=1,G=!!(k&&!L&&this.options.crossfade===!0&&!this.path.some(R9));this.animationProgress=0;let B;this.mixTargetDelta=tt=>{const st=tt/1e3;HA(_.x,c.x,st),HA(_.y,c.y,st),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ad(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),w9(this.relativeTarget,this.relativeTargetOrigin,T,st),B&&n9(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Le()),yi(B,this.relativeTarget)),k&&(this.animationValues=y,r9(y,p,this.latestValues,st,G,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{Kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qa(0)),this.motionValue.jump(0,!1),this.currentAnimation=l9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&LI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Le();const _=En(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const T=En(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+T}yi(f,m),Qo(f,y),Zu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new f9),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Og("z",c,p,this.animationValues);for(let y=0;y<Mg.length;y++)Og(`rotate${Mg[y]}`,c,p,this.animationValues),Og(`skew${Mg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Gf(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Gf(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=i9(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:T,y:w}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in ky){if(y[D]===void 0)continue;const{correct:k,applyTo:x,isCSSVariable:L}=ky[D],G=_==="none"?y[D]:k(y[D],p);if(x){const B=x.length;for(let tt=0;tt<B;tt++)c[x[tt]]=G}else L?this.options.visualElement.renderState.vars[D]=G:c[D]=G}this.options.layoutId&&(c.pointerEvents=p===this?Gf(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(zA),this.root.sharedNodes.clear()}}}function p9(n){n.updateLayout()}function g9(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?Ui(_=>{const T=c?t.measuredBox[_]:t.layoutBox[_],w=En(T);T.min=s[_].min,T.max=T.min+w}):LI(l,t.layoutBox,s)&&Ui(_=>{const T=c?t.measuredBox[_]:t.layoutBox[_],w=En(s[_]);T.max=T.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+w)});const f=Yo();Zu(f,s,t.layoutBox);const m=Yo();c?Zu(m,n.applyTransform(a,!0),t.measuredBox):Zu(m,s,t.layoutBox);const p=!NI(f);let y=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:w}=_;if(T&&w){const D=Le();Ad(D,t.layoutBox,T.layoutBox);const k=Le();Ad(k,s,w.layoutBox),VI(D,k)||(y=!0),_.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=D,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function y9(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function v9(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _9(n){n.clearSnapshot()}function zA(n){n.clearMeasurements()}function BA(n){n.isLayoutDirty=!1}function T9(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function FA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function E9(n){n.resolveTargetDelta()}function b9(n){n.calcProjection()}function S9(n){n.resetSkewAndRotation()}function A9(n){n.removeLeadSnapshot()}function HA(n,t,e){n.translate=ce(t.translate,0,e),n.scale=ce(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function qA(n,t,e,s){n.min=ce(t.min,e.min,s),n.max=ce(t.max,e.max,s)}function w9(n,t,e,s){qA(n.x,t.x,e.x,s),qA(n.y,t.y,e.y,s)}function R9(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const C9={duration:.45,ease:[.4,0,.1,1]},GA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),KA=GA("applewebkit/")&&!GA("chrome/")?Math.round:li;function YA(n){n.min=KA(n.min),n.max=KA(n.max)}function I9(n){YA(n.x),YA(n.y)}function LI(n,t,e){return n==="position"||n==="preserve-aspect"&&!WU(PA(t),PA(e),.2)}function x9(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const D9=kI({attachResizeListener:(n,t)=>yc(n,"resize",t),measureScroll:()=>{var n,t;return{x:document.documentElement.scrollLeft||((n=document.body)==null?void 0:n.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Pg={current:void 0},jI=kI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Pg.current){const n=new D9({});n.mount(window),n.setOptions({layoutScroll:!0}),Pg.current=n}return Pg.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Jd=V.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function $A(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function N9(...n){return t=>{let e=!1;const s=n.map(a=>{const l=$A(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():$A(n[a],null)}}}}function V9(...n){return V.useCallback(N9(...n),n)}class M9 extends V.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=e.offsetParent,a=Vy(s)&&s.offsetWidth||0,l=Vy(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=e.offsetHeight||0,c.width=e.offsetWidth||0,c.top=e.offsetTop,c.left=e.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function O9({children:n,isPresent:t,anchorX:e,anchorY:s,root:a,pop:l}){var T;const c=V.useId(),f=V.useRef(null),m=V.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=V.useContext(Jd),y=((T=n.props)==null?void 0:T.ref)??(n==null?void 0:n.ref),_=V9(f,y);return V.useInsertionEffect(()=>{const{width:w,height:D,top:k,left:x,right:L,bottom:G}=m.current;if(t||l===!1||!f.current||!w||!D)return;const B=e==="left"?`left: ${x}`:`right: ${L}`,tt=s==="bottom"?`bottom: ${G}`:`top: ${k}`;f.current.dataset.motionPopId=c;const st=document.createElement("style");p&&(st.nonce=p);const ot=a??document.head;return ot.appendChild(st),st.sheet&&st.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${D}px !important;
            ${B}px !important;
            ${tt}px !important;
          }
        `),()=>{ot.contains(st)&&ot.removeChild(st)}},[t]),S.jsx(M9,{isPresent:t,childRef:f,sizeRef:m,pop:l,children:l===!1?n:V.cloneElement(n,{ref:_})})}const P9=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,anchorY:m,root:p})=>{const y=Ha(k9),_=V.useId();let T=!0,w=V.useMemo(()=>(T=!1,{id:_,initial:t,isPresent:e,custom:a,onExitComplete:D=>{y.set(D,!0);for(const k of y.values())if(!k)return;s&&s()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[e,y,s]);return l&&T&&(w={...w}),V.useMemo(()=>{y.forEach((D,k)=>y.set(k,!1))},[e]),V.useEffect(()=>{!e&&!y.size&&s&&s()},[e]),n=S.jsx(O9,{pop:c==="popLayout",isPresent:e,anchorX:f,anchorY:m,root:p,children:n}),S.jsx(Xd.Provider,{value:w,children:n})};function k9(){return new Map}function UI(n=!0){const t=V.useContext(Xd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,l=V.useId();V.useEffect(()=>{if(n)return a(l)},[n]);const c=V.useCallback(()=>n&&s&&s(l),[l,s,n]);return!e&&s?[!1,c]:[!0]}const Cf=n=>n.key||"";function QA(n){const t=[];return V.Children.forEach(n,e=>{V.isValidElement(e)&&t.push(e)}),t}const L9=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[y,_]=UI(c),T=V.useMemo(()=>QA(n),[n]),w=c&&!y?[]:T.map(Cf),D=V.useRef(!0),k=V.useRef(T),x=Ha(()=>new Map),L=V.useRef(new Set),[G,B]=V.useState(T),[tt,st]=V.useState(T);e_(()=>{D.current=!1,k.current=T;for(let C=0;C<tt.length;C++){const I=Cf(tt[C]);w.includes(I)?(x.delete(I),L.current.delete(I)):x.get(I)!==!0&&x.set(I,!1)}},[tt,w.length,w.join("-")]);const ot=[];if(T!==G){let C=[...T];for(let I=0;I<tt.length;I++){const M=tt[I],z=Cf(M);w.includes(z)||(C.splice(I,0,M),ot.push(M))}return l==="wait"&&ot.length&&(C=ot),st(QA(C)),B(T),null}const{forceRender:N}=V.useContext(t_);return S.jsx(S.Fragment,{children:tt.map(C=>{const I=Cf(C),M=c&&!y?!1:T===tt||w.includes(I),z=()=>{if(L.current.has(I))return;if(L.current.add(I),x.has(I))x.set(I,!0);else return;let H=!0;x.forEach(P=>{P||(H=!1)}),H&&(N==null||N(),st(k.current),c&&(_==null||_()),s&&s())};return S.jsx(P9,{isPresent:M,initial:!D.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:M?void 0:z,anchorX:f,anchorY:m,children:C},I)})})},zI=V.createContext({strict:!1}),XA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let WA=!1;function j9(){if(WA)return;const n={};for(const t in XA)n[t]={isEnabled:e=>XA[t].some(s=>!!e[s])};pI(n),WA=!0}function BI(){return j9(),SU()}function U9(n){const t=BI();for(const e in n)t[e]={...t[e],...n[e]};pI(t)}const z9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function wd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||z9.has(n)}let FI=n=>!wd(n);function B9(n){typeof n=="function"&&(FI=t=>t.startsWith("on")?!wd(t):n(t))}try{B9(require("@emotion/is-prop-valid").default)}catch{}function F9(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(FI(a)||e===!0&&wd(a)||!t&&!wd(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const tm=V.createContext({});function H9(n,t){if(Zd(n)){const{initial:e,animate:s}=n;return{initial:e===!1||gc(e)?e:void 0,animate:gc(s)?s:void 0}}return n.inherit!==!1?t:{}}function q9(n){const{initial:t,animate:e}=H9(n,V.useContext(tm));return V.useMemo(()=>({initial:t,animate:e}),[ZA(t),ZA(e)])}function ZA(n){return Array.isArray(n)?n.join(" "):n}const I_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HI(n,t,e){for(const s in t)!hn(t[s])&&!bI(s,e)&&(n[s]=t[s])}function G9({transformTemplate:n},t){return V.useMemo(()=>{const e=I_();return R_(e,t,n),Object.assign({},e.vars,e.style)},[t])}function K9(n,t){const e=n.style||{},s={};return HI(s,e,n),Object.assign(s,G9(n,t)),s}function Y9(n,t){const e={},s=K9(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const qI=()=>({...I_(),attrs:{}});function $9(n,t,e,s){const a=V.useMemo(()=>{const l=qI();return SI(l,t,wI(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};HI(l,n.style,n),a.style={...l,...a.style}}return a}const Q9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x_(n){return typeof n!="string"||n.includes("-")?!1:!!(Q9.indexOf(n)>-1||/[A-Z]/u.test(n))}function X9(n,t,e,{latestValues:s},a,l=!1,c){const m=(c??x_(n)?$9:Y9)(t,s,a,n),p=F9(t,typeof n=="string",l),y=n!==V.Fragment?{...p,...m,ref:e}:{},{children:_}=t,T=V.useMemo(()=>hn(_)?_.get():_,[_]);return V.createElement(n,{...y,children:T})}function W9({scrapeMotionValuesFromProps:n,createRenderState:t},e,s,a){return{latestValues:Z9(e,s,a,n),renderState:t()}}function Z9(n,t,e,s){const a={},l=s(n,{});for(const T in l)a[T]=Gf(l[T]);let{initial:c,animate:f}=n;const m=Zd(n),p=dI(n);t&&p&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Wd(_)){const T=Array.isArray(_)?_:[_];for(let w=0;w<T.length;w++){const D=v_(n,T[w]);if(D){const{transitionEnd:k,transition:x,...L}=D;for(const G in L){let B=L[G];if(Array.isArray(B)){const tt=y?B.length-1:0;B=B[tt]}B!==null&&(a[G]=B)}for(const G in k)a[G]=k[G]}}}return a}const GI=n=>(t,e)=>{const s=V.useContext(tm),a=V.useContext(Xd),l=()=>W9(n,t,s,a);return e?l():Ha(l)},J9=GI({scrapeMotionValuesFromProps:C_,createRenderState:I_}),t5=GI({scrapeMotionValuesFromProps:RI,createRenderState:qI}),e5=Symbol.for("motionComponentSymbol");function n5(n,t,e){const s=V.useRef(e);V.useInsertionEffect(()=>{s.current=e});const a=V.useRef(null);return V.useCallback(l=>{var f;l&&((f=n.onMount)==null||f.call(n,l)),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const m=c(l);typeof m=="function"&&(a.current=m)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const KI=V.createContext({});function Fo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function i5(n,t,e,s,a,l){var B,tt;const{visualElement:c}=V.useContext(tm),f=V.useContext(zI),m=V.useContext(Xd),p=V.useContext(Jd),y=p.reducedMotion,_=p.skipAnimations,T=V.useRef(null),w=V.useRef(!1);s=s||f.renderer,!T.current&&s&&(T.current=s(n,{visualState:t,parent:c,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),w.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const D=T.current,k=V.useContext(KI);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&s5(T.current,e,a,k);const x=V.useRef(!1);V.useInsertionEffect(()=>{D&&x.current&&D.update(e,m)});const L=e[tI],G=V.useRef(!!L&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,L))&&((tt=window.MotionHasOptimisedAnimation)==null?void 0:tt.call(window,L)));return e_(()=>{w.current=!0,D&&(x.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),G.current&&D.animationState&&D.animationState.animateChanges())}),V.useEffect(()=>{D&&(!G.current&&D.animationState&&D.animationState.animateChanges(),G.current&&(queueMicrotask(()=>{var st;(st=window.MotionHandoffMarkAsComplete)==null||st.call(window,L)}),G.current=!1),D.enteringChildren=void 0)}),D}function s5(n,t,e,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:YI(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Fo(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function YI(n){if(n)return n.options.allowProjection!==!1?n.projection:YI(n.parent)}function kg(n,{forwardMotionProps:t=!1,type:e}={},s,a){s&&U9(s);const l=e?e==="svg":x_(n),c=l?t5:J9;function f(p,y){let _;const T={...V.useContext(Jd),...p,layoutId:r5(p)},{isStatic:w}=T,D=q9(p),k=c(p,w);if(!w&&fC){a5();const x=o5(T);_=x.MeasureLayout,D.visualElement=i5(n,k,T,a,x.ProjectionNode,l)}return S.jsxs(tm.Provider,{value:D,children:[_&&D.visualElement?S.jsx(_,{visualElement:D.visualElement,...T}):null,X9(n,p,n5(k,D.visualElement,y),k,w,t,l)]})}f.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=V.forwardRef(f);return m[e5]=n,m}function r5({layoutId:n}){const t=V.useContext(t_).id;return t&&n!==void 0?t+"-"+n:n}function a5(n,t){V.useContext(zI).strict}function o5(n){const t=BI(),{drag:e,layout:s}=t;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(n)||s!=null&&s.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function l5(n,t){if(typeof Proxy>"u")return kg;const e=new Map,s=(l,c)=>kg(l,c,n,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(e.has(c)||e.set(c,kg(c,void 0,n,t)),e.get(c))})}const u5=(n,t)=>t.isSVG??x_(n)?new zU(t):new OU(t,{allowProjection:n!==V.Fragment});class c5 extends Wr{constructor(t){super(t),t.animationState||(t.animationState=GU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let h5=0;class f5 extends Wr{constructor(){super(...arguments),this.id=h5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const d5={animation:{Feature:c5},exit:{Feature:f5}};function Fc(n){return{point:{x:n.pageX,y:n.pageY}}}const m5=n=>t=>b_(t)&&n(t,Fc(t));function Ju(n,t,e,s){return yc(n,t,m5(e),s)}const $I=({current:n})=>n?n.ownerDocument.defaultView:null,JA=(n,t)=>Math.abs(n-t);function p5(n,t){const e=JA(n.x,t.x),s=JA(n.y,t.y);return Math.sqrt(e**2+s**2)}const tw=new Set(["auto","scroll"]);class QI{constructor(t,e,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=jg(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,k=p5(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!k)return;const{point:x}=w,{timestamp:L}=tn;this.history.push({...x,timestamp:L});const{onStart:G,onMove:B}=this.handlers;D||(G&&G(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,w)},this.handlePointerMove=(w,D)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Lg(D,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(w,D)=>{this.end();const{onEnd:k,onSessionEnd:x,resumeAnimation:L}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=jg(w.type==="pointercancel"?this.lastMoveEventInfo:Lg(D,this.transformPagePoint),this.history);this.startEvent&&k&&k(w,G),x&&x(w,G)},!b_(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=Fc(t),p=Lg(m,this.transformPagePoint),{point:y}=p,{timestamp:_}=tn;this.history=[{...y,timestamp:_}];const{onSessionStart:T}=e;T&&T(t,jg(p,this.history)),this.removeListeners=Uc(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(t){let e=t.parentElement;for(;e;){const s=getComputedStyle(e);(tw.has(s.overflowX)||tw.has(s.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ee.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Os(this.updatePoint)}}function Lg(n,t){return t?{point:t(n.point)}:n}function ew(n,t){return{x:n.x-t.x,y:n.y-t.y}}function jg({point:n},t){return{point:n,delta:ew(n,XI(t)),offset:ew(n,g5(t)),velocity:y5(t,.1)}}function g5(n){return n[0]}function XI(n){return n[n.length-1]}function y5(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=XI(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>Ti(t)));)e--;if(!s)return{x:0,y:0};s===n[0]&&n.length>2&&a.timestamp-s.timestamp>Ti(t)*2&&(s=n[1]);const l=oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function v5(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?ce(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?ce(e,n,s.max):Math.min(n,e)),n}function nw(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function _5(n,{top:t,left:e,bottom:s,right:a}){return{x:nw(n.x,e,a),y:nw(n.y,t,s)}}function iw(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function T5(n,t){return{x:iw(n.x,t.x),y:iw(n.y,t.y)}}function E5(n,t){let e=.5;const s=En(n),a=En(t);return a>s?e=dc(t.min,t.max-s,n.min):s>a&&(e=dc(n.min,n.max-a,t.min)),Qi(0,1,e)}function b5(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const Ly=.35;function S5(n=Ly){return n===!1?n=0:n===!0&&(n=Ly),{x:sw(n,"left","right"),y:sw(n,"top","bottom")}}function sw(n,t,e){return{min:rw(n,t),max:rw(n,e)}}function rw(n,t){return typeof n=="number"?n:n[t]||0}const A5=new WeakMap;class w5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{e&&this.snapToCursor(Fc(_).point),this.stopAnimation()},c=(_,T)=>{const{drag:w,dragPropagation:D,onDragStart:k}=this.getProps();if(w&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zj(w),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ui(L=>{let G=this.getAxisMotionValue(L).get()||0;if(Yi.test(G)){const{projection:B}=this.visualElement;if(B&&B.layout){const tt=B.layout.layoutBox[L];tt&&(G=En(tt)*(parseFloat(G)/100))}}this.originPoint[L]=G}),k&&ee.update(()=>k(_,T),!1,!0),Iy(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},f=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:w,dragDirectionLock:D,onDirectionLock:k,onDrag:x}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:L}=T;if(D&&this.currentDirection===null){this.currentDirection=C5(L),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",T.point,L),this.updateAxis("y",T.point,L),this.visualElement.render(),x&&ee.update(()=>x(_,T),!1,!0)},m=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new QI(t,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:$I(this.visualElement),element:this.visualElement.current})}stop(t,e){const s=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ee.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!If(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=v5(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Fo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=_5(s.layoutBox,t):this.constraints=!1,this.elastic=S5(e),a!==this.constraints&&!Fo(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Ui(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=b5(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Fo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=IU(s,a.root,this.visualElement.getTransformPagePoint());let c=T5(a.layout.layoutBox,l);if(e){const f=e(wU(c));this.hasMutatedConstraints=!!f,f&&(c=yI(f))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Ui(y=>{if(!If(y,e,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const T=a?200:1e6,w=a?40:1e7,D={type:"inertia",velocity:s?t[y]:0,bounceStiffness:T,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(f)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Iy(this.visualElement,t),s.start(y_(t,s,0,e,this.visualElement,!1))}stopAnimation(){Ui(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ui(e=>{const{drag:s}=this.getProps();if(!If(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[e],m=l.get()||0;l.set(t[e]-ce(c,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!Fo(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ui(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=E5({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ui(c=>{if(!If(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ce(m,p,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;A5.set(this.visualElement,this);const t=this.visualElement.current,e=Ju(t,"pointerdown",p=>{const{drag:y,dragListener:_=!0}=this.getProps(),T=p.target,w=T!==t&&sU(T);y&&_&&!w&&this.start(p)});let s;const a=()=>{const{dragConstraints:p}=this.getProps();Fo(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),s||(s=R5(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ee.read(a);const f=yc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Ui(_=>{const T=this.getAxisMotionValue(_);T&&(this.originPoint[_]+=p[_].translate,T.set(T.get()+p[_].translate))}),this.visualElement.render())}));return()=>{f(),e(),c(),m&&m(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Ly,dragMomentum:f=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function aw(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function R5(n,t,e){const s=dA(n,aw(e)),a=dA(t,aw(e));return()=>{s(),a()}}function If(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function C5(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class I5 extends Wr{constructor(t){super(t),this.removeGroupControls=li,this.removeListeners=li,this.controls=new w5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ug=n=>(t,e)=>{n&&ee.update(()=>n(t,e),!1,!0)};class x5 extends Wr{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(t){this.session=new QI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$I(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ug(t),onStart:Ug(e),onMove:Ug(s),onEnd:(l,c)=>{delete this.session,a&&ee.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let zg=!1;class D5 extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),s&&s.register&&a&&s.register(l),zg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==e&&c.setOptions({...c.options,layoutDependency:e}),zg=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ee.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),E_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;zg=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WI(n){const[t,e]=UI(),s=V.useContext(t_);return S.jsx(D5,{...n,layoutGroup:s,switchLayoutGroup:V.useContext(KI),isPresent:t,safeToRemove:e})}const N5={pan:{Feature:x5},drag:{Feature:I5,ProjectionNode:jI,MeasureLayout:WI}};function ow(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=s[a];l&&ee.postRender(()=>l(t,Fc(t)))}class V5 extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=tU(t,(e,s)=>(ow(this.node,s,"Start"),a=>ow(this.node,a,"End"))))}unmount(){}}class M5 extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uc(yc(this.node.current,"focus",()=>this.onFocus()),yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lw(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=s[a];l&&ee.postRender(()=>l(t,Fc(t)))}class O5 extends Wr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:s}=this.node.props;this.unmount=aU(t,(a,l)=>(lw(this.node,l,"Start"),(c,{success:f})=>lw(this.node,c,f?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const jy=new WeakMap,Bg=new WeakMap,P5=n=>{const t=jy.get(n.target);t&&t(n)},k5=n=>{n.forEach(P5)};function L5({root:n,...t}){const e=n||document;Bg.has(e)||Bg.set(e,{});const s=Bg.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(k5,{root:n,...t})),s[a]}function j5(n,t,e){const s=L5(t);return jy.set(n,e),s.observe(n),()=>{jy.delete(n),s.unobserve(n)}}const U5={some:0,all:1};class z5 extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:U5[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=p?y:_;T&&T(m)};return j5(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(B5(t,e))&&this.startObserver()}unmount(){}}function B5({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const F5={inView:{Feature:z5},tap:{Feature:O5},focus:{Feature:M5},hover:{Feature:V5}},H5={layout:{ProjectionNode:jI,MeasureLayout:WI}},q5={...d5,...F5,...N5,...H5},Uy=l5(q5,u5);function ZI(n){const t=Ha(()=>qa(n)),{isStatic:e}=V.useContext(Jd);if(e){const[,s]=V.useState(n);V.useEffect(()=>t.on("change",s),[])}return t}function JI(n,t){const e=ZI(t()),s=()=>e.set(t());return s(),e_(()=>{const a=()=>ee.preRender(s,!1,!0),l=n.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),Os(s)}}),e}function G5(n){Wu.current=[],n();const t=JI(Wu.current,n);return Wu.current=void 0,t}function ju(n,t,e,s){if(typeof n=="function")return G5(n);if(e!==void 0&&!Array.isArray(e)&&typeof t!="function")return K5(n,t,e,s);const c=typeof t=="function"?t:gU(t,e,s),f=Array.isArray(n)?uw(n,c):uw([n],([p])=>c(p)),m=Array.isArray(n)?void 0:n.accelerate;return m&&!m.isTransformed&&typeof t!="function"&&Array.isArray(e)&&(s==null?void 0:s.clamp)!==!1&&(f.accelerate={...m,times:t,keyframes:e,isTransformed:!0}),f}function uw(n,t){const e=Ha(()=>[]);return JI(n,()=>{e.length=0;const s=n.length;for(let a=0;a<s;a++)e[a]=n[a].get();return t(e)})}function K5(n,t,e,s){const a=Ha(()=>Object.keys(e)),l=Ha(()=>({}));for(const c of a)l[c]=ju(n,t,e[c],s);return l}function Y5({user:n,style:t,dragHandlers:e}){var l;const s=new Date().getFullYear(),a=n.birthYear?s-n.birthYear:"??";return S.jsx(Uy.div,{className:"profile-card-container",style:t,...e,children:S.jsxs("div",{className:"profile-card-inner",children:[S.jsxs("div",{className:"profile-header",children:[S.jsxs("h2",{className:"profile-handle",children:["@",n.handle]}),S.jsxs("div",{className:"profile-meta-row",children:[S.jsxs("span",{className:"profile-meta-item",children:[S.jsx(Zv,{size:14})," ",n.gender]}),S.jsx("span",{className:"profile-meta-dot",children:""}),S.jsxs("span",{className:"profile-meta-item",children:[S.jsx(uC,{size:14})," ",a]}),S.jsx("span",{className:"profile-meta-dot",children:""}),S.jsxs("span",{className:"profile-meta-item",children:[S.jsx(cC,{size:14})," ",((l=n.location)==null?void 0:l.approxCity)||"Unknown"]})]})]}),S.jsxs("div",{className:"profile-tagline",children:['"',n.tagline,'"']}),S.jsx("div",{className:"profile-tags",children:n.tags&&n.tags.map(c=>S.jsx("span",{className:"profile-tag",children:c},c))}),S.jsx("div",{className:"profile-prompts",children:n.prompts&&n.prompts.map((c,f)=>S.jsxs("div",{className:"profile-prompt",children:[S.jsx("div",{className:"prompt-q",children:c.question}),S.jsx("div",{className:"prompt-a",children:c.answer})]},f))}),S.jsx("div",{className:"profile-footer",children:S.jsx(jc,{size:16,style:{color:"var(--color-accent)",opacity:.5}})})]})})}function $5(){const[n,t]=V.useState([]),[e,s]=V.useState(0),[a,l]=V.useState(!0),[c,f]=V.useState(null),m=ZI(0),p=ju(m,[-200,200],[-25,25]),y=ju(m,[-200,0,200],[.4,1,.4]),_=ju(m,[0,120],[0,1]),T=ju(m,[-120,0],[1,0]);V.useEffect(()=>{async function x(){if(ai.currentUser)try{const L=ai.currentUser.uid,G=eC(md(Dn,"users"),FS("status","==","active"),FS("onboardingCompleted","==",!0),zL(20)),B=await GS(md(Dn,"users",L,"swipes")),tt=new Set(B.docs.map(N=>N.id));tt.add(L);const st=await GS(G),ot=[];st.forEach(N=>{tt.has(N.id)||ot.push({id:N.id,...N.data()})}),t(ot)}catch(L){console.error("Error fetching candidates:",L)}finally{l(!1)}}x()},[]);const w=async x=>{if(e>=n.length)return;const L=n[e],G=ai.currentUser.uid,B=Bi(Dn,"users",G,"swipes",L.id);s(tt=>tt+1),m.set(0);try{await Xv(B,{direction:x,timestamp:fc()}),x==="right"&&await D(G,L.id)&&f(L)}catch(tt){console.error("Swipe failed:",tt)}},D=async(x,L)=>{const G=Bi(Dn,"users",L,"swipes",x),B=await HL(G);if(B.exists()&&B.data().direction==="right")try{const tt=[x,L].sort().join("_"),st=Bi(Dn,"matches",tt);return await QL(Dn,async ot=>{(await ot.get(st)).exists()||(ot.set(st,{users:[x,L],createdAt:fc(),status:"active"}),ot.update(Bi(Dn,"users",x),{currentMatchId:tt}),ot.update(Bi(Dn,"users",L),{currentMatchId:tt}))}),!0}catch(tt){return console.error("Match creation failed:",tt),!1}return!1};if(c)return S.jsx("div",{className:"match-overlay",children:S.jsxs("div",{className:"match-overlay-content",children:[S.jsx("div",{className:"match-sparkle",children:""}),S.jsx("h1",{className:"match-title",children:"It's a Match!"}),S.jsxs("p",{className:"match-subtitle",children:["You and @",c.handle," liked each other."]}),S.jsx("button",{className:"btn btn-primary",style:{width:"100%",padding:"14px",justifyContent:"center",marginTop:"16px"},onClick:()=>f(null),children:"Start Chatting"})]})});if(a)return S.jsx("div",{className:"loading-screen",children:S.jsx(ll,{className:"animate-spin",size:48,style:{color:"var(--color-accent)"}})});if(e>=n.length)return S.jsxs("div",{className:"empty-state",children:[S.jsx("div",{className:"empty-state-icon",children:""}),S.jsx("h2",{children:"No more profiles"}),S.jsx("p",{children:"Check back later for new matches."})]});const k=n[e];return S.jsxs("div",{className:"swipe-deck-container",children:[S.jsxs("div",{className:"card-stack",children:[S.jsx(L9,{children:S.jsx(Y5,{user:k,style:{x:m,rotate:p,opacity:y},dragHandlers:{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(x,{offset:L})=>{L.x>100?w("right"):L.x<-100&&w("left")}}},k.id)}),S.jsx(Uy.div,{style:{opacity:_},className:"swipe-overlay swipe-overlay-right",children:S.jsx("div",{className:"swipe-label swipe-label-yes",children:"YES"})}),S.jsx(Uy.div,{style:{opacity:T},className:"swipe-overlay swipe-overlay-left",children:S.jsx("div",{className:"swipe-label swipe-label-nope",children:"NOPE"})})]}),S.jsxs("div",{className:"swipe-controls",children:[S.jsx("button",{className:"swipe-btn btn-pass",onClick:()=>w("left"),children:S.jsx(Jv,{size:32})}),S.jsx("button",{className:"swipe-btn btn-like",onClick:()=>w("right"),children:S.jsx(yd,{size:32,fill:"currentColor"})})]})]})}function Q5(){var k;const{userDoc:n}=Pc(),[t,e]=V.useState([]),[s,a]=V.useState(""),[l,c]=V.useState(!1),[f,m]=V.useState(!1),p=V.useRef(null),y=n==null?void 0:n.currentMatchId,_=(k=ai.currentUser)==null?void 0:k.uid;V.useEffect(()=>{if(!y)return;const x=eC(md(Dn,"matches",y,"messages"),UL("createdAt","asc")),L=sC(x,G=>{const B=G.docs.map(tt=>({id:tt.id,...tt.data()}));e(B)});return()=>L()},[y]),V.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[t]);async function T(x){x.preventDefault();const L=s.trim();if(!(!L||!y||l)){c(!0),a("");try{await GL(md(Dn,"matches",y,"messages"),{text:L,senderId:_,createdAt:fc()})}catch(G){console.error("Send failed:",G),a(L)}finally{c(!1)}}}async function w(){if(y)try{const x=Bi(Dn,"users",_);await qL(x,{currentMatchId:null}),m(!1)}catch(x){console.error("Unmatch failed:",x)}}if(!y)return S.jsxs("div",{className:"empty-state",children:[S.jsx("div",{className:"empty-state-icon",children:""}),S.jsx("h2",{children:"No match yet"}),S.jsx("p",{children:"Keep swiping to find your connection."})]});function D(x){return x?(x.toDate?x.toDate():new Date(x)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""}return S.jsxs("div",{className:"chat-container",children:[S.jsxs("div",{className:"chat-header",children:[S.jsx("div",{children:S.jsx("div",{className:"chat-match-label",children:"Your Match"})}),S.jsx("button",{className:"chat-unmatch-btn",onClick:()=>m(!0),title:"Unmatch",children:S.jsx(Jv,{size:18})})]}),S.jsxs("div",{className:"chat-messages",ref:p,children:[t.length===0&&S.jsx("div",{className:"chat-empty",children:S.jsx("p",{children:"Say something! First impressions matter. "})}),t.map(x=>{const L=x.senderId===_;return S.jsx("div",{className:`chat-bubble-row ${L?"mine":"theirs"}`,children:S.jsxs("div",{className:`chat-bubble ${L?"bubble-mine":"bubble-theirs"}`,children:[S.jsx("p",{children:x.text}),S.jsx("span",{className:"bubble-time",children:D(x.createdAt)})]})},x.id)})]}),S.jsxs("form",{className:"chat-input-bar",onSubmit:T,children:[S.jsx("input",{className:"chat-input",value:s,onChange:x=>a(x.target.value),placeholder:"Type a message...",maxLength:500,autoFocus:!0}),S.jsx("button",{type:"submit",className:"chat-send-btn",disabled:!s.trim()||l,children:l?S.jsx(ll,{size:20,className:"animate-spin"}):S.jsx(V3,{size:20})})]}),f&&S.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:S.jsxs("div",{className:"modal-card",onClick:x=>x.stopPropagation(),children:[S.jsx(L3,{size:32,style:{color:"#ef4444",marginBottom:"12px"}}),S.jsx("h3",{children:"Unmatch?"}),S.jsx("p",{children:"This will end the conversation and you'll go back to discovery."}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{className:"btn btn-ghost",onClick:()=>m(!1),children:"Cancel"}),S.jsx("button",{className:"btn btn-danger",onClick:w,children:"Unmatch"})]})]})})]})}function X5(){var f;const{currentUser:n,userDoc:t,logout:e}=Pc(),s=Ga();async function a(){await e(),s("/")}if(!t)return null;const l=new Date().getFullYear(),c=t.birthYear?l-t.birthYear:"??";return S.jsxs("div",{className:"profile-view",children:[S.jsxs("div",{className:"profile-self-card",children:[S.jsxs("div",{className:"profile-header",children:[S.jsxs("h2",{className:"profile-handle",children:["@",t.handle]}),S.jsxs("div",{className:"profile-meta-row",children:[S.jsxs("span",{className:"profile-meta-item",children:[S.jsx(Zv,{size:14})," ",t.gender]}),S.jsx("span",{className:"profile-meta-dot",children:""}),S.jsxs("span",{className:"profile-meta-item",children:[S.jsx(uC,{size:14})," ",c]}),S.jsx("span",{className:"profile-meta-dot",children:""}),S.jsxs("span",{className:"profile-meta-item",children:[S.jsx(cC,{size:14})," ",((f=t.location)==null?void 0:f.approxCity)||"Unknown"]})]})]}),S.jsxs("div",{className:"profile-tagline",children:['"',t.tagline,'"']}),S.jsx("div",{className:"profile-tags",children:t.tags&&t.tags.map(m=>S.jsx("span",{className:"profile-tag",children:m},m))}),S.jsx("div",{className:"profile-prompts",children:t.prompts&&t.prompts.map((m,p)=>S.jsxs("div",{className:"profile-prompt",children:[S.jsx("div",{className:"prompt-q",children:m.question}),S.jsx("div",{className:"prompt-a",children:m.answer})]},p))})]}),S.jsxs("div",{className:"profile-account-section",children:[S.jsxs("div",{className:"profile-account-info",children:[S.jsx(jc,{size:16,style:{color:"var(--color-accent)"}}),S.jsx("span",{children:(n==null?void 0:n.email)||(n==null?void 0:n.phoneNumber)})]}),S.jsxs("button",{onClick:a,className:"btn btn-ghost profile-logout-btn",children:[S.jsx(T3,{size:18}),S.jsx("span",{children:"Logout"})]})]})]})}function W5({activeTab:n,onTabChange:t}){const e=[{id:"discover",label:"Discover",icon:yd},{id:"chat",label:"Chat",icon:hC},{id:"profile",label:"Profile",icon:Zv}];return S.jsx("nav",{className:"bottom-nav",children:e.map(s=>{const a=s.icon,l=n===s.id;return S.jsxs("button",{className:`bottom-nav-item ${l?"active":""}`,onClick:()=>t(s.id),children:[S.jsx(a,{size:22,fill:l?"currentColor":"none"}),S.jsx("span",{children:s.label})]},s.id)})})}function Z5(){const{userDoc:n}=Pc(),[t,e]=V.useState("discover");if(!n)return null;const s=!!n.currentMatchId;function a(c){e(c)}function l(){switch(t){case"discover":return s?S.jsxs("div",{className:"empty-state",children:[S.jsx("div",{className:"empty-state-icon",children:""}),S.jsx("h2",{children:"You're matched!"}),S.jsx("p",{children:"Go to Chat to start your conversation."}),S.jsx("button",{className:"btn btn-primary",style:{marginTop:"16px",padding:"12px 32px",justifyContent:"center"},onClick:()=>e("chat"),children:"Open Chat"})]}):S.jsx($5,{});case"chat":return S.jsx(Q5,{});case"profile":return S.jsx(X5,{});default:return null}}return S.jsxs("div",{className:"dashboard-shell",children:[S.jsxs("div",{className:"dashboard-bg",children:[S.jsx("div",{className:"ambient-orb orb-1",style:{opacity:.15}}),S.jsx("div",{className:"ambient-orb orb-2",style:{opacity:.08}})]}),S.jsx("header",{className:"dashboard-top-bar",children:S.jsxs("div",{className:"dashboard-brand",children:[S.jsx(jc,{size:18,style:{color:"var(--color-accent)"}}),S.jsx("span",{className:"dashboard-title",children:"Blindly"})]})}),S.jsx("main",{className:"dashboard-main",children:l()}),S.jsx(W5,{activeTab:t,onTabChange:a})]})}function tx({children:n}){const{currentUser:t}=Pc();return t?n:S.jsx(Aw,{to:"/auth",replace:!0})}function J5({children:n}){const{currentUser:t,userDoc:e,loading:s}=Pc(),a=Ga();return V.useEffect(()=>{if(s||!t)return;(!e||!e.onboardingCompleted)&&a("/onboarding",{replace:!0})},[t,e,s,a]),s?S.jsx("div",{className:"loading-screen",children:S.jsx(ll,{className:"animate-spin",size:32})}):!e||!e.onboardingCompleted?S.jsx("div",{className:"loading-screen",children:S.jsx(ll,{className:"animate-spin",size:32})}):n}function tz(){return S.jsx(tx,{children:S.jsx(J5,{children:S.jsx("div",{className:"app-shell",children:S.jsx(LD,{})})})})}function ez(){return S.jsx(_N,{children:S.jsx(JL,{children:S.jsx(uN,{children:S.jsxs(UD,{children:[S.jsx(xa,{path:"/",element:S.jsx(z3,{})}),S.jsx(xa,{path:"/auth",element:S.jsx(F3,{})}),S.jsx(xa,{path:"/onboarding",element:S.jsx(tx,{children:S.jsx(X3,{})})}),S.jsx(xa,{path:"/app",element:S.jsx(tz,{}),children:S.jsx(xa,{index:!0,element:S.jsx(Z5,{})})}),S.jsx(xa,{path:"*",element:S.jsx(Aw,{to:"/",replace:!0})})]})})})})}U2.createRoot(document.getElementById("root")).render(S.jsx(N2.StrictMode,{children:S.jsx(ez,{})}));
